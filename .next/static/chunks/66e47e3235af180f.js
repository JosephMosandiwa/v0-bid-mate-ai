(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,189691,e=>{"use strict";let r=(0,e.i(197140).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],189691)},492313,e=>{"use strict";let r=(0,e.i(197140).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>r],492313)},287336,e=>{"use strict";var r=e.i(375298),a=e.i(769107),t=e.i(457831),s=e.i(4943),n="Progress",[i,l]=(0,t.createContextScope)(n),[d,c]=i(n),o=a.forwardRef((e,a)=>{var t,n;let{__scopeProgress:i,value:l=null,max:c,getValueLabel:o=x,...u}=e;(c||0===c)&&!f(c)&&console.error((t=`${c}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=f(c)?c:100;null===l||v(l,m)||console.error((n=`${l}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let j=v(l,m)?l:null,g=h(j)?o(j,m):void 0;return(0,r.jsx)(d,{scope:i,value:j,max:m,children:(0,r.jsx)(s.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":h(j)?j:void 0,"aria-valuetext":g,role:"progressbar","data-state":p(j,m),"data-value":j??void 0,"data-max":m,...u,ref:a})})});o.displayName=n;var u="ProgressIndicator",m=a.forwardRef((e,a)=>{let{__scopeProgress:t,...n}=e,i=c(u,t);return(0,r.jsx)(s.Primitive.div,{"data-state":p(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:a})});function x(e,r){return`${Math.round(e/r*100)}%`}function p(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function h(e){return"number"==typeof e}function f(e){return h(e)&&!isNaN(e)&&e>0}function v(e,r){return h(e)&&!isNaN(e)&&e<=r&&e>=0}m.displayName=u;var j=e.i(647163);function g({className:e,value:a,...t}){return(0,r.jsx)(o,{"data-slot":"progress",className:(0,j.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,r.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}e.s(["Progress",()=>g],287336)},236159,e=>{"use strict";let r=(0,e.i(197140).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>r],236159)},595287,(e,r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t={callServer:function(){return n.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var s in t)Object.defineProperty(a,s,{enumerable:!0,get:t[s]});let n=e.r(210755),i=e.r(109019),l=e.r(634245)},970065,e=>{"use strict";var r=e.i(375298),a=e.i(647163);function t({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function s({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}function d({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>l,"CardDescription",()=>i,"CardFooter",()=>d,"CardHeader",()=>s,"CardTitle",()=>n])},692626,e=>{"use strict";let r=(0,e.i(197140).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],692626)},718633,e=>{"use strict";let r=(0,e.i(197140).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>r],718633)},550530,e=>{"use strict";function r(e,a="zar"){return new Intl.NumberFormat("en-ZA",{style:"currency",currency:a.toUpperCase()}).format(e/100)}e.s(["PRODUCTS",0,[{id:"starter",name:"Starter",description:"Perfect for small businesses",priceInCents:49900,currency:"zar",features:["5 tender analyses per month","Basic AI assistance","Tender search access","Email support"]},{id:"professional",name:"Professional",description:"For growing businesses",priceInCents:149900,currency:"zar",popular:!0,features:["25 tender analyses per month","Advanced AI assistance","Unlimited tender searches","Team collaboration (5 users)","Priority support"]},{id:"enterprise",name:"Enterprise",description:"For large organizations",priceInCents:0,currency:"zar",features:["Unlimited tender analyses","Custom AI training","Unlimited users","Dedicated account manager","24/7 phone support"]}],"formatPrice",()=>r])},53199,e=>{"use strict";var r=e.i(375298),a=e.i(769107),t=e.i(167881),s=e.i(970065),n=e.i(994179),i=e.i(718633),l=e.i(692626),d=e.i(550530),c=e.i(595287),o=(0,c.createServerReference)("400d3e5446bb4e6e4e1644b829623d730024cd0d12",c.callServer,void 0,c.findSourceMapURL,"createCheckoutSession"),u=e.i(800383);function m({currentPlan:e,showCurrentPlan:c=!1}){let m=(0,u.useRouter)(),[x,p]=(0,a.useState)(null),h=async e=>{if("enterprise"===e)return void m.push("/contact");p(e);try{let r=await o(e);window.location.href=r}catch(e){console.error("[v0] Failed to create checkout session:",e),alert("Failed to start checkout. Please try again."),p(null)}};return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:d.PRODUCTS.map(a=>{let o=c&&e===a.id,u="enterprise"===a.id;return(0,r.jsxs)(s.Card,{className:`relative ${a.popular?"border-primary border-2":"border-border"}`,children:[a.popular&&(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-primary text-primary-foreground text-xs font-medium rounded-full",children:"Most Popular"}),o&&(0,r.jsx)("div",{className:"absolute -top-3 right-4 px-3 py-1 bg-green-500 text-white text-xs font-medium rounded-full",children:"Current Plan"}),(0,r.jsxs)(s.CardHeader,{children:[(0,r.jsxs)(s.CardTitle,{className:"flex items-center justify-between",children:[a.name,a.popular&&(0,r.jsx)(n.Badge,{variant:"secondary",children:"Popular"})]}),(0,r.jsx)(s.CardDescription,{children:a.description}),(0,r.jsx)("div",{className:"mt-4",children:u?(0,r.jsx)("span",{className:"text-4xl font-bold text-foreground",children:"Custom"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-4xl font-bold text-foreground",children:(0,d.formatPrice)(a.priceInCents)}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"/month"})]})})]}),(0,r.jsxs)(s.CardContent,{children:[(0,r.jsx)("ul",{className:"space-y-3 mb-6",children:a.features.map((e,a)=>(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)(i.CheckCircle2,{className:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:e})]},a))}),(0,r.jsx)(t.Button,{className:`w-full ${a.popular?"":"bg-transparent"}`,variant:a.popular?"default":"outline",onClick:()=>h(a.id),disabled:x===a.id||o,children:x===a.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):o?"Current Plan":u?"Contact Sales":"Subscribe with Stripe"})]})]},a.id)})})})}e.s(["PricingPlans",()=>m],53199)},384283,e=>{"use strict";let r=(0,e.i(197140).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>r],384283)},378961,e=>{"use strict";var r=e.i(375298),a=e.i(769107),t=e.i(970065),s=e.i(167881),n=e.i(994179),i=e.i(492313),l=e.i(236159),d=e.i(931454),c=e.i(692626),o=e.i(550530);function u(){let[e,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{!async function(){try{let e=await fetch("/api/invoices"),r=await e.json();u(r.invoices||[])}catch(e){console.error("[v0] Failed to fetch invoices:",e)}finally{x(!1)}}()},[]),m)?(0,r.jsxs)(t.Card,{children:[(0,r.jsxs)(t.CardHeader,{children:[(0,r.jsxs)(t.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(d.FileText,{className:"h-5 w-5"}),"Invoices"]}),(0,r.jsx)(t.CardDescription,{children:"Your billing history and invoices"})]}),(0,r.jsx)(t.CardContent,{children:(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(c.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}):(0,r.jsxs)(t.Card,{children:[(0,r.jsxs)(t.CardHeader,{children:[(0,r.jsxs)(t.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(d.FileText,{className:"h-5 w-5"}),"Invoices"]}),(0,r.jsx)(t.CardDescription,{children:"Your billing history and invoices"})]}),(0,r.jsx)(t.CardContent,{children:0===e.length?(0,r.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No invoices found"}):(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium",children:e.number||"Invoice"}),(0,r.jsx)(n.Badge,{variant:"paid"===e.status?"default":"open"===e.status?"secondary":"destructive",children:e.status})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[new Date(1e3*e.created).toLocaleDateString()," â€¢"," ",(0,o.formatPrice)(e.amount,e.currency)]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Period: ",new Date(1e3*e.period_start).toLocaleDateString()," -"," ",new Date(1e3*e.period_end).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.invoice_pdf&&(0,r.jsx)(s.Button,{variant:"outline",size:"sm",asChild:!0,className:"bg-transparent",children:(0,r.jsxs)("a",{href:e.invoice_pdf,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(i.Download,{className:"h-4 w-4 mr-2"}),"PDF"]})}),e.hosted_invoice_url&&(0,r.jsx)(s.Button,{variant:"outline",size:"sm",asChild:!0,className:"bg-transparent",children:(0,r.jsxs)("a",{href:e.hosted_invoice_url,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(l.ExternalLink,{className:"h-4 w-4 mr-2"}),"View"]})})]})]},e.id))})})]})}e.s(["InvoiceList",()=>u])},454653,e=>{"use strict";var r=e.i(375298),a=e.i(769107),t=e.i(970065),s=e.i(167881),n=e.i(994179),i=e.i(384283),l=e.i(692626),d=e.i(189691),c=e.i(595287),o=(0,c.createServerReference)("005f4ecbe5fd35b8b73b268ca6d8077607ff38f435",c.callServer,void 0,c.findSourceMapURL,"createCustomerPortalSession");function u(){let[e,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[x,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!async function(){try{let e=await fetch("/api/payment-methods"),r=await e.json();c(r.paymentMethods||[])}catch(e){console.error("[v0] Failed to fetch payment methods:",e)}finally{m(!1)}}()},[]);let h=async()=>{p(!0);try{let e=await o();window.location.href=e}catch(e){console.error("[v0] Failed to open customer portal:",e),p(!1)}};return u?(0,r.jsxs)(t.Card,{children:[(0,r.jsxs)(t.CardHeader,{children:[(0,r.jsxs)(t.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(i.CreditCard,{className:"h-5 w-5"}),"Payment Methods"]}),(0,r.jsx)(t.CardDescription,{children:"Manage your payment methods"})]}),(0,r.jsx)(t.CardContent,{children:(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(l.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}):(0,r.jsxs)(t.Card,{children:[(0,r.jsxs)(t.CardHeader,{children:[(0,r.jsxs)(t.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(i.CreditCard,{className:"h-5 w-5"}),"Payment Methods"]}),(0,r.jsx)(t.CardDescription,{children:"Manage your payment methods and billing information"})]}),(0,r.jsx)(t.CardContent,{children:0===e.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"No payment methods on file"}),(0,r.jsx)(s.Button,{onClick:h,disabled:x,children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Redirecting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Plus,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[e.map(e=>{var a;let t;return(0,r.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"text-2xl",children:(a=e.brand,"visa"===(t=a?.toLowerCase()),"ðŸ’³")}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium capitalize",children:e.brand||"Card"}),(0,r.jsxs)("span",{className:"text-muted-foreground",children:["â€¢â€¢â€¢â€¢ ",e.last4]}),e.is_default&&(0,r.jsx)(n.Badge,{variant:"secondary",children:"Default"})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Expires ",e.exp_month,"/",e.exp_year]})]})]})},e.id)}),(0,r.jsx)(s.Button,{onClick:h,variant:"outline",className:"w-full bg-transparent",disabled:x,children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Redirecting..."]}):"Manage Payment Methods"})]})})]})}e.s(["PaymentMethods",()=>u],454653)}]);