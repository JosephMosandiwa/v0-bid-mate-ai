module.exports=[703130,a=>{"use strict";var b=a.i(526689),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},861084,a=>{"use strict";let b=(0,a.i(550349).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],861084)},265602,a=>{"use strict";var b=a.i(526689),c=a.i(142261),d=a.i(497895);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-title",className:(0,d.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}a.s(["Alert",()=>f,"AlertDescription",()=>h,"AlertTitle",()=>g])},100715,a=>{"use strict";let b=(0,a.i(550349).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],100715)},979745,a=>{"use strict";let b=(0,a.i(550349).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],979745)},963003,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(340695),e=a.i(703130),f=a.i(269240),g=a.i(256142),h=a.i(100715),i=a.i(861084),j=a.i(979745),k=a.i(550349);let l=(0,k.default)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),m=(0,k.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var n=a.i(294411),o=a.i(254161),p=a.i(265602);function q(){let a=(0,f.createClient)(),k=(0,n.useRouter)(),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{let{data:{user:b}}=await a.auth.getUser();b?(v(b),w(b)):k.push("/login")})()},[k]);let w=async b=>{try{let{data:c,error:d}=await a.from("companies").select("*").eq("user_id",b.id).eq("is_archived",!1).order("is_primary",{ascending:!1}).order("created_at",{ascending:!1});if(d)throw d;t(c||[])}catch(a){console.error("Error loading companies:",a)}finally{r(!1)}},x=async b=>{try{let{error:c}=await a.from("companies").update({is_primary:!0}).eq("id",b);if(c)throw c;u&&w(u),alert("Primary company updated!")}catch(a){console.error("Error setting primary company:",a),alert("Failed to update primary company")}},y=async b=>{if(confirm("Are you sure you want to archive this company?"))try{let{error:c}=await a.from("companies").update({is_archived:!0}).eq("id",b);if(c)throw c;u&&w(u),alert("Company archived successfully!")}catch(a){console.error("Error archiving company:",a),alert("Failed to archive company")}};return q?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"container max-w-6xl py-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Company Profiles"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage multiple companies and their compliance information"})]}),(0,b.jsxs)(d.Button,{onClick:()=>k.push("/dashboard/companies/new"),children:[(0,b.jsx)(h.Plus,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),0===s.length?(0,b.jsxs)(p.Alert,{children:[(0,b.jsx)(g.Building2,{className:"h-4 w-4"}),(0,b.jsx)(p.AlertDescription,{children:"No companies added yet. Add your first company to start managing tenders."})]}):(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(a=>(0,b.jsxs)(e.Card,{className:"relative",children:[a.is_primary&&(0,b.jsx)("div",{className:"absolute top-4 right-4",children:(0,b.jsxs)(o.Badge,{variant:"default",className:"flex items-center gap-1",children:[(0,b.jsx)(j.Star,{className:"h-3 w-3 fill-current"}),"Primary"]})}),(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,b.jsx)(g.Building2,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:a.company_name}),(0,b.jsx)(e.CardDescription,{className:"mt-1",children:a.industry?a.industry.charAt(0).toUpperCase()+a.industry.slice(1):"No industry"})]})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-2 text-sm",children:[a.registration_number&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Registration:"}),(0,b.jsx)("span",{className:"font-medium",children:a.registration_number})]}),a.bee_status&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"BEE Level:"}),(0,b.jsx)("span",{className:"font-medium",children:a.bee_status})]}),a.province&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Province:"}),(0,b.jsx)("span",{className:"font-medium capitalize",children:a.province.replace(/-/g," ")})]})]}),(0,b.jsxs)(e.CardFooter,{className:"flex gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>k.push(`/dashboard/companies/${a.id}`),children:[(0,b.jsx)(m,{className:"h-3 w-3 mr-1"}),"Edit"]}),!a.is_primary&&(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>x(a.id),children:(0,b.jsx)(j.Star,{className:"h-3 w-3"})}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>y(a.id),children:(0,b.jsx)(l,{className:"h-3 w-3"})})]})]},a.id))})]})}a.s(["default",()=>q],963003)}];

//# sourceMappingURL=_4d671f18._.js.map