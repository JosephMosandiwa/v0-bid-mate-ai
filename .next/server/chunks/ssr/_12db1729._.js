module.exports=[100715,a=>{"use strict";let b=(0,a.i(550349).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],100715)},318851,a=>{"use strict";let b=(0,a.i(550349).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],318851)},602150,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(151549),e=a.i(930138),f="Progress",[g,h]=(0,d.createContextScope)(f),[i,j]=g(f),k=c.forwardRef((a,c)=>{var d,f;let{__scopeProgress:g,value:h=null,max:j,getValueLabel:k=n,...l}=a;(j||0===j)&&!q(j)&&console.error((d=`${j}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=q(j)?j:100;null===h||r(h,m)||console.error((f=`${h}`,`Invalid prop \`value\` of value \`${f}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let s=r(h,m)?h:null,t=p(s)?k(s,m):void 0;return(0,b.jsx)(i,{scope:g,value:s,max:m,children:(0,b.jsx)(e.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(s)?s:void 0,"aria-valuetext":t,role:"progressbar","data-state":o(s,m),"data-value":s??void 0,"data-max":m,...l,ref:c})})});k.displayName=f;var l="ProgressIndicator",m=c.forwardRef((a,c)=>{let{__scopeProgress:d,...f}=a,g=j(l,d);return(0,b.jsx)(e.Primitive.div,{"data-state":o(g.value,g.max),"data-value":g.value??void 0,"data-max":g.max,...f,ref:c})});function n(a,b){return`${Math.round(a/b*100)}%`}function o(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function p(a){return"number"==typeof a}function q(a){return p(a)&&!isNaN(a)&&a>0}function r(a,b){return p(a)&&!isNaN(a)&&a<=b&&a>=0}m.displayName=l;var s=a.i(497895);function t({className:a,value:c,...d}){return(0,b.jsx)(k,{"data-slot":"progress",className:(0,s.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:(0,b.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})})}a.s(["Progress",()=>t],602150)},600082,a=>{"use strict";let b=(0,a.i(550349).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],600082)},112160,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(101121),g=a.r(612851),h=a.r(17837)},703130,a=>{"use strict";var b=a.i(526689),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},861084,a=>{"use strict";let b=(0,a.i(550349).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],861084)},674375,a=>{"use strict";let b=(0,a.i(550349).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],674375)},411343,a=>{"use strict";function b(a,c="zar"){return new Intl.NumberFormat("en-ZA",{style:"currency",currency:c.toUpperCase()}).format(a/100)}a.s(["PRODUCTS",0,[{id:"starter",name:"Starter",description:"Perfect for small businesses",priceInCents:49900,currency:"zar",features:["5 tender analyses per month","Basic AI assistance","Tender search access","Email support"]},{id:"professional",name:"Professional",description:"For growing businesses",priceInCents:149900,currency:"zar",popular:!0,features:["25 tender analyses per month","Advanced AI assistance","Unlimited tender searches","Team collaboration (5 users)","Priority support"]},{id:"enterprise",name:"Enterprise",description:"For large organizations",priceInCents:0,currency:"zar",features:["Unlimited tender analyses","Custom AI training","Unlimited users","Dedicated account manager","24/7 phone support"]}],"formatPrice",()=>b])},140847,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(340695),e=a.i(703130),f=a.i(254161),g=a.i(674375),h=a.i(861084),i=a.i(411343),j=a.i(112160),k=(0,j.createServerReference)("400d3e5446bb4e6e4e1644b829623d730024cd0d12",j.callServer,void 0,j.findSourceMapURL,"createCheckoutSession"),l=a.i(294411);function m({currentPlan:a,showCurrentPlan:j=!1}){let m=(0,l.useRouter)(),[n,o]=(0,c.useState)(null),p=async a=>{if("enterprise"===a)return void m.push("/contact");o(a);try{let b=await k(a);window.location.href=b}catch(a){console.error("[v0] Failed to create checkout session:",a),alert("Failed to start checkout. Please try again."),o(null)}};return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:i.PRODUCTS.map(c=>{let k=j&&a===c.id,l="enterprise"===c.id;return(0,b.jsxs)(e.Card,{className:`relative ${c.popular?"border-primary border-2":"border-border"}`,children:[c.popular&&(0,b.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-primary text-primary-foreground text-xs font-medium rounded-full",children:"Most Popular"}),k&&(0,b.jsx)("div",{className:"absolute -top-3 right-4 px-3 py-1 bg-green-500 text-white text-xs font-medium rounded-full",children:"Current Plan"}),(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center justify-between",children:[c.name,c.popular&&(0,b.jsx)(f.Badge,{variant:"secondary",children:"Popular"})]}),(0,b.jsx)(e.CardDescription,{children:c.description}),(0,b.jsx)("div",{className:"mt-4",children:l?(0,b.jsx)("span",{className:"text-4xl font-bold text-foreground",children:"Custom"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-4xl font-bold text-foreground",children:(0,i.formatPrice)(c.priceInCents)}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"/month"})]})})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("ul",{className:"space-y-3 mb-6",children:c.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:a})]},c))}),(0,b.jsx)(d.Button,{className:`w-full ${c.popular?"":"bg-transparent"}`,variant:c.popular?"default":"outline",onClick:()=>p(c.id),disabled:n===c.id||k,children:n===c.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):k?"Current Plan":l?"Contact Sales":"Subscribe with Stripe"})]})]},c.id)})})})}a.s(["PricingPlans",()=>m],140847)},850462,a=>{"use strict";let b=(0,a.i(550349).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],850462)},989597,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(703130),e=a.i(340695),f=a.i(254161),g=a.i(318851),h=a.i(600082),i=a.i(197665),j=a.i(861084),k=a.i(411343);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/invoices"),b=await a.json();l(b.invoices||[])}catch(a){console.error("[v0] Failed to fetch invoices:",a)}finally{n(!1)}}()},[]),m)?(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"h-5 w-5"}),"Invoices"]}),(0,b.jsx)(d.CardDescription,{children:"Your billing history and invoices"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(j.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}):(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"h-5 w-5"}),"Invoices"]}),(0,b.jsx)(d.CardDescription,{children:"Your billing history and invoices"})]}),(0,b.jsx)(d.CardContent,{children:0===a.length?(0,b.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No invoices found"}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium",children:a.number||"Invoice"}),(0,b.jsx)(f.Badge,{variant:"paid"===a.status?"default":"open"===a.status?"secondary":"destructive",children:a.status})]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[new Date(1e3*a.created).toLocaleDateString()," â€¢"," ",(0,k.formatPrice)(a.amount,a.currency)]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Period: ",new Date(1e3*a.period_start).toLocaleDateString()," -"," ",new Date(1e3*a.period_end).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.invoice_pdf&&(0,b.jsx)(e.Button,{variant:"outline",size:"sm",asChild:!0,className:"bg-transparent",children:(0,b.jsxs)("a",{href:a.invoice_pdf,target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)(g.Download,{className:"h-4 w-4 mr-2"}),"PDF"]})}),a.hosted_invoice_url&&(0,b.jsx)(e.Button,{variant:"outline",size:"sm",asChild:!0,className:"bg-transparent",children:(0,b.jsxs)("a",{href:a.hosted_invoice_url,target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)(h.ExternalLink,{className:"h-4 w-4 mr-2"}),"View"]})})]})]},a.id))})})]})}a.s(["InvoiceList",()=>l])},61779,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(703130),e=a.i(340695),f=a.i(254161),g=a.i(850462),h=a.i(861084),i=a.i(100715),j=a.i(112160),k=(0,j.createServerReference)("005f4ecbe5fd35b8b73b268ca6d8077607ff38f435",j.callServer,void 0,j.findSourceMapURL,"createCustomerPortalSession");function l(){let[a,j]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/payment-methods"),b=await a.json();j(b.paymentMethods||[])}catch(a){console.error("[v0] Failed to fetch payment methods:",a)}finally{m(!1)}}()},[]);let p=async()=>{o(!0);try{let a=await k();window.location.href=a}catch(a){console.error("[v0] Failed to open customer portal:",a),o(!1)}};return l?(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.CreditCard,{className:"h-5 w-5"}),"Payment Methods"]}),(0,b.jsx)(d.CardDescription,{children:"Manage your payment methods"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(h.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}):(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.CreditCard,{className:"h-5 w-5"}),"Payment Methods"]}),(0,b.jsx)(d.CardDescription,{children:"Manage your payment methods and billing information"})]}),(0,b.jsx)(d.CardContent,{children:0===a.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No payment methods on file"}),(0,b.jsx)(e.Button,{onClick:p,disabled:n,children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Redirecting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Plus,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[a.map(a=>{var c;let d;return(0,b.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"text-2xl",children:(c=a.brand,"visa"===(d=c?.toLowerCase()),"ðŸ’³")}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium capitalize",children:a.brand||"Card"}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["â€¢â€¢â€¢â€¢ ",a.last4]}),a.is_default&&(0,b.jsx)(f.Badge,{variant:"secondary",children:"Default"})]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Expires ",a.exp_month,"/",a.exp_year]})]})]})},a.id)}),(0,b.jsx)(e.Button,{onClick:p,variant:"outline",className:"w-full bg-transparent",disabled:n,children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Redirecting..."]}):"Manage Payment Methods"})]})})]})}a.s(["PaymentMethods",()=>l],61779)}];

//# sourceMappingURL=_12db1729._.js.map