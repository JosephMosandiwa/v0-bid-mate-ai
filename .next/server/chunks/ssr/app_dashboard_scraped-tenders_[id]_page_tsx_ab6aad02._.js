module.exports=[410701,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(703130),e=a.i(340695),f=a.i(254161),g=a.i(265602),h=a.i(197665),i=a.i(318851),j=a.i(600082),k=a.i(861084),l=a.i(949191),m=a.i(435483),n=a.i(256142),o=a.i(738611),p=a.i(221191),q=a.i(674375),r=a.i(926437),s=a.i(686372),t=a.i(550349);let u=(0,t.default)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var v=a.i(246200);let w=(0,t.default)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var x=a.i(991282);let y=(0,t.default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),z=(0,t.default)("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]),A=(0,t.default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var B=a.i(167305),C=a.i(322409),D=a.i(277687),E=a.i(602150),F=a.i(497895),G=a.i(438579);let H=(0,t.default)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),I=(0,t.default)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),J=(0,t.default)("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);var K=a.i(109759),L=a.i(765393);let M=[{key:"reviewing",label:"Reviewing",icon:G.FileSearch,percent:20},{key:"analyzing",label:"Analyzing",icon:H,percent:40},{key:"planning",label:"Planning",icon:I,percent:60},{key:"preparing",label:"Preparing Response",icon:J,percent:80},{key:"ready",label:"Ready to Submit",icon:K.Send,percent:95},{key:"submitted",label:"Submitted",icon:q.CheckCircle2,percent:100}],N={reviewing:{color:"bg-blue-500",icon:G.FileSearch,label:"Under Review"},analyzing:{color:"bg-purple-500",icon:H,label:"Analyzing"},planning:{color:"bg-indigo-500",icon:I,label:"Planning"},preparing:{color:"bg-orange-500",icon:J,label:"Preparing"},ready:{color:"bg-green-500",icon:K.Send,label:"Ready"},submitted:{color:"bg-emerald-500",icon:q.CheckCircle2,label:"Submitted"},awarded:{color:"bg-green-600",icon:q.CheckCircle2,label:"Awarded"},rejected:{color:"bg-red-500",icon:L.XCircle,label:"Not Awarded"},withdrawn:{color:"bg-gray-500",icon:l.AlertCircle,label:"Withdrawn"}};function O({status:a="reviewing",progressPercent:c=0,lastUpdate:e,submissionDate:g,outcome:h,className:i}){let j=N[a]||N.reviewing,k=j.icon;return(0,b.jsxs)(d.Card,{className:(0,F.cn)("border-primary/20",i),children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Tender Progress"}),(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:[(0,b.jsx)(k,{className:"h-3 w-3"}),j.label]})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Completion"}),(0,b.jsxs)("span",{className:"font-medium",children:[c,"%"]})]}),(0,b.jsx)(E.Progress,{value:c,className:"h-2"})]}),(0,b.jsx)("div",{className:"space-y-2",children:M.map(d=>{let e=d.icon,g=a===d.key,h=c>=d.percent,i=c<d.percent;return(0,b.jsxs)("div",{className:(0,F.cn)("flex items-center gap-3 p-2 rounded-lg transition-colors",g&&"bg-primary/10",h&&!g&&"opacity-60",i&&"opacity-40"),children:[(0,b.jsx)("div",{className:(0,F.cn)("h-8 w-8 rounded-full flex items-center justify-center transition-colors",h?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:h?(0,b.jsx)(q.CheckCircle2,{className:"h-4 w-4"}):(0,b.jsx)(e,{className:"h-4 w-4"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("p",{className:(0,F.cn)("text-sm font-medium",g&&"text-primary"),children:d.label})}),g&&(0,b.jsx)(f.Badge,{variant:"outline",className:"text-xs",children:"Current"})]},d.key)})}),(0,b.jsxs)("div",{className:"pt-2 space-y-2 text-xs text-muted-foreground border-t",children:[e&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(B.Clock,{className:"h-3 w-3"}),"Last Updated"]}),(0,b.jsx)("span",{children:new Date(e).toLocaleDateString()})]}),g&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(K.Send,{className:"h-3 w-3"}),"Submitted"]}),(0,b.jsx)("span",{children:new Date(g).toLocaleDateString()})]}),h&&(0,b.jsxs)("div",{className:"flex items-center justify-between font-medium",children:[(0,b.jsx)("span",{children:"Outcome"}),(0,b.jsx)(f.Badge,{variant:"awarded"===h?"default":"destructive",children:"awarded"===h?"Awarded":"Not Awarded"})]})]})]})]})}var P=a.i(136727),Q=a.i(26638),R=a.i(917171),S=a.i(621958),T=a.i(588237),U=a.i(307379),V=a.i(583958),W=a.i(506702),X=a.i(632595),Y=a.i(509583);function Z({tenderId:a,tenderType:h,tenderTitle:j,tenderDescription:m,analysisData:n,projectPlan:p,onBoqUpdate:r}){let[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!0),[w,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),{toast:B}=(0,D.useToast)();(0,c.useEffect)(()=>{C()},[a]);let C=async()=>{try{v(!0);let b=await fetch(`/api/strategist/boq?tenderId=${a}&tenderType=${h}`);if(b.ok){let{boq:a}=await b.json();a&&t(a)}}catch(a){console.error("[BOQManager] Error loading BOQ:",a)}finally{v(!1)}},E=async()=>{try{y(!0),B({title:"Generating BOQ",description:"AI is creating your detailed Bill of Quantities..."});let b=await fetch("/api/strategist/boq",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenderId:a,tenderType:h,tenderTitle:j,tenderDescription:m,analysisData:n,projectPlan:p})});if(!b.ok)throw Error("Failed to generate BOQ");let{boq:c}=await b.json();t(c),r&&r(c),B({title:"BOQ Generated",description:"Your Bill of Quantities has been created successfully"})}catch(a){console.error("[BOQManager] Error generating BOQ:",a),B({title:"Error",description:"Failed to generate BOQ",variant:"destructive"})}finally{y(!1)}};return u?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading financial plan..."})]})}):s?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Calculator,{className:"h-5 w-5"}),"Financial Planning & BOQ"]}),(0,b.jsx)(d.CardDescription,{children:"Comprehensive cost analysis and pricing strategy"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>{if(!s)return;let b="Item No,Description,Unit,Quantity,Unit Rate (ZAR),Amount (ZAR),Category,Notes\n";s.boq_items.forEach(a=>{b+=`"${a.item_no}","${a.description}","${a.unit}",${a.quantity},${a.unit_rate},${a.amount},"${a.category}","${a.notes||""}"
`});let c=new Blob([b+=`
,,,,,,,
,,,,Subtotal,${s.subtotal},,
,,,,Contingency (${s.contingency_percent}%),${s.contingency_amount},,
,,,,Profit Margin (${s.profit_margin_percent}%),${s.profit_amount},,
,,,,VAT (${s.vat_percent}%),${s.vat_amount},,
,,,,TOTAL,${s.total_amount},,
`],{type:"text/csv"}),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`boq_${a}.csv`,document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(d),document.body.removeChild(e),B({title:"Exported",description:"BOQ has been exported to CSV"})},children:[(0,b.jsx)(i.Download,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:E,disabled:w,children:[w?(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(W.RefreshCw,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]})]})})}),(0,b.jsxs)(S.Tabs,{defaultValue:"boq",className:"space-y-4",children:[(0,b.jsxs)(S.TabsList,{className:"grid w-full grid-cols-5",children:[(0,b.jsx)(S.TabsTrigger,{value:"boq",children:"BOQ"}),(0,b.jsx)(S.TabsTrigger,{value:"pricing",children:"Pricing Strategy"}),(0,b.jsx)(S.TabsTrigger,{value:"costs",children:"Cost Breakdown"}),(0,b.jsx)(S.TabsTrigger,{value:"cashflow",children:"Cash Flow"}),(0,b.jsx)(S.TabsTrigger,{value:"profitability",children:"Profitability"})]}),(0,b.jsx)(S.TabsContent,{value:"boq",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Bill of Quantities"}),(0,b.jsxs)(d.CardDescription,{children:[s.boq_items.length," line items"]})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(T.Table,{children:[(0,b.jsx)(T.TableHeader,{children:(0,b.jsxs)(T.TableRow,{children:[(0,b.jsx)(T.TableHead,{className:"w-[80px]",children:"Item No"}),(0,b.jsx)(T.TableHead,{children:"Description"}),(0,b.jsx)(T.TableHead,{children:"Category"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Unit"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Qty"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Rate"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Amount"})]})}),(0,b.jsx)(T.TableBody,{children:s.boq_items.map((a,c)=>(0,b.jsxs)(T.TableRow,{children:[(0,b.jsx)(T.TableCell,{className:"font-medium",children:a.item_no}),(0,b.jsx)(T.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.description}),a.notes&&(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:a.notes})]})}),(0,b.jsx)(T.TableCell,{children:(0,b.jsx)(f.Badge,{variant:"outline",children:a.category})}),(0,b.jsx)(T.TableCell,{className:"text-right",children:a.unit}),(0,b.jsx)(T.TableCell,{className:"text-right",children:a.quantity}),(0,b.jsx)(T.TableCell,{className:"text-right",children:(0,Y.formatZAR)(a.unit_rate)}),(0,b.jsx)(T.TableCell,{className:"text-right font-medium",children:(0,Y.formatZAR)(a.amount)})]},c))})]})}),(0,b.jsx)(U.Separator,{className:"my-6"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"Subtotal"}),(0,b.jsx)("span",{className:"text-lg font-semibold",children:(0,Y.formatZAR)(s.subtotal)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-muted-foreground",children:[(0,b.jsxs)("span",{className:"text-sm",children:["Contingency (",s.contingency_percent,"%)"]}),(0,b.jsx)("span",{className:"text-sm",children:(0,Y.formatZAR)(s.contingency_amount)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-muted-foreground",children:[(0,b.jsxs)("span",{className:"text-sm",children:["Profit Margin (",s.profit_margin_percent,"%)"]}),(0,b.jsx)("span",{className:"text-sm",children:(0,Y.formatZAR)(s.profit_amount)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-muted-foreground",children:[(0,b.jsxs)("span",{className:"text-sm",children:["VAT (",s.vat_percent,"%)"]}),(0,b.jsx)("span",{className:"text-sm",children:(0,Y.formatZAR)(s.vat_amount)})]}),(0,b.jsx)(U.Separator,{}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-lg font-bold",children:"Total Tender Price"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-primary",children:(0,Y.formatZAR)(s.total_amount)})]})]})]})]})}),(0,b.jsx)(S.TabsContent,{value:"pricing",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Pricing Strategy"}),(0,b.jsx)(d.CardDescription,{children:"Strategic approach to tender pricing"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Strategy Type"}),(0,b.jsx)("p",{className:"text-lg font-semibold capitalize mt-1",children:s.pricing_strategy.strategy_type?.replace("_"," ")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Risk Premium"}),(0,b.jsxs)("p",{className:"text-lg font-semibold mt-1",children:[s.pricing_strategy.risk_premium_percent,"%"]})]}),s.pricing_strategy.discount_offered_percent&&(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Discount Offered"}),(0,b.jsxs)("p",{className:"text-lg font-semibold text-green-600 mt-1",children:[s.pricing_strategy.discount_offered_percent,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Payment Terms"}),(0,b.jsx)("p",{className:"text-lg font-semibold mt-1",children:s.pricing_strategy.payment_terms})]})]}),(0,b.jsx)(U.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Competitive Analysis"}),(0,b.jsx)("p",{className:"mt-2 text-sm leading-relaxed",children:s.pricing_strategy.competitive_analysis})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Pricing Rationale"}),(0,b.jsx)("p",{className:"mt-2 text-sm leading-relaxed",children:s.pricing_strategy.pricing_rationale})]})]})]})}),(0,b.jsxs)(S.TabsContent,{value:"costs",className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Direct Costs"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Labor"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.direct_costs.labor)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Materials"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.direct_costs.materials)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Equipment"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.direct_costs.equipment)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Subcontractors"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.direct_costs.subcontractors)})]}),(0,b.jsx)(U.Separator,{}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Total Direct"}),(0,b.jsx)("span",{className:"font-bold",children:(0,Y.formatZAR)(s.direct_costs.labor+s.direct_costs.materials+s.direct_costs.equipment+s.direct_costs.subcontractors)})]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Indirect Costs"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Overhead"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.indirect_costs.overhead)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Admin"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.indirect_costs.admin)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Transport"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.indirect_costs.transport)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Insurance"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.indirect_costs.insurance)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Certifications"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.indirect_costs.certifications)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Compliance"}),(0,b.jsx)("span",{className:"font-medium",children:(0,Y.formatZAR)(s.indirect_costs.compliance)})]}),(0,b.jsx)(U.Separator,{}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Total Indirect"}),(0,b.jsx)("span",{className:"font-bold",children:(0,Y.formatZAR)(s.indirect_costs.overhead+s.indirect_costs.admin+s.indirect_costs.transport+s.indirect_costs.insurance+s.indirect_costs.certifications+s.indirect_costs.compliance)})]})]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Break-Even Analysis"})}),(0,b.jsx)(d.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Break-Even Value"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-amber-600 mt-1",children:(0,Y.formatZAR)(s.break_even_analysis.break_even_value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Break-Even Timeline"}),(0,b.jsx)("p",{className:"text-lg font-semibold mt-1",children:s.break_even_analysis.break_even_timeline})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.Label,{className:"text-muted-foreground",children:"Profitability Threshold"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:s.break_even_analysis.profitability_threshold})]})]})})]})]}),(0,b.jsx)(S.TabsContent,{value:"cashflow",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Cash Flow Projection"}),(0,b.jsx)(d.CardDescription,{children:"Monthly cash flow for project duration"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(T.Table,{children:[(0,b.jsx)(T.TableHeader,{children:(0,b.jsxs)(T.TableRow,{children:[(0,b.jsx)(T.TableHead,{children:"Month"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Inflow"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Outflow"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Net Cash Flow"}),(0,b.jsx)(T.TableHead,{className:"text-right",children:"Cumulative"})]})}),(0,b.jsx)(T.TableBody,{children:s.cash_flow_projection.months.map(a=>(0,b.jsxs)(T.TableRow,{children:[(0,b.jsxs)(T.TableCell,{className:"font-medium",children:["Month ",a.month]}),(0,b.jsx)(T.TableCell,{className:"text-right text-green-600",children:(0,Y.formatZAR)(a.inflow)}),(0,b.jsx)(T.TableCell,{className:"text-right text-red-600",children:(0,Y.formatZAR)(a.outflow)}),(0,b.jsx)(T.TableCell,{className:`text-right font-medium ${a.net_cash_flow>=0?"text-green-600":"text-red-600"}`,children:(0,Y.formatZAR)(a.net_cash_flow)}),(0,b.jsx)(T.TableCell,{className:`text-right font-semibold ${a.cumulative_cash_flow>=0?"text-green-600":"text-red-600"}`,children:(0,Y.formatZAR)(a.cumulative_cash_flow)})]},a.month))})]})})})]})}),(0,b.jsx)(S.TabsContent,{value:"profitability",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Profitability Analysis"}),(0,b.jsx)(d.CardDescription,{children:"Financial performance metrics"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg border bg-muted/50",children:[(0,b.jsx)(V.TrendingUp,{className:"h-8 w-8 text-green-600 mb-2"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Gross Profit Margin"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[s.profitability_analysis.gross_profit_margin.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg border bg-muted/50",children:[(0,b.jsx)(o.DollarSign,{className:"h-8 w-8 text-blue-600 mb-2"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Net Profit Margin"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:[s.profitability_analysis.net_profit_margin.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg border bg-muted/50",children:[(0,b.jsx)(q.CheckCircle2,{className:"h-8 w-8 text-purple-600 mb-2"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"ROI"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[s.profitability_analysis.return_on_investment.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg border bg-muted/50",children:[(0,b.jsx)(X.FileSpreadsheet,{className:"h-8 w-8 text-amber-600 mb-2"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Payback Period"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-amber-600",children:[s.profitability_analysis.payback_period_months," mo"]})]})]}),(0,b.jsxs)(g.Alert,{className:"mt-6",children:[(0,b.jsx)(q.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsxs)(g.AlertDescription,{children:["This tender shows"," ",s.profitability_analysis.net_profit_margin>=15?"strong":s.profitability_analysis.net_profit_margin>=10?"moderate":"low"," ","profitability with a ",s.profitability_analysis.return_on_investment.toFixed(1),"% return on investment. Payback period is ",s.profitability_analysis.payback_period_months," months."]})]})]})]})})]})]}):(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Calculator,{className:"h-5 w-5"}),"Financial Planning & BOQ"]}),(0,b.jsx)(d.CardDescription,{children:"Generate a detailed Bill of Quantities, pricing strategy, and financial analysis"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)(g.Alert,{children:[(0,b.jsx)(l.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(g.AlertDescription,{children:"No BOQ exists yet. Generate one to get detailed cost breakdowns, pricing strategy, cash flow projections, and profitability analysis."})]}),(0,b.jsxs)(e.Button,{onClick:E,disabled:w,className:"w-full",children:[w&&(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Generate BOQ & Financial Plan"]})]})]})}var $=a.i(989638),_=a.i(621426);let aa=(0,t.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),ab=(0,t.default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);function ac({plan:a,className:c}){if(!a)return(0,b.jsx)(g.Alert,{children:(0,b.jsx)(g.AlertDescription,{children:"No project plan generated yet. Generate a plan to see comprehensive requirements."})});let e=a.estimated_budget?.total||0,i=a.estimated_timeline?.total_weeks||0;return(0,b.jsxs)("div",{className:(0,F.cn)("space-y-6",c),children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Budget"}),(0,b.jsx)(o.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["R ",e.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Including all costs"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Timeline"}),(0,b.jsx)(m.Calendar,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[i," weeks"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[a.estimated_timeline?.phases?.length||0," phases"]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Certifications"}),(0,b.jsx)(y,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.certifications_required?.length||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Required certificates"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Insurance"}),(0,b.jsx)(_.Shield,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.insurance_requirements?.length||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Policies needed"})]})]})]}),(0,b.jsxs)(S.Tabs,{defaultValue:"budget",className:"space-y-4",children:[(0,b.jsxs)(S.TabsList,{className:"grid w-full grid-cols-3 lg:grid-cols-6",children:[(0,b.jsx)(S.TabsTrigger,{value:"budget",children:"Budget"}),(0,b.jsx)(S.TabsTrigger,{value:"certifications",children:"Certifications"}),(0,b.jsx)(S.TabsTrigger,{value:"insurance",children:"Insurance"}),(0,b.jsx)(S.TabsTrigger,{value:"compliance",children:"Compliance"}),(0,b.jsx)(S.TabsTrigger,{value:"financial",children:"Financial"}),(0,b.jsx)(S.TabsTrigger,{value:"capacity",children:"Capacity"})]}),(0,b.jsx)(S.TabsContent,{value:"budget",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Budget Breakdown"}),(0,b.jsx)(d.CardDescription,{children:"Detailed cost analysis for the project"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-4",children:a.estimated_budget?.breakdown&&(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(a.estimated_budget.breakdown).map(([a,c])=>{let d=c/e*100;return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"capitalize font-medium",children:a.replace("_"," ")}),(0,b.jsxs)("span",{className:"font-bold",children:["R ",c.toLocaleString()]})]}),(0,b.jsx)(E.Progress,{value:d,className:"h-2"}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[d.toFixed(1),"% of total"]})]},a)})})})]})}),(0,b.jsx)(S.TabsContent,{value:"certifications",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Required Certifications"}),(0,b.jsx)(d.CardDescription,{children:"All certificates and licenses needed for this tender"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:a.certifications_required?.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[a.name,(0,b.jsx)(f.Badge,{variant:"critical"===a.priority?"destructive":"secondary",children:a.priority})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Issued by: ",a.issuer]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-bold",children:["R ",a.cost.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.processing_time})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(B.Clock,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:["Valid for: ",a.validity_period]})]})]},c))})})]})}),(0,b.jsx)(S.TabsContent,{value:"insurance",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Insurance Requirements"}),(0,b.jsx)(d.CardDescription,{children:"Policies needed to bid and execute this project"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:a.insurance_requirements?.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[a.type,(0,b.jsx)(f.Badge,{variant:"critical"===a.priority?"destructive":"secondary",children:a.priority})]}),(0,b.jsxs)("p",{className:"text-sm",children:["Coverage: R ",a.coverage_amount.toLocaleString()]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("p",{className:"font-bold",children:["R ",a.annual_cost.toLocaleString(),"/year"]})})]}),a.provider_suggestions&&a.provider_suggestions.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium mb-1",children:"Recommended Providers:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.provider_suggestions.map((a,c)=>(0,b.jsx)(f.Badge,{variant:"outline",className:"text-xs",children:a},c))})]})]},c))})})]})}),(0,b.jsx)(S.TabsContent,{value:"compliance",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Compliance Checklist"}),(0,b.jsx)(d.CardDescription,{children:"Track regulatory and compliance requirements"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"space-y-3",children:a.compliance_checklist?.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.CheckCircle2,{className:(0,F.cn)("h-4 w-4","completed"===a.status?"text-green-500":"text-gray-300")}),(0,b.jsx)("h4",{className:"font-medium",children:a.requirement})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground pl-6",children:a.notes})]}),(0,b.jsx)(f.Badge,{variant:"completed"===a.status?"default":"in_progress"===a.status?"secondary":"not_required"===a.status?"outline":"destructive",children:a.status.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"pl-6 space-y-1",children:[(0,b.jsxs)("p",{className:"text-xs",children:[(0,b.jsx)("span",{className:"font-medium",children:"Deadline:"})," ",a.deadline]}),(0,b.jsxs)("p",{className:"text-xs",children:[(0,b.jsx)("span",{className:"font-medium",children:"Evidence:"})," ",a.evidence_needed]})]})]},c))}),a.regulatory_requirements&&a.regulatory_requirements.length>0&&(0,b.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Regulatory Requirements"}),a.regulatory_requirements.map((a,c)=>(0,b.jsxs)(g.Alert,{children:[(0,b.jsx)(h.FileText,{className:"h-4 w-4"}),(0,b.jsxs)(g.AlertDescription,{children:[(0,b.jsx)("p",{className:"font-medium",children:a.regulation}),(0,b.jsx)("p",{className:"text-sm mt-1",children:a.description}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground mt-2 space-y-1",children:[(0,b.jsxs)("p",{children:["Authority: ",a.authority]}),(0,b.jsxs)("p",{children:["Deadline: ",a.deadline]}),a.penalties&&(0,b.jsxs)("p",{className:"text-red-600",children:["Penalties: ",a.penalties]})]})]})]},c))]})]})]})}),(0,b.jsx)(S.TabsContent,{value:"financial",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Financial Requirements"}),(0,b.jsx)(d.CardDescription,{children:"Financial capacity and readiness assessment"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-4",children:a.financial_requirements&&(0,b.jsxs)(b.Fragment,{children:[a.financial_requirements.bank_guarantee&&(0,b.jsx)("div",{className:"border rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ab,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:"Bank Guarantee"})]}),(0,b.jsxs)("span",{className:"text-xl font-bold",children:["R ",a.financial_requirements.bank_guarantee.toLocaleString()]})]})}),(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(V.TrendingUp,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:"Working Capital"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:["R ",a.financial_requirements.working_capital?.toLocaleString()]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.financial_requirements.cash_flow_requirements})]}),a.financial_requirements.credit_facilities&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsx)("span",{className:"font-medium",children:"Credit Facilities"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.financial_requirements.credit_facilities})]})]})})]})}),(0,b.jsx)(S.TabsContent,{value:"capacity",className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Capacity Requirements"}),(0,b.jsx)(d.CardDescription,{children:"Demonstrate your ability to deliver the project"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-4",children:a.capacity_requirements&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(aa,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:"Past Projects Required"})]}),(0,b.jsx)("p",{className:"text-sm",children:a.capacity_requirements.past_projects})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)($.Users,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:"References Needed"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:[a.capacity_requirements.references," contactable references"]})]}),a.capacity_requirements.equipment_owned&&a.capacity_requirements.equipment_owned.length>0&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsx)("span",{className:"font-medium",children:"Equipment to Own"}),(0,b.jsx)("ul",{className:"space-y-1",children:a.capacity_requirements.equipment_owned.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm flex items-center gap-2",children:[(0,b.jsx)(q.CheckCircle2,{className:"h-3 w-3 text-green-500"}),a]},c))})]}),a.capacity_requirements.personnel_qualifications&&a.capacity_requirements.personnel_qualifications.length>0&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2",children:[(0,b.jsx)("span",{className:"font-medium",children:"Personnel Qualifications Required"}),(0,b.jsx)("ul",{className:"space-y-1",children:a.capacity_requirements.personnel_qualifications.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm flex items-center gap-2",children:[(0,b.jsx)(y,{className:"h-3 w-3 text-blue-500"}),a]},c))})]})]})})]})})]}),a.risk_assessment?.risks&&a.risk_assessment.risks.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Risk Assessment"}),(0,b.jsx)(d.CardDescription,{children:"Identified risks and mitigation strategies"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:a.risk_assessment.risks.map((a,c)=>(0,b.jsx)("div",{className:"border rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(C.AlertTriangle,{className:(0,F.cn)("h-5 w-5 mt-0.5","high"===a.impact?"text-red-500":"medium"===a.impact?"text-orange-500":"text-yellow-500")}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("h4",{className:"font-medium",children:a.risk}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Badge,{variant:"outline",className:"text-xs",children:["Impact: ",a.impact]}),(0,b.jsxs)(f.Badge,{variant:"outline",className:"text-xs",children:["Likelihood: ",a.likelihood]})]})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,b.jsx)("span",{className:"font-medium",children:"Mitigation:"})," ",a.mitigation]})]})]})},c))})})]})]})}function ad(a){let{id:t}=a,[E,G]=(0,c.useState)(null),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(!0),[N,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(0),[U,V]=(0,c.useState)("overview"),[W,X]=(0,c.useState)(!0),[Y,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)(null),[ab,ad]=(0,c.useState)(null),{toast:ae}=(0,D.useToast)();(0,c.useEffect)(()=>{(async()=>{try{M(!0),console.log("[v0] Loading tender data for:",t);let a=await fetch(`/api/tenders/scraped/${t}`);if(!a.ok)throw Error("Failed to load tender");let{tender:b,documents:c,analysis:d}=await a.json();console.log("[v0] Loaded tender with",c.length,"documents"),G(b),I(c),d&&(console.log("[v0] Found existing analysis"),K(d))}catch(a){console.error("[v0] Error loading tender:",a),ae({title:"Error",description:"Failed to load tender data",variant:"destructive"})}finally{M(!1)}})()},[t,ae]),(0,c.useEffect)(()=>{!E||!H.length||N||J||(async()=>{try{R(!0),console.log("[v0] Triggering automatic analysis for scraped tender...");let a=await fetch(`/api/tenders/scraped/${t}/analyze`,{method:"POST"});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to analyze tender")}let{analysis:b}=await a.json();console.log("[v0] Analysis completed successfully"),K(b),ae({title:"Analysis Complete",description:"Tender documents have been analyzed"})}catch(a){console.error("[v0] Error during analysis:",a),ae({title:"Analysis Failed",description:a instanceof Error?a.message:"Failed to analyze tender",variant:"destructive"})}finally{R(!1)}})()},[E,H,t,N,J,ae]),(0,c.useEffect)(()=>{let a=async()=>{try{let a=await fetch(`/api/strategist/plan?tenderId=${E.id}&tenderType=scraped`);if(a.ok){let{plan:b}=await a.json();b&&$(b)}}catch(a){console.error("[v0] Error loading project plan:",a)}};E&&a()},[E]);let af=[{id:"overview",label:"Overview",icon:s.LayoutDashboard},{id:"requirements",label:"Requirements",icon:u},{id:"documents",label:"Documents",icon:v.FolderOpen},{id:"financial",label:"Financial & BOQ",icon:x.Calculator},{id:"planning",label:"Planning",icon:y},{id:"respond",label:"Response Form",icon:w}];return L?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):E?(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"border-b bg-background p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:E.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:E.source_name}),(0,b.jsx)(f.Badge,{variant:"outline",children:E.source_province}),(0,b.jsx)(f.Badge,{variant:"secondary",children:E.source_level})]})]}),E.tender_url&&(0,b.jsx)(e.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,b.jsxs)("a",{href:E.tender_url,target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)(A,{className:"mr-2 h-4 w-4"}),"View Source"]})})]}),(0,b.jsx)(O,{...{tenderId:E.id,tenderType:"scraped",progress:S}}),(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-4",children:[(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(n.Building2,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Source"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:E.source_name})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(m.Calendar,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Closing Date"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:E.close_date?new Date(E.close_date).toLocaleDateString():"N/A"})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(o.DollarSign,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Est. Value"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:E.estimated_value||"N/A"})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.MapPin,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Location"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:E.location||E.source_province||"N/A"})]})]})})})]}),(E.tender_type||E.procurement_category||E.submission_method||E.contract_duration)&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Procurement Details"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("dl",{className:"grid grid-cols-2 gap-4 text-sm",children:[E.tender_type&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Tender Type:"}),(0,b.jsx)("dd",{className:"font-medium",children:E.tender_type})]}),E.procurement_category&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Procurement Category:"}),(0,b.jsx)("dd",{className:"font-medium",children:E.procurement_category})]}),E.submission_method&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Submission Method:"}),(0,b.jsx)("dd",{className:"font-medium",children:E.submission_method})]}),E.contract_duration&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Contract Duration:"}),(0,b.jsx)("dd",{className:"font-medium",children:E.contract_duration})]}),E.payment_terms&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Payment Terms:"}),(0,b.jsx)("dd",{className:"font-medium",children:E.payment_terms})]}),E.validity_period&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Validity Period:"}),(0,b.jsx)("dd",{className:"font-medium",children:E.validity_period})]})]})})]}),E.compulsory_briefing&&(0,b.jsxs)(g.Alert,{children:[(0,b.jsx)(l.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(g.AlertTitle,{children:"Compulsory Briefing"}),(0,b.jsx)(g.AlertDescription,{children:E.compulsory_briefing})]}),(E.contact_person||E.contact_email||E.contact_phone)&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Contact Information"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("dl",{className:"space-y-2 text-sm",children:[E.contact_person&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Contact Person:"}),(0,b.jsx)("dd",{className:"font-medium",children:E.contact_person})]}),E.contact_email&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Email:"}),(0,b.jsx)("dd",{className:"font-medium",children:(0,b.jsx)("a",{href:`mailto:${E.contact_email}`,className:"text-primary hover:underline",children:E.contact_email})})]}),E.contact_phone&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Phone:"}),(0,b.jsx)("dd",{className:"font-medium",children:(0,b.jsx)("a",{href:`tel:${E.contact_phone}`,className:"text-primary hover:underline",children:E.contact_phone})})]})]})})]})]}),(0,b.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,b.jsx)("div",{className:"w-56 border-r bg-muted/20 p-4",children:(0,b.jsx)("nav",{className:"space-y-1",children:af.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>V(a.id),className:(0,F.cn)("w-full flex items-center gap-3 px-3 py-2 text-sm rounded-md transition-colors",U===a.id?"bg-primary text-primary-foreground font-medium":"hover:bg-muted text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(c,{className:"h-4 w-4"}),a.label]},a.id)})})}),(0,b.jsx)("div",{className:(0,F.cn)("flex-1 overflow-auto",""),children:(0,b.jsxs)("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:["overview"===U&&(0,b.jsx)("div",{className:"space-y-4",children:J?(0,b.jsxs)(b.Fragment,{children:[J.cached&&(0,b.jsxs)(g.Alert,{children:[(0,b.jsx)(q.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsx)(g.AlertDescription,{children:"Analysis cached for faster loading"})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"AI Summary"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:J.summary})})]}),J.actionableTasks&&J.actionableTasks.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Action Plan"}),(0,b.jsx)(d.CardDescription,{children:"Prioritized tasks to complete"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:J.actionableTasks.slice(0,5).map((a,c)=>(0,b.jsx)("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(f.Badge,{variant:"high"===a.priority?"destructive":"medium"===a.priority?"default":"secondary",className:"text-xs",children:a.priority.toUpperCase()}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.category})]}),(0,b.jsx)("p",{className:"text-sm",children:a.task}),a.deadline&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(0,b.jsx)(B.Clock,{className:"h-3 w-3 inline mr-1"}),a.deadline]})]})},c))})})]}),J.deadlines&&J.deadlines.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Important Deadlines"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:J.deadlines.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(B.Clock,{className:"h-4 w-4 text-orange-500 mt-0.5"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))})})]}),J.recommendations&&J.recommendations.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Strategic Recommendations"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:J.recommendations.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(r.Sparkles,{className:"h-4 w-4 text-primary mt-0.5"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))})})]}),ab&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Readiness Score"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(r.Sparkles,{className:"h-4 w-4 text-primary mt-0.5"}),(0,b.jsx)("span",{className:"text-sm",children:ab})]})})})]})]}):N?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(k.Loader2,{className:"h-12 w-12 mx-auto mb-4 text-primary animate-spin"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Analyzing tender..."})]})}):(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(C.AlertTriangle,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No analysis available"})]})})}),"requirements"===U&&(0,b.jsx)("div",{className:"space-y-4",children:J?(0,b.jsxs)(b.Fragment,{children:[J.keyRequirements&&J.keyRequirements.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.CheckCircle2,{className:"h-5 w-5 text-green-600"}),"Mandatory Requirements"]}),(0,b.jsx)(d.CardDescription,{children:"You must meet these to qualify"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("ul",{className:"space-y-3",children:J.keyRequirements.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 pl-6 relative",children:[(0,b.jsx)("span",{className:"absolute left-0 top-1 w-4 h-4 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center text-xs font-medium text-green-700 dark:text-green-300",children:c+1}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))})})]}),J.complianceChecklist&&J.complianceChecklist.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(u,{className:"h-5 w-5"}),"Compliance Checklist"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:J.complianceChecklist.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded hover:bg-accent",children:[(0,b.jsx)("div",{className:"mt-0.5 h-4 w-4 rounded border-2 border-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))})})]}),J.evaluationCriteria&&J.evaluationCriteria.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(y,{className:"h-5 w-5"}),"Evaluation Criteria"]}),(0,b.jsx)(d.CardDescription,{children:"How your proposal will be scored"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:J.evaluationCriteria.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(x.Calculator,{className:"h-4 w-4 text-blue-500 mt-0.5"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))})})]})]}):(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(y,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:N?"Extracting requirements...":"No requirements available"})]})})}),"documents"===U&&(0,b.jsx)("div",{className:"space-y-4",children:H.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold",children:[H.length," Document(s)"]}),H.length>1&&(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(i.Download,{className:"h-4 w-4 mr-2"}),"Download All"]})]}),(0,b.jsx)("div",{className:"grid gap-3",children:H.map(a=>(0,b.jsx)(d.Card,{className:"hover:shadow-md transition-shadow",children:(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)(h.FileText,{className:"h-5 w-5 text-primary mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:a.document_name}),(0,b.jsxs)(d.CardDescription,{className:"text-xs mt-1",children:[a.document_type,"  ",(a.file_size/1024/1024).toFixed(2)," MB "," ",new Date(a.created_at).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{size:"sm",variant:"outline",asChild:!0,children:(0,b.jsx)("a",{href:a.blob_url,download:!0,children:(0,b.jsx)(i.Download,{className:"h-4 w-4"})})}),(0,b.jsx)(e.Button,{size:"sm",variant:"outline",asChild:!0,children:(0,b.jsx)("a",{href:a.original_url,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(j.ExternalLink,{className:"h-4 w-4"})})})]})]})})},a.id))})]}):(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(h.FileText,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No documents available"})]})})}),"financial"===U&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Financial Planning & BOQ"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive cost analysis and pricing strategy"})]}),(0,b.jsx)(Z,{tenderId:E.id,tenderType:"scraped",tenderTitle:E.title,tenderDescription:E.description,analysisData:J,projectPlan:Y,onBoqUpdate:a=>aa(a)})]}),"planning"===U&&(0,b.jsx)("div",{className:"space-y-6",children:Y?(0,b.jsx)(ac,{plan:Y}):(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Generate Comprehensive Project Plan"}),(0,b.jsx)(d.CardDescription,{children:"Create a detailed plan with budget breakdowns, certifications, insurance, compliance requirements"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:" Use the AI Strategist panel to generate your plan"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:'Click "Generate Project Plan" in the strategist panel on the right'})]})})]})}),"respond"===U&&(0,b.jsx)("div",{className:"space-y-4",children:J?.formFields&&J.formFields.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Alert,{children:[(0,b.jsx)(r.Sparkles,{className:"h-4 w-4"}),(0,b.jsx)(g.AlertDescription,{children:"This form was auto-generated from tender documents. Complete all required fields."})]}),(0,b.jsx)(P.DynamicTenderForm,{tenderId:t,formFields:J.formFields,documents:H,tenderData:E,onProgressChange:a=>{T(a)}})]}):(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(w,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:N?"Generating response form...":"No form fields available"})]})})})]})}),W&&(0,b.jsx)("aside",{className:"w-96 border-l bg-muted/30 overflow-hidden flex flex-col",children:(0,b.jsx)(Q.TenderContextPanel,{tender:{id:E.id,title:E.title,organization:E.source_name,description:E.description,deadline:E.close_date,value:E.estimated_value,requirements:E.requirements,analysis:J},onPlanGenerated:a=>{$(a),V("planning")},onBoqGenerated:a=>{aa(a),V("financial")},onReadinessGenerated:a=>{ad(a),V("overview")}})}),!W&&(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",className:"fixed bottom-6 right-6 shadow-lg bg-transparent",onClick:()=>X(!0),children:[(0,b.jsx)(z,{className:"h-4 w-4 mr-2"}),"AI Strategist"]})]})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsxs)(g.Alert,{variant:"destructive",children:[(0,b.jsx)(l.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(g.AlertTitle,{children:"Error"}),(0,b.jsx)(g.AlertDescription,{children:"Tender not found"})]})})}var ae=a.i(96457);function af(){let[a,d]=(0,c.useState)();return(0,c.useEffect)(()=>{(0,ae.getGoogleMapsApiKey)().then(d)},[]),(0,b.jsx)(ad,{googleMapsApiKey:a})}a.s(["default",()=>af],410701)}];

//# sourceMappingURL=app_dashboard_scraped-tenders_%5Bid%5D_page_tsx_ab6aad02._.js.map