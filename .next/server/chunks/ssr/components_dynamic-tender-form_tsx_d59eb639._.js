module.exports=[136727,26638,a=>{"use strict";var b=a.i(526689),c=a.i(265602),d=a.i(125712),e=a.i(703130),f=a.i(340695),g=a.i(205522),h=a.i(546893),i=a.i(917171),j=a.i(887682),k=a.i(46143),l=a.i(897020),m=a.i(861084),n=a.i(492498),o=a.i(674375),p=a.i(318851),q=a.i(197665),r=a.i(949191),s=a.i(539582),t=a.i(286979),u=a.i(167305),v=a.i(550349);let w=(0,v.default)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var x=a.i(509583),y=a.i(112160),z=(0,y.createServerReference)("407a8ca08fcf9739cce046a54db0f5cf64d000762a",y.callServer,void 0,y.findSourceMapURL,"saveScrapedTenderToUser"),A=a.i(277687),B=a.i(602150),C=a.i(254161),D=a.i(497895);function E({tenderId:a,formFields:v,googleMapsApiKey:y,documents:E=[],tenderData:F,onProgressChange:G}){console.log("[v0] ðŸ”µ DynamicTenderForm COMPONENT RENDERING"),console.log("[v0] Tender ID:",a),console.log("[v0] FormFields received:",v?.length||0,"fields"),console.log("[v0] FormFields:",v),console.log("[v0] Documents:",E?.length||0);let[H,I]=(0,d.useState)({}),[J,K]=(0,d.useState)(!0),[L,M]=(0,d.useState)(!1),[N,O]=(0,d.useState)(!1),[P,Q]=(0,d.useState)({}),[R,S]=(0,d.useState)(!1),[T,U]=(0,d.useState)(!1),[V,W]=(0,d.useState)(new Set),[X,Y]=(0,d.useState)(null),[Z,$]=(0,d.useState)(0),{toast:_}=(0,A.useToast)(),aa=36===a.length&&a.includes("-"),ab=aa?`/api/custom-tenders/${a}`:`/api/tenders/scraped/${a}`,ac=E.filter(a=>"application/pdf"===a.document_type||"application/pdf"===a.file_type);(0,d.useEffect)(()=>{ae()},[a]),(0,d.useEffect)(()=>{ad()},[H,v]);let ad=()=>{if(0===v.length)return void $(0);let a=v.filter(a=>a.required),b=a.length>0?a.length:v.length,c=Math.round((a.length>0?a.filter(a=>H[a.id]&&""!==H[a.id]).length:Object.keys(H).filter(a=>H[a]&&""!==H[a]).length)/b*100);$(c);let d="reviewing";c>=100?d="ready":c>=75?d="preparing":c>=50?d="planning":c>=25&&(d="analyzing"),G&&c>0&&G(Math.min(c,95),d)},ae=async()=>{try{let a=await fetch(`${ab}/responses`);if(a.ok){let{responses:b}=await a.json();b&&(I(b),Y(new Date))}}catch(a){console.error("[v0] Error loading saved responses:",a)}finally{K(!1)}},af=async()=>{if(F&&!T)try{let a=await z(F);a.success&&(U(!0),a.isNew&&_({title:"Tender Saved",description:"This tender has been added to 'My Tenders' with status 'In Progress'"}))}catch(a){console.error("[v0] Error auto-saving tender:",a)}},ag=(a,b)=>{I(c=>({...c,[a]:b})),Q(b=>({...b,[a]:""})),O(!1),0!==Object.keys(H).length||T||af()},ah=async()=>{let b={};if(v.forEach(a=>{let c=((a,b)=>{if(a.required&&(!b||""===b))return"This field is required";if(a.validation&&b){if("number"===a.type){let c=Number(b);if(void 0!==a.validation.min&&c<a.validation.min)return`Minimum value is ${a.validation.min}`;if(void 0!==a.validation.max&&c>a.validation.max)return`Maximum value is ${a.validation.max}`}if("text"===a.type||"textarea"===a.type){if(a.validation.maxLength&&b.length>a.validation.maxLength)return`Maximum length is ${a.validation.maxLength} characters`;if(a.validation.pattern&&!new RegExp(a.validation.pattern).test(b))return"Invalid format"}}return null})(a,H[a.id]);c&&(b[a.id]=c)}),Object.keys(b).length>0){Q(b),_({title:"Validation Error",description:`Please fix ${Object.keys(b).length} error(s) before saving`,variant:"destructive"});return}M(!0);try{(await fetch(`${ab}/responses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:H})})).ok&&(O(!0),Y(new Date),setTimeout(()=>O(!1),3e3),_({title:"Saved",description:"Your responses have been saved successfully"}),aa&&await fetch("/api/strategist/progress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenderId:a,tenderType:"custom",status:Z>=100?"ready":"preparing",progressPercent:Math.min(Z,95),milestone:`Form ${Z}% complete`,notes:`User saved form responses - ${Object.keys(H).length} fields filled`})}))}catch(a){console.error("[v0] Error saving responses:",a),_({title:"Error",description:"Failed to save responses",variant:"destructive"})}finally{M(!1)}},ai=async()=>{if(0===ac.length)return void _({title:"No Document",description:"Please upload a PDF document first.",variant:"destructive"});if(0===Object.keys(H).length)return void _({title:"No Responses",description:"Please fill in some form fields first.",variant:"destructive"});S(!0);try{console.log("[v0] ========================================"),console.log("[v0] GENERATE FILLED EDITABLE PDF"),console.log("[v0] ========================================"),console.log("[v0] Tender ID:",a),console.log("[v0] Document ID:",ac[0].id),console.log("[v0] Form responses:",Object.keys(H).length);let b=await fetch(`${ab}/generate-filled-editable`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentId:ac[0].id,saveToBlob:!0})});if(console.log("[v0] Response status:",b.status),!b.ok){let a=await b.json();throw Error(a.error||"Failed to generate filled editable PDF")}let c=b.headers.get("X-Fields-Created"),d=b.headers.get("X-Fields-Filled"),e=b.headers.get("X-Total-Pages"),f=b.headers.get("X-Is-Read-Only"),g=b.headers.get("X-Saved-Blob-Url");console.log("[v0] Fields created:",c),console.log("[v0] Fields filled:",d),console.log("[v0] Total pages:",e),console.log("[v0] Was read-only:",f),console.log("[v0] Saved to blob:",g);let h=await b.blob(),i=window.URL.createObjectURL(h),j=document.createElement("a");j.href=i,j.download=`filled_tender_${a}.pdf`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(i),document.body.removeChild(j),_({title:"Success!",description:`Generated editable PDF with ${d} fields filled. ${g?"Saved to your documents.":""}`})}catch(a){console.error("[v0] Error generating filled editable PDF:",a),_({title:"Error",description:a.message||"Failed to generate filled editable PDF",variant:"destructive"})}finally{S(!1)}};if(J)return console.log("[v0] ðŸŸ¡ Form is in LOADING state"),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-12 text-center",children:(0,b.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-primary mx-auto"})})});let aj=Array.from(new Set(v.map(a=>a.section||"General Information")));console.log("[v0] ðŸŸ¢ Form LOADED - Rendering sections:",aj),console.log("[v0] Total sections:",aj.length);let ak=v.filter(a=>a.required).length,al=Object.keys(H).filter(a=>H[a]&&""!==H[a]).length;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(e.Card,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Response Form Progress"}),(0,b.jsx)(e.CardDescription,{className:"mt-1",children:ak>0?`${ak} required fields â€¢ ${al} of ${v.length} total fields filled`:`${al} of ${v.length} fields filled`})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-primary",children:[Z,"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Complete"})]})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsx)(B.Progress,{value:Z,className:"h-3"}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(u.Clock,{className:"h-3 w-3"}),X?`Last saved ${X.toLocaleTimeString()}`:"Not saved yet"]}),(0,b.jsxs)(C.Badge,{variant:Z>=100?"default":"secondary",className:"gap-1",children:[(0,b.jsx)(w,{className:"h-3 w-3"}),Z>=100?"Ready to Submit":"In Progress"]})]})]})]}),ac.length>0&&(0,b.jsxs)(e.Card,{className:"mt-6",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.FileText,{className:"h-5 w-5"}),"Generate Filled Document"]}),(0,b.jsx)(e.CardDescription,{children:"Download an editable copy of your tender document with all form fields filled in. Your responses will be overlaid directly onto the original document pages."})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[0===Object.keys(H).length?(0,b.jsxs)(c.Alert,{children:[(0,b.jsx)(r.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(c.AlertTitle,{children:"Fill in the form first"}),(0,b.jsx)(c.AlertDescription,{children:"Complete the form fields above before generating your filled document."})]}):(0,b.jsxs)(c.Alert,{className:"bg-green-50 border-green-200",children:[(0,b.jsx)(o.CheckCircle2,{className:"h-4 w-4 text-green-600"}),(0,b.jsx)(c.AlertTitle,{className:"text-green-800",children:"Ready to generate"}),(0,b.jsxs)(c.AlertDescription,{className:"text-green-700",children:["You have filled ",Object.keys(H).length," field(s). Click below to generate your filled document."]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,b.jsx)(f.Button,{onClick:ai,disabled:R||0===Object.keys(H).length,size:"lg",className:"bg-primary",children:R?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Filled Document..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Download,{className:"h-4 w-4 mr-2"}),"Generate & Download Filled PDF"]})})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"The filled PDF will be saved to your documents. Your responses are overlaid directly on the original tender document."})]})]}),aj.map(a=>{let c,d,f,m,n,o,p=v.filter(b=>(b.section||"General Information")===a),q=(m=(f=(d=(c=v.filter(b=>(b.section||"General Information")===a)).filter(a=>a.required)).length>0?d:c).filter(a=>H[a.id]&&""!==H[a.id]).length,o=(n=f.length)>0?Math.round(m/n*100):0,{filled:m,total:n,percent:o}),u=V.has(a),w=p.filter(a=>a.required).length;return(0,b.jsxs)(e.Card,{className:(0,D.cn)("transition-all",100===q.percent&&"border-green-500/50 bg-green-50/50"),children:[(0,b.jsx)(e.CardHeader,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{let b;(b=new Set(V)).has(a)?b.delete(a):b.add(a),W(b)},children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.CardTitle,{className:"text-base",children:a}),w>0&&(0,b.jsxs)(C.Badge,{variant:"secondary",className:"text-xs",children:[w," Required"]})]}),(0,b.jsxs)(e.CardDescription,{className:"mt-1",children:[q.filled," of ",q.total," fields completed"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.Progress,{value:q.percent,className:"h-2 w-20"}),(0,b.jsxs)("span",{className:(0,D.cn)("text-sm font-medium w-12 text-right",100===q.percent?"text-green-600":"text-muted-foreground"),children:[q.percent,"%"]})]}),u?(0,b.jsx)(s.ChevronDown,{className:"h-5 w-5 text-muted-foreground"}):(0,b.jsx)(t.ChevronUp,{className:"h-5 w-5 text-muted-foreground"})]})]})}),!u&&(0,b.jsx)(e.CardContent,{className:"space-y-4 pt-0",children:p.map(a=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:a.id,className:"flex items-center gap-2",children:[a.label,a.required&&(0,b.jsx)(C.Badge,{variant:"destructive",className:"text-xs px-1.5 py-0",children:"Required"})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description}),(a=>{let c,d,e=H[a.id]||"",f=P[a.id];if(c=a.label.toLowerCase(),["address","street","location","physical address","postal address"].some(a=>c.includes(a))&&"text"===a.type)return(0,b.jsx)(g.Input,{type:"text",id:a.id,value:e,onChange:b=>ag(a.id,b.target.value),placeholder:a.placeholder||"Enter address...",required:a.required,className:f?"border-destructive":""});if(d=a.label.toLowerCase(),(["price","cost","amount","value","budget","fee","payment","tender value"].some(a=>d.includes(a))||"currency"===a.type)&&("text"===a.type||"number"===a.type))return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Input,{id:a.id,type:"text",value:e,onChange:b=>ag(a.id,b.target.value),placeholder:a.placeholder||"e.g., R 1,000,000 or 1000000",className:f?"border-destructive":""}),e&&!isNaN(Number(e.toString().replace(/[^0-9.-]/g,"")))&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Formatted: ",(0,x.formatZAR)(e.toString().replace(/[^0-9.-]/g,""))]})]});switch(a.type){case"textarea":return(0,b.jsx)(h.Textarea,{id:a.id,value:e,onChange:b=>ag(a.id,b.target.value),placeholder:a.placeholder,className:f?"border-destructive":"",rows:4});case"select":return(0,b.jsxs)(j.Select,{value:e,onValueChange:b=>ag(a.id,b),children:[(0,b.jsx)(j.SelectTrigger,{className:f?"border-destructive":"",children:(0,b.jsx)(j.SelectValue,{placeholder:a.placeholder||"Select an option"})}),(0,b.jsx)(j.SelectContent,{children:a.options?.map(a=>(0,b.jsx)(j.SelectItem,{value:a,children:a},a))})]});case"checkbox":return(0,b.jsx)("div",{className:"space-y-2",children:a.options?.map(c=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:`${a.id}-${c}`,checked:Array.isArray(e)&&e.includes(c),onCheckedChange:b=>{let d=Array.isArray(e)?e:[],f=b?[...d,c]:d.filter(a=>a!==c);ag(a.id,f)}}),(0,b.jsx)("label",{htmlFor:`${a.id}-${c}`,className:"text-sm",children:c})]},c))});case"radio":return(0,b.jsx)(l.RadioGroup,{value:e,onValueChange:b=>ag(a.id,b),children:a.options?.map(c=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(l.RadioGroupItem,{value:c,id:`${a.id}-${c}`}),(0,b.jsx)("label",{htmlFor:`${a.id}-${c}`,className:"text-sm",children:c})]},c))});case"file":return(0,b.jsx)(g.Input,{id:a.id,type:"file",onChange:b=>ag(a.id,b.target.files?.[0]?.name||""),className:f?"border-destructive":""});default:return(0,b.jsx)(g.Input,{id:a.id,type:a.type,value:e,onChange:b=>ag(a.id,b.target.value),placeholder:a.placeholder,className:f?"border-destructive":"",min:a.validation?.min,max:a.validation?.max,maxLength:a.validation?.maxLength})}})(a),P[a.id]&&(0,b.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(r.AlertCircle,{className:"h-3 w-3"}),P[a.id]]})]},a.id))})]},a)}),(0,b.jsx)(e.Card,{className:"sticky bottom-4 shadow-lg border-primary/20",children:(0,b.jsx)(e.CardContent,{className:"py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,b.jsx)(f.Button,{onClick:ah,disabled:L,size:"lg",className:"flex-1 min-w-[200px]",children:L?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Save,{className:"h-4 w-4 mr-2"}),"Save Progress (",Z,"% Complete)"]})}),N&&(0,b.jsxs)(c.Alert,{className:"flex-1 bg-green-500/10 border-green-500/20 py-2",children:[(0,b.jsx)(o.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)(c.AlertDescription,{className:"text-green-500",children:"Saved successfully!"})]}),Object.keys(P).length>0&&(0,b.jsxs)(c.Alert,{variant:"destructive",className:"flex-1 py-2",children:[(0,b.jsx)(r.AlertCircle,{className:"h-4 w-4"}),(0,b.jsxs)(c.AlertDescription,{children:[Object.keys(P).length," validation error(s) - check required fields"]})]})]})})})]})}a.s(["DynamicTenderForm",()=>E],136727);var F=a.i(46470),G=a.i(109759),H=a.i(210299),I=a.i(322409),J=a.i(926437),K=a.i(362795),L=a.i(738611);let M=(0,v.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var N=a.i(632595),O=a.i(991282),P=a.i(248472),Q=a.i(124109);function R({tender:a,className:c,onPlanGenerated:e,onBoqGenerated:h,onReadinessGenerated:i}){let[j,k]=(0,d.useState)([]),[l,n]=(0,d.useState)(""),[p,q]=(0,d.useState)(!1),[r,s]=(0,d.useState)(null),[t,u]=(0,d.useState)(!1),[v,w]=(0,d.useState)(!0),[x,y]=(0,d.useState)(!1),[z,A]=(0,d.useState)(null),B=(0,d.useRef)(null);(0,d.useEffect)(()=>{a.id&&(E(),T())},[a.id]),(0,d.useEffect)(()=>{B.current&&(B.current.scrollTop=B.current.scrollHeight)},[j]);let E=async()=>{u(!0);try{let b=await fetch(`/api/strategist/readiness?tenderId=${a.id}`);if(b.ok){let a=await b.json();s(a),i&&i(a)}}catch(a){console.error("[v0] Error loading readiness:",a)}finally{u(!1)}},R=async()=>{if(!l.trim()||p)return;let b=l.trim();n(""),k(a=>[...a,{role:"user",content:b}]),q(!0);try{let c=await fetch("/api/strategist/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:b,tender_id:a.id,context_type:"tender",include_context:!0,tenderContext:{id:a.id,title:a.title,organization:a.organization,description:a.description,deadline:a.deadline,value:a.value,requirements:a.requirements,analysis:a.analysis}})});if(c.ok){let a=c.body?.getReader(),b=new TextDecoder,d="";if(k(a=>[...a,{role:"assistant",content:""}]),a)for(;;){let{done:c,value:e}=await a.read();if(c)break;for(let a of b.decode(e).split("\n"))if(a.startsWith("0:"))try{let b=JSON.parse(a.slice(2));d+=b,k(a=>{let b=[...a];return b[b.length-1]={role:"assistant",content:d},b})}catch(a){}}}}catch(a){console.error("[v0] Error sending message:",a),k(a=>[...a,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{q(!1)}},S=b=>{let c="";switch(b){case"strategy":c=`Create a winning bid strategy for "${a.title}". What are the key success factors?`;break;case"risks":c="What are the potential risks and compliance gaps I should be aware of for this tender?";break;case"pricing":c="Help me develop a competitive pricing strategy for this bid.";break;case"strengths":c="Analyze my strengths and weaknesses for this specific tender based on typical requirements."}n(c)},T=async()=>{try{let b=await fetch(`/api/strategist/plan?tenderId=${a.id}&tenderType=custom`);if(b.ok){let a=await b.json();a.plan&&(A(a.plan),e&&e(a.plan))}}catch(a){console.error("[v0] Error loading project plan:",a)}},U=async()=>{if(!x)try{y(!0),console.log("[v0] Generating project plan for tender:",a.id);let b=await fetch("/api/strategist/plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenderId:a.id,tenderType:"custom",tenderTitle:a.title,tenderDescription:a.description,analysisData:a.analysis})});if(!b.ok){let a=await b.json();throw Error(a.details||a.error||"Failed to generate project plan")}let{plan:c}=await b.json();console.log("[v0] Project plan generated successfully"),e&&e(c),Q.toast.success("Project Plan Generated",{description:"Your comprehensive project plan is now available in the Planning section"})}catch(a){console.error("[v0] Plan generation error:",a),Q.toast.error("Error",{description:a instanceof Error?a.message:"Failed to generate project plan"})}finally{y(!1)}},V=async()=>{try{console.log("[v0] Generating BOQ for tender:",a.id);let b=await fetch("/api/strategist/boq",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenderId:a.id,tenderType:"custom",tenderTitle:a.title,tenderDescription:a.description,analysisData:a.analysis})});if(!b.ok){let a=await b.json();throw Error(a.details||a.error||"Failed to generate BOQ")}let{boq:c}=await b.json();console.log("[v0] BOQ generated successfully"),h&&h(c),Q.toast.success("BOQ Generated",{description:"Your Bill of Quantities is now available in the Financial section"})}catch(a){console.error("[v0] BOQ generation error:",a),Q.toast.error("Error",{description:a instanceof Error?a.message:"Failed to generate BOQ"})}},W=async()=>{try{console.log("[v0] Checking readiness for tender:",a.id);let b=await fetch(`/api/strategist/readiness?tender_id=${a.id}&tender_type=custom`);if(!b.ok)throw Error("Failed to check readiness");let c=await b.json();console.log("[v0] Readiness check complete"),i&&i(c),Q.toast.success("Readiness Check Complete",{description:"Your bid readiness assessment is now available in the Overview section"})}catch(a){console.error("[v0] Readiness check error:",a),Q.toast.error("Error",{description:"Failed to check readiness"})}};return(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"p-4 border-b bg-muted/30",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(J.Sparkles,{className:"h-4 w-4 text-primary"}),"AI Strategist"]}),(0,b.jsx)(C.Badge,{variant:"outline",className:"text-xs",children:"Tender-Specific"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Generate strategic plans and analysis"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,b.jsxs)(f.Button,{onClick:U,disabled:x,variant:"default",size:"sm",className:"w-full justify-start h-auto py-3",children:[x?(0,b.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin flex-shrink-0"}):(0,b.jsx)(N.FileSpreadsheet,{className:"mr-2 h-4 w-4 flex-shrink-0"}),(0,b.jsxs)("div",{className:"text-left flex-1",children:[(0,b.jsx)("div",{className:"font-medium",children:"Generate Project Plan"}),(0,b.jsx)("div",{className:"text-xs opacity-80 font-normal",children:"Opens in Planning section"})]})]}),(0,b.jsxs)(f.Button,{onClick:V,variant:"outline",size:"sm",className:"w-full justify-start h-auto py-3 bg-transparent",children:[(0,b.jsx)(O.Calculator,{className:"mr-2 h-4 w-4 flex-shrink-0"}),(0,b.jsxs)("div",{className:"text-left flex-1",children:[(0,b.jsx)("div",{className:"font-medium",children:"Generate BOQ"}),(0,b.jsx)("div",{className:"text-xs opacity-80 font-normal",children:"Opens in Financial section"})]})]}),(0,b.jsxs)(f.Button,{onClick:W,variant:"outline",size:"sm",className:"w-full justify-start h-auto py-3 bg-transparent",children:[(0,b.jsx)(o.CheckCircle2,{className:"mr-2 h-4 w-4 flex-shrink-0"}),(0,b.jsxs)("div",{className:"text-left flex-1",children:[(0,b.jsx)("div",{className:"font-medium",children:"Check Readiness"}),(0,b.jsx)("div",{className:"text-xs opacity-80 font-normal",children:"Score your bid readiness"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"p-3 border-b bg-muted/20",children:[(0,b.jsx)("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:"Conversation Starters"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",className:"text-xs h-auto py-2 justify-start bg-transparent",onClick:()=>S("strategy"),children:[(0,b.jsx)(H.Target,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:"Bid Strategy"})]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",className:"text-xs h-auto py-2 justify-start bg-transparent",onClick:()=>S("risks"),children:[(0,b.jsx)(I.AlertTriangle,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:"Risk Analysis"})]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",className:"text-xs h-auto py-2 justify-start bg-transparent",onClick:()=>S("pricing"),children:[(0,b.jsx)(L.DollarSign,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:"Pricing Help"})]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",className:"text-xs h-auto py-2 justify-start bg-transparent",onClick:()=>S("strengths"),children:[(0,b.jsx)(K.Lightbulb,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:"SWOT Analysis"})]})]})]}),j.length>0&&(0,b.jsx)(F.ScrollArea,{className:"h-48 rounded-lg border p-3",ref:B,children:(0,b.jsx)("div",{className:"space-y-3",children:j.map((a,c)=>(0,b.jsx)("div",{className:(0,D.cn)("p-3 rounded-lg text-sm whitespace-pre-wrap","user"===a.role?"bg-primary text-primary-foreground ml-8":"bg-muted mr-8"),children:a.content||(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}),"Thinking..."]})},c))})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{placeholder:"Ask about this tender...",value:l,onChange:a=>n(a.target.value),onKeyDown:a=>"Enter"===a.key&&!a.shiftKey&&R(),disabled:p,className:"text-sm"}),(0,b.jsx)(f.Button,{size:"icon",onClick:R,disabled:p||!l.trim(),children:p?(0,b.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(G.Send,{className:"h-4 w-4"})})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",className:"w-full text-xs",asChild:!0,children:(0,b.jsxs)(P.default,{href:`/dashboard/strategist?tenderId=${a.id}`,children:["Open Full Strategist",(0,b.jsx)(M,{className:"h-3 w-3 ml-2"})]})})]})}a.s(["TenderContextPanel",()=>R,"TenderContextStrategistPanel",()=>R],26638)}];

//# sourceMappingURL=components_dynamic-tender-form_tsx_d59eb639._.js.map