module.exports=[965758,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(340695),e=a.i(703130),f=a.i(205522),g=a.i(917171),h=a.i(621958),i=a.i(269240),j=a.i(888775),k=a.i(850462),l=a.i(787199),m=a.i(621426),n=a.i(861084),o=a.i(492498),p=a.i(294411),q=a.i(338032),r=a.i(562259),s=a.i(151549),t=a.i(924098),u=a.i(860025),v=a.i(817937),w=a.i(930138),x="Switch",[y,z]=(0,s.createContextScope)(x),[A,B]=y(x),C=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:h,required:i,disabled:j,value:k="on",onCheckedChange:l,form:m,...n}=a,[o,p]=c.useState(null),s=(0,r.useComposedRefs)(d,a=>p(a)),u=c.useRef(!1),v=!o||m||!!o.closest("form"),[x=!1,y]=(0,t.useControllableState)({prop:g,defaultProp:h,onChange:l});return(0,b.jsxs)(A,{scope:e,checked:x,disabled:j,children:[(0,b.jsx)(w.Primitive.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":G(x),"data-disabled":j?"":void 0,disabled:j,value:k,...n,ref:s,onClick:(0,q.composeEventHandlers)(a.onClick,a=>{y(a=>!a),v&&(u.current=a.isPropagationStopped(),u.current||a.stopPropagation())})}),v&&(0,b.jsx)(F,{control:o,bubbles:!u.current,name:f,value:k,checked:x,required:i,disabled:j,form:m,style:{transform:"translateX(-100%)"}})]})});C.displayName=x;var D="SwitchThumb",E=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=B(D,d);return(0,b.jsx)(w.Primitive.span,{"data-state":G(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});E.displayName=D;var F=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,h=c.useRef(null),i=(0,u.usePrevious)(e),j=(0,v.useSize)(d);return c.useEffect(()=>{let a=h.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[i,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:h,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function G(a){return a?"checked":"unchecked"}var H=a.i(497895);function I({className:a,...c}){return(0,b.jsx)(C,{"data-slot":"switch",className:(0,H.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(E,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}var J=a.i(307379);function K(){let a=(0,i.createClient)(),q=(0,p.useRouter)(),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)({full_name:"",email:"",phone:"",job_title:"",avatar_url:""}),[z,A]=(0,c.useState)({email_alerts:!0,weekly_digest:!0,tender_matches:!0,deadline_reminders:!0});(0,c.useEffect)(()=>{(async()=>{let{data:{user:b}}=await a.auth.getUser();b?(w(b),B(b)):q.push("/login")})()},[q]);let B=async b=>{try{let{data:c}=await a.from("profiles").select("*").eq("id",b.id).single();c?y({full_name:c.full_name||"",email:c.email||b.email||"",phone:c.phone||"",job_title:c.job_title||"",avatar_url:c.avatar_url||""}):y(a=>({...a,email:b.email||""}));let{data:d}=await a.from("strategist_user_preferences").select("notification_preferences").eq("user_id",b.id).single();d?.notification_preferences&&A({email_alerts:d.notification_preferences.email_alerts??!0,weekly_digest:d.notification_preferences.weekly_digest??!0,tender_matches:d.notification_preferences.tender_matches??!0,deadline_reminders:d.notification_preferences.deadline_reminders??!0})}catch(a){console.error("Error loading user data:",a)}finally{s(!1)}},C=async()=>{if(v){u(!0);try{let{error:b}=await a.from("profiles").upsert({id:v.id,email:x.email,full_name:x.full_name,phone:x.phone,job_title:x.job_title,avatar_url:x.avatar_url,updated_at:new Date().toISOString()});if(b)throw b;alert("Profile updated successfully!")}catch(a){console.error("Error saving profile:",a),alert("Failed to save profile. Please try again.")}finally{u(!1)}}},D=async()=>{if(v){u(!0);try{let{error:b}=await a.from("strategist_user_preferences").upsert({user_id:v.id,notification_preferences:z,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(b)throw b;alert("Notification preferences updated successfully!")}catch(a){console.error("Error saving notifications:",a),alert("Failed to save preferences. Please try again.")}finally{u(!1)}}};return r?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"container max-w-5xl py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Account Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your personal account preferences and security"})]}),(0,b.jsxs)(h.Tabs,{defaultValue:"profile",className:"space-y-6",children:[(0,b.jsxs)(h.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsxs)(h.TabsTrigger,{value:"profile",className:"flex items-center gap-2",children:[(0,b.jsx)(j.User,{className:"h-4 w-4"}),"Profile"]}),(0,b.jsxs)(h.TabsTrigger,{value:"billing",className:"flex items-center gap-2",children:[(0,b.jsx)(k.CreditCard,{className:"h-4 w-4"}),"Billing"]}),(0,b.jsxs)(h.TabsTrigger,{value:"notifications",className:"flex items-center gap-2",children:[(0,b.jsx)(l.Bell,{className:"h-4 w-4"}),"Notifications"]}),(0,b.jsxs)(h.TabsTrigger,{value:"security",className:"flex items-center gap-2",children:[(0,b.jsx)(m.Shield,{className:"h-4 w-4"}),"Security"]})]}),(0,b.jsx)(h.TabsContent,{value:"profile",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Personal Information"}),(0,b.jsx)(e.CardDescription,{children:"Update your personal details and contact information"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"full_name",children:"Full Name"}),(0,b.jsx)(f.Input,{id:"full_name",value:x.full_name,onChange:a=>y({...x,full_name:a.target.value}),placeholder:"John Doe"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(f.Input,{id:"email",type:"email",value:x.email,onChange:a=>y({...x,email:a.target.value}),placeholder:"john@example.com",disabled:!0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed here. Contact support to update."})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)(f.Input,{id:"phone",value:x.phone,onChange:a=>y({...x,phone:a.target.value}),placeholder:"+27 12 345 6789"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"job_title",children:"Job Title"}),(0,b.jsx)(f.Input,{id:"job_title",value:x.job_title,onChange:a=>y({...x,job_title:a.target.value}),placeholder:"Procurement Manager"})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsx)(d.Button,{onClick:C,disabled:t,children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Save,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})})]})]})}),(0,b.jsx)(h.TabsContent,{value:"billing",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Billing & Subscription"}),(0,b.jsx)(e.CardDescription,{children:"View your subscription plan, usage, and manage billing"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"Full billing management coming soon."}),(0,b.jsx)(d.Button,{onClick:()=>q.push("/dashboard/billing"),children:"View Billing Details"})]})})]})}),(0,b.jsx)(h.TabsContent,{value:"notifications",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Notification Preferences"}),(0,b.jsx)(e.CardDescription,{children:"Choose how you want to be notified about tender opportunities"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(g.Label,{htmlFor:"email_alerts",children:"Email Alerts"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications for important updates"})]}),(0,b.jsx)(I,{id:"email_alerts",checked:z.email_alerts,onCheckedChange:a=>A({...z,email_alerts:a})})]}),(0,b.jsx)(J.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(g.Label,{htmlFor:"tender_matches",children:"Tender Match Alerts"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get notified when new tenders match your profile"})]}),(0,b.jsx)(I,{id:"tender_matches",checked:z.tender_matches,onCheckedChange:a=>A({...z,tender_matches:a})})]}),(0,b.jsx)(J.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(g.Label,{htmlFor:"deadline_reminders",children:"Deadline Reminders"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Reminders for upcoming tender deadlines"})]}),(0,b.jsx)(I,{id:"deadline_reminders",checked:z.deadline_reminders,onCheckedChange:a=>A({...z,deadline_reminders:a})})]}),(0,b.jsx)(J.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(g.Label,{htmlFor:"weekly_digest",children:"Weekly Digest"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Weekly summary of tender opportunities"})]}),(0,b.jsx)(I,{id:"weekly_digest",checked:z.weekly_digest,onCheckedChange:a=>A({...z,weekly_digest:a})})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsx)(d.Button,{onClick:D,disabled:t,children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Save,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})})})]})]})}),(0,b.jsx)(h.TabsContent,{value:"security",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Security Settings"}),(0,b.jsx)(e.CardDescription,{children:"Manage your password and security preferences"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Change Password"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:'To change your password, you\'ll need to sign out and use the "Forgot Password" option on the login page.'}),(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>q.push("/login"),children:"Go to Login"})]}),(0,b.jsx)(J.Separator,{className:"my-6"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Two-Factor Authentication"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Coming soon: Add an extra layer of security to your account."}),(0,b.jsx)(d.Button,{variant:"outline",disabled:!0,children:"Enable 2FA"})]})]})})]})})]})]})}a.s(["default",()=>K],965758)}];

//# sourceMappingURL=app_dashboard_account_page_tsx_a35136d6._.js.map