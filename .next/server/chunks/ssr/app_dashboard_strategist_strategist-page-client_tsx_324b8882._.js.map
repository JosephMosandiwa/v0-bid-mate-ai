{"version":3,"sources":["../../../../components/strategist/onboarding-dialog.tsx","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/en-US/_lib/formatDistance.js","../../../../app/dashboard/strategist/strategist-page-client.tsx","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/en-US/_lib/formatRelative.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/_lib/defaultOptions.js","../../../../components/strategist/sidebar.tsx","../../../../components/strategist/opportunity-tracker.tsx","../../../../components/strategist/capability-gap-analysis.tsx","../../../../components/strategist/strategy-export.tsx","../../../../components/strategist/strategy-library.tsx","../../../../components/strategist/win-probability-indicator.tsx","../../../../node_modules/.pnpm/%40radix-ui%2Breact-tooltip%401.1_7d90cc2e9f5ea8aa597bbacb13efabf4/node_modules/%40radix-ui/react-tooltip/dist/index.mjs","../../../../components/ui/tooltip.tsx","../../../../components/strategist/procurement-tooltip.tsx","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/_lib/buildFormatLongFn.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/_lib/buildMatchFn.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/_lib/buildMatchPatternFn.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/_lib/getRoundingMethod.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/en-US/_lib/localize.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/en-US/_lib/formatLong.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/_lib/normalizeDates.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/en-US/_lib/match.js","../../../../lib/engines/strategist/constants.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/info.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/ellipsis-vertical.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/book-open.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/bookmark.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/trending-down.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/history.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/graduation-cap.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/bookmark-check.ts","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/en-US.js","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.1.0/node_modules/lucide-react/src/icons/zap.ts","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/isLastDayOfMonth.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/constants.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInMilliseconds.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInMonths.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInCalendarMonths.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/endOfDay.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/endOfMonth.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInSeconds.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/constructNow.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/compareAsc.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/constructFrom.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/locale/_lib/buildLocalizeFn.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/toDate.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/formatDistanceToNow.js","../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/formatDistance.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { Sparkles, ChevronRight, ChevronLeft, Check } from \"lucide-react\"\r\nimport { useStrategistPreferences } from \"@/hooks/use-strategist\"\r\nimport { SA_PROVINCES, INDUSTRIES, COMPANY_SIZES, CIDB_GRADINGS, BEE_LEVELS } from \"@/lib/engines/strategist/constants\"\r\n\r\ninterface StrategistOnboardingDialogProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n}\r\n\r\nexport function StrategistOnboardingDialog({ open, onOpenChange }: StrategistOnboardingDialogProps) {\r\n  const [step, setStep] = useState(1)\r\n  const [formData, setFormData] = useState({\r\n    experience_level: \"\",\r\n    industries: [] as string[],\r\n    procurement_categories: [] as string[],\r\n    provinces: [] as string[],\r\n    company_size: \"\",\r\n    cidb_grading: \"\",\r\n    bee_level: \"\",\r\n    has_tax_clearance: false,\r\n    has_coida: false,\r\n    has_csd_registration: false,\r\n    risk_tolerance: \"\",\r\n  })\r\n\r\n  const { updatePreferences, completeOnboarding } = useStrategistPreferences()\r\n  const [saving, setSaving] = useState(false)\r\n\r\n  const totalSteps = 4\r\n\r\n  const handleNext = () => {\r\n    if (step < totalSteps) {\r\n      setStep(step + 1)\r\n    }\r\n  }\r\n\r\n  const handleBack = () => {\r\n    if (step > 1) {\r\n      setStep(step - 1)\r\n    }\r\n  }\r\n\r\n  const handleComplete = async () => {\r\n    setSaving(true)\r\n    try {\r\n      // formData may contain raw strings; cast to any for now to satisfy the\r\n      // preferences updater until stricter typing/refinement is implemented.\r\n      await updatePreferences(formData as any)\r\n      await completeOnboarding()\r\n      onOpenChange(false)\r\n    } catch (error) {\r\n      console.error(\"Failed to save preferences:\", error)\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  const toggleArrayValue = (array: string[], value: string): string[] => {\r\n    return array.includes(value) ? array.filter((v) => v !== value) : [...array, value]\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-lg\">\r\n        <DialogHeader>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center\">\r\n              <Sparkles className=\"h-5 w-5 text-primary\" />\r\n            </div>\r\n            <div>\r\n              <DialogTitle>Welcome to AI Strategist</DialogTitle>\r\n              <DialogDescription>Let's personalize your experience</DialogDescription>\r\n            </div>\r\n          </div>\r\n          <Progress value={(step / totalSteps) * 100} className=\"h-1\" />\r\n        </DialogHeader>\r\n\r\n        <div className=\"py-4\">\r\n          {/* Step 1: Experience Level */}\r\n          {step === 1 && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-foreground mb-2\">What's your tendering experience level?</h3>\r\n                <p className=\"text-sm text-muted-foreground mb-4\">This helps us tailor advice to your needs.</p>\r\n              </div>\r\n              <RadioGroup\r\n                value={formData.experience_level}\r\n                onValueChange={(value) => setFormData({ ...formData, experience_level: value })}\r\n                className=\"space-y-3\"\r\n              >\r\n                <div className=\"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer\">\r\n                  <RadioGroupItem value=\"beginner\" id=\"beginner\" />\r\n                  <Label htmlFor=\"beginner\" className=\"flex-1 cursor-pointer\">\r\n                    <div className=\"font-medium\">Beginner</div>\r\n                    <div className=\"text-xs text-muted-foreground\">New to tendering, want to learn the basics</div>\r\n                  </Label>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer\">\r\n                  <RadioGroupItem value=\"intermediate\" id=\"intermediate\" />\r\n                  <Label htmlFor=\"intermediate\" className=\"flex-1 cursor-pointer\">\r\n                    <div className=\"font-medium\">Intermediate</div>\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                      Some experience, looking to improve success rate\r\n                    </div>\r\n                  </Label>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer\">\r\n                  <RadioGroupItem value=\"advanced\" id=\"advanced\" />\r\n                  <Label htmlFor=\"advanced\" className=\"flex-1 cursor-pointer\">\r\n                    <div className=\"font-medium\">Advanced</div>\r\n                    <div className=\"text-xs text-muted-foreground\">Experienced, seeking strategic optimization</div>\r\n                  </Label>\r\n                </div>\r\n              </RadioGroup>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Industry & Procurement */}\r\n          {step === 2 && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-foreground mb-2\">Your Focus Areas</h3>\r\n                <p className=\"text-sm text-muted-foreground mb-4\">\r\n                  Select industries and procurement categories you're interested in.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <Label>Industries (select all that apply)</Label>\r\n                <div className=\"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto\">\r\n                  {INDUSTRIES.slice(0, 10).map((industry) => (\r\n                    <div key={industry.value} className=\"flex items-center space-x-2\">\r\n                      <Checkbox\r\n                        id={industry.value}\r\n                        checked={formData.industries.includes(industry.value)}\r\n                        onCheckedChange={() =>\r\n                          setFormData({\r\n                            ...formData,\r\n                            industries: toggleArrayValue(formData.industries, industry.value),\r\n                          })\r\n                        }\r\n                      />\r\n                      <Label htmlFor={industry.value} className=\"text-sm cursor-pointer\">\r\n                        {industry.label}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <Label>Provinces (select all that apply)</Label>\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  {SA_PROVINCES.map((province) => (\r\n                    <div key={province.value} className=\"flex items-center space-x-2\">\r\n                      <Checkbox\r\n                        id={province.value}\r\n                        checked={formData.provinces.includes(province.value)}\r\n                        onCheckedChange={() =>\r\n                          setFormData({\r\n                            ...formData,\r\n                            provinces: toggleArrayValue(formData.provinces, province.value),\r\n                          })\r\n                        }\r\n                      />\r\n                      <Label htmlFor={province.value} className=\"text-sm cursor-pointer\">\r\n                        {province.label}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: Company Profile */}\r\n          {step === 3 && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-foreground mb-2\">Company Profile</h3>\r\n                <p className=\"text-sm text-muted-foreground mb-4\">Help us understand your company's capabilities.</p>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Company Size</Label>\r\n                  <Select\r\n                    value={formData.company_size}\r\n                    onValueChange={(value) => setFormData({ ...formData, company_size: value })}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select company size\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {COMPANY_SIZES.map((size) => (\r\n                        <SelectItem key={size.value} value={size.value}>\r\n                          {size.label}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>B-BBEE Level</Label>\r\n                  <Select\r\n                    value={formData.bee_level}\r\n                    onValueChange={(value) => setFormData({ ...formData, bee_level: value })}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select B-BBEE level\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {BEE_LEVELS.map((level) => (\r\n                        <SelectItem key={level.value} value={level.value}>\r\n                          {level.label}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>CIDB Grading (if applicable)</Label>\r\n                  <Select\r\n                    value={formData.cidb_grading}\r\n                    onValueChange={(value) => setFormData({ ...formData, cidb_grading: value })}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select CIDB grading\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">Not applicable</SelectItem>\r\n                      {CIDB_GRADINGS.map((grade) => (\r\n                        <SelectItem key={grade.value} value={grade.value}>\r\n                          {grade.label}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 4: Compliance Status */}\r\n          {step === 4 && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-foreground mb-2\">Compliance Status</h3>\r\n                <p className=\"text-sm text-muted-foreground mb-4\">\r\n                  Let us know your current compliance status so we can alert you to gaps.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center space-x-3 p-3 rounded-lg border border-border\">\r\n                  <Checkbox\r\n                    id=\"tax_clearance\"\r\n                    checked={formData.has_tax_clearance}\r\n                    onCheckedChange={(checked) => setFormData({ ...formData, has_tax_clearance: checked as boolean })}\r\n                  />\r\n                  <Label htmlFor=\"tax_clearance\" className=\"flex-1 cursor-pointer\">\r\n                    <div className=\"font-medium\">Valid Tax Clearance</div>\r\n                    <div className=\"text-xs text-muted-foreground\">SARS Tax Compliance Status (TCS)</div>\r\n                  </Label>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-3 p-3 rounded-lg border border-border\">\r\n                  <Checkbox\r\n                    id=\"csd\"\r\n                    checked={formData.has_csd_registration}\r\n                    onCheckedChange={(checked) =>\r\n                      setFormData({ ...formData, has_csd_registration: checked as boolean })\r\n                    }\r\n                  />\r\n                  <Label htmlFor=\"csd\" className=\"flex-1 cursor-pointer\">\r\n                    <div className=\"font-medium\">CSD Registration</div>\r\n                    <div className=\"text-xs text-muted-foreground\">Central Supplier Database registration</div>\r\n                  </Label>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-3 p-3 rounded-lg border border-border\">\r\n                  <Checkbox\r\n                    id=\"coida\"\r\n                    checked={formData.has_coida}\r\n                    onCheckedChange={(checked) => setFormData({ ...formData, has_coida: checked as boolean })}\r\n                  />\r\n                  <Label htmlFor=\"coida\" className=\"flex-1 cursor-pointer\">\r\n                    <div className=\"font-medium\">COIDA Letter</div>\r\n                    <div className=\"text-xs text-muted-foreground\">Letter of Good Standing from Compensation Fund</div>\r\n                  </Label>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-4 rounded-lg bg-primary/5 border border-primary/20\">\r\n                <p className=\"text-sm text-foreground\">\r\n                  Based on your profile, we'll provide personalized alerts for document expiry, compliance gaps, and\r\n                  matching tender opportunities.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <div className=\"flex items-center justify-between pt-4 border-t border-border\">\r\n          <Button variant=\"ghost\" onClick={handleBack} disabled={step === 1}>\r\n            <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n            Back\r\n          </Button>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              Step {step} of {totalSteps}\r\n            </span>\r\n          </div>\r\n\r\n          {step < totalSteps ? (\r\n            <Button onClick={handleNext}>\r\n              Next\r\n              <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n            </Button>\r\n          ) : (\r\n            <Button onClick={handleComplete} disabled={saving}>\r\n              {saving ? (\r\n                \"Saving...\"\r\n              ) : (\r\n                <>\r\n                  <Check className=\"h-4 w-4 mr-1\" />\r\n                  Complete\r\n                </>\r\n              )}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","\"use client\"\r\n\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\"\r\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport {\r\n  Send,\r\n  Sparkles,\r\n  Target,\r\n  Search,\r\n  FileText,\r\n  Calculator,\r\n  Shield,\r\n  GraduationCap,\r\n  CheckCircle,\r\n  Bell,\r\n  TrendingUp,\r\n  Loader2,\r\n  Lightbulb,\r\n  Menu,\r\n  Plus,\r\n  AlertTriangle,\r\n  FolderOpen,\r\n} from \"lucide-react\"\r\nimport {\r\n  useStrategistChat,\r\n  useStrategistAlerts,\r\n  useStrategistPreferences,\r\n  useCompetitivenessScore,\r\n  useStrategistConversations,\r\n} from \"@/hooks/use-strategist\"\r\nimport { QUICK_ACTION_PROMPTS } from \"@/lib/engines/strategist/constants\"\r\nimport { StrategistOnboardingDialog } from \"@/components/strategist/onboarding-dialog\"\r\nimport { StrategistSidebar } from \"@/components/strategist/sidebar\"\r\nimport { OpportunityTracker } from \"@/components/strategist/opportunity-tracker\"\r\nimport { CapabilityGapAnalysis } from \"@/components/strategist/capability-gap-analysis\"\r\nimport { StrategyLibrary } from \"@/components/strategist/strategy-library\"\r\nimport { WinProbabilityIndicator } from \"@/components/strategist/win-probability-indicator\"\r\nimport { HighlightProcurementTerms } from \"@/components/strategist/procurement-tooltip\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface StrategistPageClientProps {\r\n  showOnboarding: boolean\r\n}\r\n\r\nexport function StrategistPageClient({ showOnboarding }: StrategistPageClientProps) {\r\n  const [showOnboardingDialog, setShowOnboardingDialog] = useState(showOnboarding)\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const [activeView, setActiveView] = useState<\"chat\" | \"opportunities\" | \"strategies\" | \"gaps\">(\"chat\")\r\n  const messagesEndRef = useRef<HTMLDivElement>(null)\r\n\r\n  const { messages, input, handleInputChange, handleSubmit, isLoading, conversationId, setInput } = useStrategistChat()\r\n\r\n  const { alerts = [], unreadCount = 0 } = useStrategistAlerts({ limit: 5 }) || {}\r\n  const { preferences } = useStrategistPreferences() || {}\r\n  const { score } = useCompetitivenessScore() || {}\r\n  const { conversations = [] } = useStrategistConversations() || {}\r\n\r\n  const safeInput = input ?? \"\"\r\n\r\n  // Scroll to bottom on new messages\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n  }, [messages])\r\n\r\n  const handleQuickAction = (prompt: string) => {\r\n    setInput(prompt)\r\n  }\r\n\r\n  const getIconForAction = (iconName: string) => {\r\n    const icons: Record<string, any> = {\r\n      target: Target,\r\n      \"clipboard-check\": CheckCircle,\r\n      search: Search,\r\n      \"file-text\": FileText,\r\n      calculator: Calculator,\r\n      shield: Shield,\r\n      \"graduation-cap\": GraduationCap,\r\n      \"check-circle\": CheckCircle,\r\n    }\r\n    const Icon = icons[iconName] || Lightbulb\r\n    return <Icon className=\"h-4 w-4\" />\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-4rem)] overflow-hidden\">\r\n      {/* Mobile Sidebar Toggle */}\r\n      <Sheet open={sidebarOpen} onOpenChange={setSidebarOpen}>\r\n        <SheetContent side=\"left\" className=\"w-80 p-0\">\r\n          <StrategistSidebar\r\n            conversations={conversations}\r\n            alerts={alerts}\r\n            unreadCount={unreadCount}\r\n            score={score}\r\n            onClose={() => setSidebarOpen(false)}\r\n          />\r\n        </SheetContent>\r\n      </Sheet>\r\n\r\n      {/* Desktop Sidebar */}\r\n      <aside className=\"hidden lg:flex w-80 border-r border-border flex-col\">\r\n        <StrategistSidebar conversations={conversations} alerts={alerts} unreadCount={unreadCount} score={score} />\r\n      </aside>\r\n\r\n      {/* Main Content Area */}\r\n      <main className=\"flex-1 flex flex-col\">\r\n        {/* Header */}\r\n        <header className=\"border-b border-border p-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Button variant=\"ghost\" size=\"icon\" className=\"lg:hidden\" onClick={() => setSidebarOpen(true)}>\r\n              <Menu className=\"h-5 w-5\" />\r\n            </Button>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center\">\r\n                <Sparkles className=\"h-5 w-5 text-primary\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-lg font-semibold text-foreground\">AI Tender Strategist</h1>\r\n                <p className=\"text-xs text-muted-foreground\">Your personal assistant for winning tenders</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            {unreadCount > 0 && (\r\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\r\n                <Bell className=\"h-4 w-4\" />\r\n                <Badge variant=\"destructive\" className=\"text-xs\">\r\n                  {unreadCount}\r\n                </Badge>\r\n              </Button>\r\n            )}\r\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-2 bg-transparent\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              <span className=\"hidden sm:inline\">New Chat</span>\r\n            </Button>\r\n          </div>\r\n        </header>\r\n\r\n        <div className=\"border-b border-border px-4\">\r\n          <Tabs value={activeView} onValueChange={(v) => setActiveView(v as any)}>\r\n            <TabsList className=\"bg-transparent h-12 p-0 gap-4\">\r\n              <TabsTrigger\r\n                value=\"chat\"\r\n                className=\"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3\"\r\n              >\r\n                <Sparkles className=\"h-4 w-4 mr-2\" />\r\n                Chat\r\n              </TabsTrigger>\r\n              <TabsTrigger\r\n                value=\"opportunities\"\r\n                className=\"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3\"\r\n              >\r\n                <Target className=\"h-4 w-4 mr-2\" />\r\n                Opportunities\r\n              </TabsTrigger>\r\n              <TabsTrigger\r\n                value=\"strategies\"\r\n                className=\"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3\"\r\n              >\r\n                <FolderOpen className=\"h-4 w-4 mr-2\" />\r\n                My Strategies\r\n              </TabsTrigger>\r\n              <TabsTrigger\r\n                value=\"gaps\"\r\n                className=\"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3\"\r\n              >\r\n                <AlertTriangle className=\"h-4 w-4 mr-2\" />\r\n                Gap Analysis\r\n              </TabsTrigger>\r\n            </TabsList>\r\n          </Tabs>\r\n        </div>\r\n\r\n        {/* Content based on active view */}\r\n        <div className=\"flex-1 overflow-hidden\">\r\n          {activeView === \"chat\" && (\r\n            <div className=\"flex flex-col h-full\">\r\n              {messages.length === 0 ? (\r\n                /* Empty State with Quick Actions */\r\n                <div className=\"flex-1 flex flex-col items-center justify-center p-4 md:p-8 overflow-auto\">\r\n                  <div className=\"max-w-2xl w-full space-y-8\">\r\n                    {/* Welcome */}\r\n                    <div className=\"text-center space-y-2\">\r\n                      <div className=\"h-16 w-16 rounded-2xl bg-primary/10 flex items-center justify-center mx-auto mb-4\">\r\n                        <Sparkles className=\"h-8 w-8 text-primary\" />\r\n                      </div>\r\n                      <h2 className=\"text-2xl font-bold text-foreground\">Welcome to AI Tender Strategist</h2>\r\n                      <p className=\"text-muted-foreground max-w-md mx-auto\">\r\n                        I'm here to help you understand tendering, build winning strategies, and discover opportunities\r\n                        tailored to your profile.\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Quick Actions Grid */}\r\n                    <div className=\"grid gap-3 sm:grid-cols-2\">\r\n                      {QUICK_ACTION_PROMPTS.slice(0, 6).map((action) => (\r\n                        <Button\r\n                          key={action.id}\r\n                          variant=\"outline\"\r\n                          className=\"h-auto p-4 justify-start text-left bg-transparent hover:bg-accent\"\r\n                          onClick={() => handleQuickAction(action.prompt)}\r\n                        >\r\n                          <div className=\"flex items-start gap-3\">\r\n                            <div className=\"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0\">\r\n                              {getIconForAction(action.icon)}\r\n                            </div>\r\n                            <div>\r\n                              <div className=\"font-medium text-foreground\">{action.label}</div>\r\n                              <div className=\"text-xs text-muted-foreground line-clamp-1\">\r\n                                {action.prompt.substring(0, 50)}...\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </Button>\r\n                      ))}\r\n                    </div>\r\n\r\n                    {/* Stats Cards */}\r\n                    {score && (\r\n                      <div className=\"grid gap-4 sm:grid-cols-3\">\r\n                        <Card className=\"border-border\">\r\n                          <CardContent className=\"p-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <div className=\"text-xs text-muted-foreground\">Readiness Score</div>\r\n                              <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\r\n                            </div>\r\n                            <div className=\"text-2xl font-bold text-foreground mt-1\">\r\n                              {Math.round((score.overall_score || 0) * 100)}%\r\n                            </div>\r\n                          </CardContent>\r\n                        </Card>\r\n                        <Card className=\"border-border\">\r\n                          <CardContent className=\"p-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <div className=\"text-xs text-muted-foreground\">Win Probability</div>\r\n                              <Target className=\"h-4 w-4 text-muted-foreground\" />\r\n                            </div>\r\n                            <div className=\"text-2xl font-bold text-foreground mt-1\">\r\n                              {Math.round((score.win_probability || 0) * 100)}%\r\n                            </div>\r\n                          </CardContent>\r\n                        </Card>\r\n                        <Card className=\"border-border\">\r\n                          <CardContent className=\"p-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <div className=\"text-xs text-muted-foreground\">Compliance</div>\r\n                              <Shield className=\"h-4 w-4 text-muted-foreground\" />\r\n                            </div>\r\n                            <div className=\"text-2xl font-bold text-foreground mt-1\">\r\n                              {Math.round((score.compliance_score || 0) * 100)}%\r\n                            </div>\r\n                          </CardContent>\r\n                        </Card>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                /* Chat Messages */\r\n                <ScrollArea className=\"flex-1 p-4\">\r\n                  <div className=\"max-w-3xl mx-auto space-y-4\">\r\n                    {messages.map((message: any) => (\r\n                      <div\r\n                        key={message.id}\r\n                        className={cn(\"flex gap-3\", message.role === \"user\" ? \"justify-end\" : \"justify-start\")}\r\n                      >\r\n                        {message.role === \"assistant\" && (\r\n                          <div className=\"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0\">\r\n                            <Sparkles className=\"h-4 w-4 text-primary\" />\r\n                          </div>\r\n                        )}\r\n                        <div\r\n                          className={cn(\r\n                            \"rounded-2xl px-4 py-3 max-w-[80%]\",\r\n                            message.role === \"user\" ? \"bg-primary text-primary-foreground\" : \"bg-muted text-foreground\",\r\n                          )}\r\n                        >\r\n                          <div className=\"whitespace-pre-wrap text-sm\">\r\n                            {message.role === \"assistant\" ? (\r\n                              <HighlightProcurementTerms text={String(message.content || \"\")} />\r\n                            ) : (\r\n                              String(message.content || \"\")\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                    {isLoading && (\r\n                      <div className=\"flex gap-3\">\r\n                        <div className=\"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0\">\r\n                          <Sparkles className=\"h-4 w-4 text-primary\" />\r\n                        </div>\r\n                        <div className=\"bg-muted rounded-2xl px-4 py-3\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                            <span className=\"text-sm text-muted-foreground\">Thinking...</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    <div ref={messagesEndRef} />\r\n                  </div>\r\n                </ScrollArea>\r\n              )}\r\n\r\n              {/* Input Area - Using safeInput instead of input */}\r\n              <div className=\"border-t border-border p-4\">\r\n                <form onSubmit={handleSubmit} className=\"max-w-3xl mx-auto\">\r\n                  <div className=\"relative\">\r\n                    <Textarea\r\n                      value={safeInput}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Ask me anything about tendering...\"\r\n                      className=\"min-h-[60px] max-h-[200px] pr-12 resize-none rounded-xl\"\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === \"Enter\" && !e.shiftKey) {\r\n                          e.preventDefault()\r\n                          handleSubmit(e)\r\n                        }\r\n                      }}\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      size=\"icon\"\r\n                      disabled={!safeInput.trim() || isLoading}\r\n                      className=\"absolute right-2 bottom-2 h-8 w-8 rounded-lg\"\r\n                    >\r\n                      {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Send className=\"h-4 w-4\" />}\r\n                    </Button>\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground text-center mt-2\">\r\n                    Press Enter to send, Shift+Enter for new line\r\n                  </p>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeView === \"opportunities\" && (\r\n            <div className=\"p-6 overflow-auto h-full\">\r\n              <div className=\"max-w-4xl mx-auto grid gap-6 lg:grid-cols-2\">\r\n                <OpportunityTracker />\r\n                <WinProbabilityIndicator />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeView === \"strategies\" && (\r\n            <div className=\"p-6 overflow-auto h-full\">\r\n              <div className=\"max-w-4xl mx-auto\">\r\n                <StrategyLibrary />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeView === \"gaps\" && (\r\n            <div className=\"p-6 overflow-auto h-full\">\r\n              <div className=\"max-w-4xl mx-auto\">\r\n                <CapabilityGapAnalysis />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      {/* Onboarding Dialog */}\r\n      <StrategistOnboardingDialog open={showOnboardingDialog} onOpenChange={setShowOnboardingDialog} />\r\n    </div>\r\n  )\r\n}\r\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","\"use client\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport {\r\n  MessageSquare,\r\n  Bell,\r\n  Shield,\r\n  FileText,\r\n  AlertTriangle,\r\n  ChevronRight,\r\n  History,\r\n  BookOpen,\r\n  Target,\r\n  Settings,\r\n} from \"lucide-react\"\r\nimport Link from \"next/link\"\r\nimport { formatDistanceToNow } from \"date-fns\"\r\nimport type { StrategistConversation, StrategistAlert, StrategistCompetitivenessScore } from \"@/lib/engines/strategist\"\r\n\r\ninterface StrategistSidebarProps {\r\n  conversations: StrategistConversation[]\r\n  alerts: StrategistAlert[]\r\n  unreadCount: number\r\n  score: StrategistCompetitivenessScore | undefined\r\n  onClose?: () => void\r\n}\r\n\r\nexport function StrategistSidebar({ conversations, alerts, unreadCount, score, onClose }: StrategistSidebarProps) {\r\n  const overallScore = score?.overall_score ?? 0\r\n  const complianceScore = score?.compliance_score ?? 0\r\n  const documentationScore = score?.documentation_score ?? 0\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Score Overview */}\r\n      {score && (\r\n        <div className=\"p-4 border-b border-border\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <span className=\"text-sm font-medium text-foreground\">Your Readiness</span>\r\n            <Badge variant=\"outline\" className=\"text-xs\">\r\n              {Math.round(overallScore * 100)}%\r\n            </Badge>\r\n          </div>\r\n          <Progress value={overallScore * 100} className=\"h-2 mb-3\" />\r\n          <div className=\"grid grid-cols-2 gap-2 text-xs\">\r\n            <div className=\"flex items-center gap-1.5\">\r\n              <Shield className=\"h-3 w-3 text-muted-foreground\" />\r\n              <span className=\"text-muted-foreground\">Compliance</span>\r\n              <span className=\"ml-auto font-medium\">{Math.round(complianceScore * 100)}%</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1.5\">\r\n              <FileText className=\"h-3 w-3 text-muted-foreground\" />\r\n              <span className=\"text-muted-foreground\">Docs</span>\r\n              <span className=\"ml-auto font-medium\">{Math.round(documentationScore * 100)}%</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Alerts */}\r\n      {alerts && alerts.length > 0 && (\r\n        <div className=\"p-4 border-b border-border\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Bell className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span className=\"text-sm font-medium text-foreground\">Alerts</span>\r\n            </div>\r\n            {unreadCount > 0 && (\r\n              <Badge variant=\"destructive\" className=\"text-xs\">\r\n                {unreadCount}\r\n              </Badge>\r\n            )}\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            {alerts.slice(0, 3).map((alert) => (\r\n              <div\r\n                key={alert.id}\r\n                className=\"flex items-start gap-2 p-2 rounded-lg bg-muted/50 cursor-pointer hover:bg-muted transition-colors\"\r\n              >\r\n                <AlertTriangle\r\n                  className={`h-4 w-4 flex-shrink-0 mt-0.5 ${\r\n                    alert.priority === \"urgent\"\r\n                      ? \"text-destructive\"\r\n                      : alert.priority === \"high\"\r\n                        ? \"text-orange-500\"\r\n                        : \"text-muted-foreground\"\r\n                  }`}\r\n                />\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <p className=\"text-xs font-medium text-foreground line-clamp-1\">{alert.title || \"Alert\"}</p>\r\n                  <p className=\"text-xs text-muted-foreground line-clamp-1\">{alert.message || \"\"}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Recent Conversations */}\r\n      <div className=\"flex-1 flex flex-col min-h-0\">\r\n        <div className=\"p-4 pb-2 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <History className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span className=\"text-sm font-medium text-foreground\">Recent Chats</span>\r\n          </div>\r\n        </div>\r\n        <ScrollArea className=\"flex-1 px-4\">\r\n          <div className=\"space-y-1 pb-4\">\r\n            {conversations && conversations.length > 0 ? (\r\n              conversations.slice(0, 10).map((conv) => (\r\n                <button\r\n                  key={conv.id}\r\n                  className=\"w-full flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-left\"\r\n                  onClick={onClose}\r\n                >\r\n                  <MessageSquare className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\r\n                  <div className=\"min-w-0 flex-1\">\r\n                    <p className=\"text-sm font-medium text-foreground truncate\">{conv.title || \"New Conversation\"}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {conv.last_message_at\r\n                        ? formatDistanceToNow(new Date(conv.last_message_at), { addSuffix: true })\r\n                        : \"No messages\"}\r\n                    </p>\r\n                  </div>\r\n                </button>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-xs text-muted-foreground text-center py-4\">No conversations yet. Start chatting!</p>\r\n            )}\r\n          </div>\r\n        </ScrollArea>\r\n      </div>\r\n\r\n      {/* Quick Links */}\r\n      <div className=\"p-4 border-t border-border space-y-1\">\r\n        <Link href=\"/dashboard/strategist/learning\" onClick={onClose}>\r\n          <Button variant=\"ghost\" className=\"w-full justify-start gap-2 h-9\">\r\n            <BookOpen className=\"h-4 w-4\" />\r\n            <span className=\"text-sm\">Learning Center</span>\r\n            <ChevronRight className=\"h-4 w-4 ml-auto\" />\r\n          </Button>\r\n        </Link>\r\n        <Link href=\"/dashboard/strategist/opportunities\" onClick={onClose}>\r\n          <Button variant=\"ghost\" className=\"w-full justify-start gap-2 h-9\">\r\n            <Target className=\"h-4 w-4\" />\r\n            <span className=\"text-sm\">Opportunities</span>\r\n            <ChevronRight className=\"h-4 w-4 ml-auto\" />\r\n          </Button>\r\n        </Link>\r\n        <Link href=\"/dashboard/profile\" onClick={onClose}>\r\n          <Button variant=\"ghost\" className=\"w-full justify-start gap-2 h-9\">\r\n            <Settings className=\"h-4 w-4\" />\r\n            <span className=\"text-sm\">Preferences</span>\r\n            <ChevronRight className=\"h-4 w-4 ml-auto\" />\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport {\r\n  Eye,\r\n  Bookmark,\r\n  BookmarkCheck,\r\n  X,\r\n  TrendingUp,\r\n  Shield,\r\n  Zap,\r\n  Target,\r\n  Calendar,\r\n  Building2,\r\n  Loader2,\r\n  RefreshCw,\r\n} from \"lucide-react\"\r\nimport Link from \"next/link\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useStrategistOpportunities } from \"@/hooks/use-strategist\"\r\n\r\ninterface Opportunity {\r\n  id: string\r\n  scraped_tender_id?: string | null\r\n  custom_tender_id?: string | null\r\n  match_score: number\r\n  match_reasons: string[]\r\n  opportunity_type: \"low_risk\" | \"high_margin\" | \"quick_win\" | \"strategic\" | \"growth\"\r\n  is_viewed: boolean\r\n  is_saved: boolean\r\n  is_dismissed: boolean\r\n  ai_insights: any\r\n  estimated_margin?: number | null\r\n  estimated_effort?: string | null\r\n    tender?: {\r\n    id: string\r\n    title: string\r\n    organization: string\r\n    close_date?: string | null\r\n    estimated_value?: string | null\r\n  }\r\n}\r\n\r\nconst opportunityTypeConfig = {\r\n  low_risk: { icon: Shield, label: \"Low Risk\", color: \"text-green-500\", bg: \"bg-green-500/10\" },\r\n  high_margin: { icon: TrendingUp, label: \"High Margin\", color: \"text-blue-500\", bg: \"bg-blue-500/10\" },\r\n  quick_win: { icon: Zap, label: \"Quick Win\", color: \"text-yellow-500\", bg: \"bg-yellow-500/10\" },\r\n  strategic: { icon: Target, label: \"Strategic\", color: \"text-purple-500\", bg: \"bg-purple-500/10\" },\r\n  growth: { icon: TrendingUp, label: \"Growth\", color: \"text-primary\", bg: \"bg-primary/10\" },\r\n}\r\n\r\nexport function OpportunityTracker() {\r\n  const { opportunities, isLoading, refresh, saveOpportunity, dismissOpportunity, markViewed } =\r\n    useStrategistOpportunities()\r\n\r\n  const [activeTab, setActiveTab] = useState<string>(\"all\")\r\n\r\n  const filteredOpportunities = opportunities.filter((opp) => {\r\n    if (activeTab === \"all\") return !opp.is_dismissed\r\n    if (activeTab === \"saved\") return opp.is_saved\r\n    if (activeTab === \"new\") return !opp.is_viewed && !opp.is_dismissed\r\n    return opp.opportunity_type === activeTab && !opp.is_dismissed\r\n  })\r\n\r\n  const handleView = async (opportunity: Opportunity) => {\r\n    if (!opportunity.is_viewed) {\r\n      await markViewed(opportunity.id)\r\n    }\r\n  }\r\n\r\n  const handleSave = async (opportunity: Opportunity) => {\r\n    await saveOpportunity(opportunity.id, !opportunity.is_saved)\r\n  }\r\n\r\n  const handleDismiss = async (opportunity: Opportunity) => {\r\n    await dismissOpportunity(opportunity.id)\r\n  }\r\n\r\n  const getMatchScoreColor = (score: number) => {\r\n    if (score >= 0.8) return \"text-green-500\"\r\n    if (score >= 0.6) return \"text-yellow-500\"\r\n    return \"text-orange-500\"\r\n  }\r\n\r\n  return (\r\n    <Card className=\"h-full\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-lg\">Opportunity Tracker</CardTitle>\r\n            <CardDescription>Tenders matched to your profile</CardDescription>\r\n          </div>\r\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => refresh?.()} disabled={isLoading}>\r\n            <RefreshCw className={cn(\"h-4 w-4\", isLoading && \"animate-spin\")} />\r\n          </Button>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <Tabs value={activeTab} onValueChange={setActiveTab}>\r\n          <TabsList className=\"w-full grid grid-cols-4\">\r\n            <TabsTrigger value=\"all\" className=\"text-xs\">\r\n              All\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"new\" className=\"text-xs\">\r\n              New\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"saved\" className=\"text-xs\">\r\n              Saved\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"quick_win\" className=\"text-xs\">\r\n              Quick Wins\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value={activeTab} className=\"mt-4\">\r\n            {isLoading ? (\r\n              <div className=\"flex items-center justify-center py-8\">\r\n                <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n              </div>\r\n            ) : filteredOpportunities.length === 0 ? (\r\n              <div className=\"text-center py-8 text-muted-foreground\">\r\n                <Target className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n                <p className=\"text-sm\">No opportunities found</p>\r\n                <p className=\"text-xs mt-1\">Check back later for new matches</p>\r\n              </div>\r\n            ) : (\r\n              <ScrollArea className=\"h-[400px]\">\r\n                <div className=\"space-y-3\">\r\n                  {filteredOpportunities.map((opportunity) => {\r\n                    const typeConfig = opportunityTypeConfig[opportunity.opportunity_type]\r\n                    const TypeIcon = typeConfig.icon\r\n\r\n                    return (\r\n                      <div\r\n                        key={opportunity.id}\r\n                        className={cn(\r\n                          \"p-4 rounded-xl border transition-colors\",\r\n                          !opportunity.is_viewed && \"border-primary/50 bg-primary/5\",\r\n                          opportunity.is_viewed && \"border-border\",\r\n                        )}\r\n                        onClick={() => handleView(opportunity)}\r\n                      >\r\n                        <div className=\"flex items-start justify-between gap-3\">\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <div className=\"flex items-center gap-2 mb-1\">\r\n                              <Badge variant=\"secondary\" className={cn(\"text-xs\", typeConfig.bg, typeConfig.color)}>\r\n                                <TypeIcon className=\"h-3 w-3 mr-1\" />\r\n                                {typeConfig.label}\r\n                              </Badge>\r\n                              {!opportunity.is_viewed && (\r\n                                <Badge variant=\"default\" className=\"text-xs\">\r\n                                  New\r\n                                </Badge>\r\n                              )}\r\n                            </div>\r\n\r\n                            <h4 className=\"font-medium text-sm text-foreground line-clamp-2\">\r\n                              {opportunity.tender?.title || \"Untitled Tender\"}\r\n                            </h4>\r\n\r\n                            <div className=\"flex items-center gap-3 mt-2 text-xs text-muted-foreground\">\r\n                              <span className=\"flex items-center gap-1\">\r\n                                <Building2 className=\"h-3 w-3\" />\r\n                                {opportunity.tender?.organization || \"Unknown\"}\r\n                              </span>\r\n                              {opportunity.tender?.close_date && (\r\n                                <span className=\"flex items-center gap-1\">\r\n                                  <Calendar className=\"h-3 w-3\" />\r\n                                  {new Date(opportunity.tender.close_date as string).toLocaleDateString()}\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center gap-2 mt-2\">\r\n                              <span className=\"text-xs text-muted-foreground\">Match:</span>\r\n                              <span className={cn(\"text-sm font-bold\", getMatchScoreColor(opportunity.match_score))}>\r\n                                {Math.round(opportunity.match_score * 100)}%\r\n                              </span>\r\n                              {opportunity.estimated_margin && (\r\n                                <>\r\n                                  <span className=\"text-xs text-muted-foreground ml-2\">Est. Margin:</span>\r\n                                  <span className=\"text-sm font-medium text-green-500\">\r\n                                    {opportunity.estimated_margin}%\r\n                                  </span>\r\n                                </>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"flex flex-col gap-1\">\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              className=\"h-8 w-8\"\r\n                              onClick={() => handleSave(opportunity)}\r\n                            >\r\n                              {opportunity.is_saved ? (\r\n                                <BookmarkCheck className=\"h-4 w-4 text-primary\" />\r\n                              ) : (\r\n                                <Bookmark className=\"h-4 w-4\" />\r\n                              )}\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              className=\"h-8 w-8 text-muted-foreground hover:text-destructive\"\r\n                              onClick={(e) => {\r\n                                e.stopPropagation()\r\n                                handleDismiss(opportunity)\r\n                              }}\r\n                            >\r\n                              <X className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {opportunity.match_reasons && opportunity.match_reasons.length > 0 && (\r\n                          <div className=\"mt-3 pt-3 border-t border-border\">\r\n                            <p className=\"text-xs text-muted-foreground mb-1\">Why this matches you:</p>\r\n                            <div className=\"flex flex-wrap gap-1\">\r\n                              {opportunity.match_reasons.slice(0, 3).map((reason, i) => (\r\n                                <Badge key={i} variant=\"outline\" className=\"text-xs\">\r\n                                  {reason}\r\n                                </Badge>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        <div className=\"mt-3 flex gap-2\">\r\n                          <Button variant=\"outline\" size=\"sm\" className=\"flex-1 text-xs bg-transparent\" asChild>\r\n                            <Link\r\n                              href={`/dashboard/tenders/${opportunity.scraped_tender_id || opportunity.custom_tender_id}`}\r\n                            >\r\n                              <Eye className=\"h-3 w-3 mr-1\" />\r\n                              View Tender\r\n                            </Link>\r\n                          </Button>\r\n                          <Button variant=\"default\" size=\"sm\" className=\"flex-1 text-xs\" asChild>\r\n                            <Link\r\n                              href={`/dashboard/strategist?tenderId=${opportunity.scraped_tender_id || opportunity.custom_tender_id}`}\r\n                            >\r\n                              <Target className=\"h-3 w-3 mr-1\" />\r\n                              Get Strategy\r\n                            </Link>\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </ScrollArea>\r\n            )}\r\n          </TabsContent>\r\n        </Tabs>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\"\r\nimport {\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  ChevronDown,\r\n  ChevronRight,\r\n  Clock,\r\n  FileText,\r\n  Shield,\r\n  Building2,\r\n  ExternalLink,\r\n  Loader2,\r\n  RefreshCw,\r\n} from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useStrategistPreferences, useCompetitivenessScore } from \"@/hooks/use-strategist\"\r\n\r\ninterface GapItem {\r\n  id: string\r\n  category: \"compliance\" | \"documentation\" | \"capacity\" | \"experience\"\r\n  name: string\r\n  status: \"missing\" | \"expiring\" | \"incomplete\" | \"complete\"\r\n  priority: \"critical\" | \"high\" | \"medium\" | \"low\"\r\n  description: string\r\n  actionSteps: string[]\r\n  expiryDate?: string\r\n  actionUrl?: string\r\n}\r\n\r\nconst categoryConfig = {\r\n  compliance: { icon: Shield, label: \"Compliance\", color: \"text-red-500\" },\r\n  documentation: { icon: FileText, label: \"Documentation\", color: \"text-orange-500\" },\r\n  capacity: { icon: Building2, label: \"Capacity\", color: \"text-blue-500\" },\r\n  experience: { icon: Clock, label: \"Experience\", color: \"text-purple-500\" },\r\n}\r\n\r\nconst priorityConfig = {\r\n  critical: { label: \"Critical\", color: \"destructive\" },\r\n  high: { label: \"High\", color: \"default\" },\r\n  medium: { label: \"Medium\", color: \"secondary\" },\r\n  low: { label: \"Low\", color: \"outline\" },\r\n}\r\n\r\nexport function CapabilityGapAnalysis() {\r\n  const { preferences, isLoading: prefsLoading } = useStrategistPreferences()\r\n  const { score, isLoading: scoreLoading } = useCompetitivenessScore()\r\n  const [gaps, setGaps] = useState<GapItem[]>([])\r\n  const [expandedItems, setExpandedItems] = useState<Set<string>>(new Set())\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (preferences && score) {\r\n      analyzeGaps()\r\n    }\r\n  }, [preferences, score])\r\n\r\n  const analyzeGaps = () => {\r\n    const identifiedGaps: GapItem[] = []\r\n\r\n    // Tax Clearance\r\n    if (!preferences?.has_tax_clearance) {\r\n      identifiedGaps.push({\r\n        id: \"tax_clearance\",\r\n        category: \"compliance\",\r\n        name: \"Tax Clearance Certificate\",\r\n        status: \"missing\",\r\n        priority: \"critical\",\r\n        description: \"Required for all government tenders. Without this, your bid will be disqualified.\",\r\n        actionSteps: [\r\n          \"Register on SARS eFiling if not already\",\r\n          \"Submit Tax Compliance Status (TCS) request\",\r\n          \"Wait for verification (usually 24-48 hours)\",\r\n          \"Download your Tax Clearance Certificate\",\r\n        ],\r\n        actionUrl: \"https://www.sarsefiling.co.za\",\r\n      })\r\n    } else if (preferences?.tax_clearance_expiry) {\r\n      const expiryDate = new Date(preferences.tax_clearance_expiry)\r\n      const daysUntilExpiry = Math.ceil((expiryDate.getTime() - Date.now()) / (1000 * 60 * 60 * 24))\r\n      if (daysUntilExpiry <= 30) {\r\n        identifiedGaps.push({\r\n          id: \"tax_clearance_expiry\",\r\n          category: \"compliance\",\r\n          name: \"Tax Clearance Certificate\",\r\n          status: \"expiring\",\r\n          priority: daysUntilExpiry <= 7 ? \"critical\" : \"high\",\r\n          description: `Your tax clearance expires in ${daysUntilExpiry} days. Renew before bidding on new tenders.`,\r\n          actionSteps: [\"Log into SARS eFiling\", \"Request new Tax Compliance Status\", \"Download updated certificate\"],\r\n          expiryDate: preferences.tax_clearance_expiry,\r\n          actionUrl: \"https://www.sarsefiling.co.za\",\r\n        })\r\n      }\r\n    }\r\n\r\n    // COIDA\r\n    if (!preferences?.has_coida) {\r\n      identifiedGaps.push({\r\n        id: \"coida\",\r\n        category: \"compliance\",\r\n        name: \"COIDA Letter of Good Standing\",\r\n        status: \"missing\",\r\n        priority: \"high\",\r\n        description: \"Required for tenders involving workers. Shows you're registered for employee compensation.\",\r\n        actionSteps: [\r\n          \"Register with the Compensation Fund\",\r\n          \"Pay outstanding assessments if any\",\r\n          \"Request Letter of Good Standing\",\r\n          \"Wait for processing (usually 7-14 days)\",\r\n        ],\r\n        actionUrl: \"https://www.labour.gov.za\",\r\n      })\r\n    }\r\n\r\n    // CSD Registration\r\n    if (!preferences?.has_csd_registration) {\r\n      identifiedGaps.push({\r\n        id: \"csd\",\r\n        category: \"documentation\",\r\n        name: \"CSD Registration\",\r\n        status: \"missing\",\r\n        priority: \"critical\",\r\n        description: \"Central Supplier Database registration is mandatory for all government suppliers.\",\r\n        actionSteps: [\r\n          \"Go to CSD website\",\r\n          \"Create account and submit application\",\r\n          \"Upload required documents (company registration, tax, B-BBEE)\",\r\n          \"Complete verification process\",\r\n        ],\r\n        actionUrl: \"https://secure.csd.gov.za\",\r\n      })\r\n    }\r\n\r\n    // CIDB (if in construction)\r\n    if (\r\n      preferences?.industries?.includes(\"construction\") &&\r\n      (!preferences?.cidb_grading || preferences.cidb_grading === \"none\")\r\n    ) {\r\n      identifiedGaps.push({\r\n        id: \"cidb\",\r\n        category: \"capacity\",\r\n        name: \"CIDB Registration\",\r\n        status: \"missing\",\r\n        priority: \"critical\",\r\n        description: \"Required for construction-related government tenders.\",\r\n        actionSteps: [\r\n          \"Register on CIDB website\",\r\n          \"Submit grading application with required documents\",\r\n          \"Pay registration fees\",\r\n          \"Wait for assessment and grading\",\r\n        ],\r\n        actionUrl: \"https://www.cidb.org.za\",\r\n      })\r\n    }\r\n\r\n    // B-BBEE\r\n    if (!preferences?.bee_level || preferences.bee_level === \"non-compliant\") {\r\n      identifiedGaps.push({\r\n        id: \"bbbee\",\r\n        category: \"compliance\",\r\n        name: \"B-BBEE Certificate\",\r\n        status: \"missing\",\r\n        priority: \"high\",\r\n        description: \"B-BBEE status affects your preferential points. Without it, you lose competitive advantage.\",\r\n        actionSteps: [\r\n          \"Determine if you qualify for EME/QSE affidavit or need verification\",\r\n          \"Contact a SANAS-accredited verification agency if needed\",\r\n          \"Gather required documentation\",\r\n          \"Complete verification process\",\r\n        ],\r\n      })\r\n    }\r\n\r\n    // Experience/Track Record\r\n    if ((preferences?.past_tender_wins || 0) < 3) {\r\n      identifiedGaps.push({\r\n        id: \"experience\",\r\n        category: \"experience\",\r\n        name: \"Track Record / References\",\r\n        status: \"incomplete\",\r\n        priority: \"medium\",\r\n        description: \"Limited track record may affect scoring on functionality criteria.\",\r\n        actionSteps: [\r\n          \"Document all completed projects with details\",\r\n          \"Request reference letters from past clients\",\r\n          \"Build portfolio of successful work\",\r\n          \"Consider joint ventures with experienced partners\",\r\n        ],\r\n      })\r\n    }\r\n\r\n    setGaps(identifiedGaps)\r\n    setLoading(false)\r\n  }\r\n\r\n  const toggleExpand = (id: string) => {\r\n    const newExpanded = new Set(expandedItems)\r\n    if (newExpanded.has(id)) {\r\n      newExpanded.delete(id)\r\n    } else {\r\n      newExpanded.add(id)\r\n    }\r\n    setExpandedItems(newExpanded)\r\n  }\r\n\r\n  const completedCount = gaps.filter((g) => g.status === \"complete\").length\r\n  const criticalCount = gaps.filter((g) => g.priority === \"critical\" && g.status !== \"complete\").length\r\n  const overallProgress = gaps.length > 0 ? (completedCount / gaps.length) * 100 : 100\r\n\r\n  if (prefsLoading || scoreLoading || loading) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-center justify-center py-12\">\r\n          <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-lg\">Capability Gap Analysis</CardTitle>\r\n            <CardDescription>What you need to improve your bid readiness</CardDescription>\r\n          </div>\r\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => analyzeGaps()}>\r\n            <RefreshCw className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        {/* Summary */}\r\n        <div className=\"p-4 rounded-xl bg-muted/50 space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm font-medium\">Overall Readiness</span>\r\n            <span className=\"text-lg font-bold text-primary\">{Math.round(overallProgress)}%</span>\r\n          </div>\r\n          <Progress value={overallProgress} className=\"h-2\" />\r\n          <div className=\"flex items-center gap-4 text-xs\">\r\n            {criticalCount > 0 && (\r\n              <span className=\"flex items-center gap-1 text-destructive\">\r\n                <AlertTriangle className=\"h-3 w-3\" />\r\n                {criticalCount} critical item{criticalCount !== 1 ? \"s\" : \"\"}\r\n              </span>\r\n            )}\r\n            <span className=\"flex items-center gap-1 text-muted-foreground\">\r\n              <CheckCircle className=\"h-3 w-3\" />\r\n              {completedCount} of {gaps.length} complete\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Gap Items */}\r\n        {gaps.length === 0 ? (\r\n          <div className=\"text-center py-8\">\r\n            <CheckCircle className=\"h-12 w-12 mx-auto text-green-500 mb-3\" />\r\n            <p className=\"font-medium text-foreground\">Looking good!</p>\r\n            <p className=\"text-sm text-muted-foreground\">No capability gaps identified</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-2\">\r\n            {gaps.map((gap) => {\r\n              const catConfig = categoryConfig[gap.category]\r\n              const CatIcon = catConfig.icon\r\n              const isExpanded = expandedItems.has(gap.id)\r\n\r\n              return (\r\n                <Collapsible key={gap.id} open={isExpanded} onOpenChange={() => toggleExpand(gap.id)}>\r\n                  <CollapsibleTrigger asChild>\r\n                    <div\r\n                      className={cn(\r\n                        \"p-4 rounded-xl border cursor-pointer transition-colors hover:bg-muted/50\",\r\n                        gap.status === \"missing\" &&\r\n                          gap.priority === \"critical\" &&\r\n                          \"border-destructive/50 bg-destructive/5\",\r\n                      )}\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div\r\n                          className={cn(\r\n                            \"h-10 w-10 rounded-lg flex items-center justify-center\",\r\n                            `bg-${gap.category}/10`,\r\n                          )}\r\n                        >\r\n                          <CatIcon className={cn(\"h-5 w-5\", catConfig.color)} />\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <h4 className=\"font-medium text-sm text-foreground\">{gap.name}</h4>\r\n                            <Badge variant={priorityConfig[gap.priority].color as any} className=\"text-xs\">\r\n                              {priorityConfig[gap.priority].label}\r\n                            </Badge>\r\n                          </div>\r\n                          <p className=\"text-xs text-muted-foreground mt-0.5 line-clamp-1\">{gap.description}</p>\r\n                        </div>\r\n                        {isExpanded ? (\r\n                          <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\r\n                        ) : (\r\n                          <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </CollapsibleTrigger>\r\n                  <CollapsibleContent>\r\n                    <div className=\"px-4 pb-4 pt-2 space-y-3 border-x border-b rounded-b-xl\">\r\n                      <p className=\"text-sm text-foreground\">{gap.description}</p>\r\n\r\n                      {gap.expiryDate && (\r\n                        <div className=\"flex items-center gap-2 text-sm text-orange-500\">\r\n                          <Clock className=\"h-4 w-4\" />\r\n                          Expires: {new Date(gap.expiryDate).toLocaleDateString()}\r\n                        </div>\r\n                      )}\r\n\r\n                      <div className=\"space-y-2\">\r\n                        <p className=\"text-xs font-medium text-muted-foreground\">Steps to resolve:</p>\r\n                        <ol className=\"space-y-1\">\r\n                          {gap.actionSteps.map((step, i) => (\r\n                            <li key={i} className=\"flex items-start gap-2 text-sm\">\r\n                              <span className=\"flex-shrink-0 h-5 w-5 rounded-full bg-primary/10 text-primary text-xs flex items-center justify-center\">\r\n                                {i + 1}\r\n                              </span>\r\n                              <span>{step}</span>\r\n                            </li>\r\n                          ))}\r\n                        </ol>\r\n                      </div>\r\n\r\n                      {gap.actionUrl && (\r\n                        <Button variant=\"outline\" size=\"sm\" className=\"w-full bg-transparent\" asChild>\r\n                          <a href={gap.actionUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <ExternalLink className=\"h-4 w-4 mr-2\" />\r\n                            Go to Website\r\n                          </a>\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                  </CollapsibleContent>\r\n                </Collapsible>\r\n              )\r\n            })}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Download, FileText, Save, Loader2, Check } from \"lucide-react\"\r\nimport { useToast } from \"@/hooks/use-toast\"\r\n\r\ninterface Strategy {\r\n  id?: string\r\n  title: string\r\n  content: any\r\n  summary?: string\r\n  tender_id?: string\r\n}\r\n\r\ninterface StrategyExportProps {\r\n  strategy: Strategy\r\n  onSaved?: (savedStrategy: any) => void\r\n}\r\n\r\nexport function StrategyExport({ strategy, onSaved }: StrategyExportProps) {\r\n  const [saving, setSaving] = useState(false)\r\n  const [exporting, setExporting] = useState(false)\r\n  const [showSaveDialog, setShowSaveDialog] = useState(false)\r\n  const [strategyTitle, setStrategyTitle] = useState(strategy.title || \"Untitled Strategy\")\r\n  const { toast } = useToast()\r\n\r\n  const handleSaveStrategy = async () => {\r\n    setSaving(true)\r\n    try {\r\n      const response = await fetch(\"/api/strategist/strategy\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          action: \"save\",\r\n          title: strategyTitle,\r\n          content: strategy.content,\r\n          summary: strategy.summary,\r\n          tenderId: strategy.tender_id,\r\n        }),\r\n      })\r\n\r\n      if (response.ok) {\r\n        const savedStrategy = await response.json()\r\n        toast({\r\n          title: \"Strategy Saved\",\r\n          description: \"Your strategy has been saved to your library.\",\r\n        })\r\n        setShowSaveDialog(false)\r\n        onSaved?.(savedStrategy)\r\n      } else {\r\n        throw new Error(\"Failed to save strategy\")\r\n      }\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to save strategy. Please try again.\",\r\n        variant: \"destructive\",\r\n      })\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  const handleExportPDF = async () => {\r\n    setExporting(true)\r\n    try {\r\n      const response = await fetch(\"/api/strategist/export\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          format: \"pdf\",\r\n          strategy: strategy,\r\n        }),\r\n      })\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob()\r\n        const url = window.URL.createObjectURL(blob)\r\n        const a = document.createElement(\"a\")\r\n        a.href = url\r\n        a.download = `${strategyTitle.replace(/\\s+/g, \"_\")}_Strategy.pdf`\r\n        document.body.appendChild(a)\r\n        a.click()\r\n        window.URL.revokeObjectURL(url)\r\n        document.body.removeChild(a)\r\n\r\n        toast({\r\n          title: \"Export Complete\",\r\n          description: \"Your strategy has been downloaded as PDF.\",\r\n        })\r\n      } else {\r\n        throw new Error(\"Failed to export\")\r\n      }\r\n    } catch (error) {\r\n      // Fallback: Generate simple text export\r\n      const content = generateTextContent(strategy)\r\n      const blob = new Blob([content], { type: \"text/plain\" })\r\n      const url = window.URL.createObjectURL(blob)\r\n      const a = document.createElement(\"a\")\r\n      a.href = url\r\n      a.download = `${strategyTitle.replace(/\\s+/g, \"_\")}_Strategy.txt`\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      window.URL.revokeObjectURL(url)\r\n      document.body.removeChild(a)\r\n\r\n      toast({\r\n        title: \"Export Complete\",\r\n        description: \"Your strategy has been downloaded as text file.\",\r\n      })\r\n    } finally {\r\n      setExporting(false)\r\n    }\r\n  }\r\n\r\n  const handleExportWord = async () => {\r\n    setExporting(true)\r\n    try {\r\n      const response = await fetch(\"/api/strategist/export\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          format: \"docx\",\r\n          strategy: strategy,\r\n        }),\r\n      })\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob()\r\n        const url = window.URL.createObjectURL(blob)\r\n        const a = document.createElement(\"a\")\r\n        a.href = url\r\n        a.download = `${strategyTitle.replace(/\\s+/g, \"_\")}_Strategy.docx`\r\n        document.body.appendChild(a)\r\n        a.click()\r\n        window.URL.revokeObjectURL(url)\r\n        document.body.removeChild(a)\r\n\r\n        toast({\r\n          title: \"Export Complete\",\r\n          description: \"Your strategy has been downloaded as Word document.\",\r\n        })\r\n      } else {\r\n        throw new Error(\"Failed to export\")\r\n      }\r\n    } catch (error) {\r\n      // Fallback to HTML\r\n      const content = generateHTMLContent(strategy)\r\n      const blob = new Blob([content], { type: \"text/html\" })\r\n      const url = window.URL.createObjectURL(blob)\r\n      const a = document.createElement(\"a\")\r\n      a.href = url\r\n      a.download = `${strategyTitle.replace(/\\s+/g, \"_\")}_Strategy.html`\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      window.URL.revokeObjectURL(url)\r\n      document.body.removeChild(a)\r\n\r\n      toast({\r\n        title: \"Export Complete\",\r\n        description: \"Your strategy has been downloaded as HTML file.\",\r\n      })\r\n    } finally {\r\n      setExporting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"gap-2 bg-transparent\">\r\n            {exporting ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Download className=\"h-4 w-4\" />}\r\n            Export\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"end\">\r\n          <DropdownMenuItem onClick={() => setShowSaveDialog(true)}>\r\n            <Save className=\"h-4 w-4 mr-2\" />\r\n            Save to Library\r\n          </DropdownMenuItem>\r\n          <DropdownMenuSeparator />\r\n          <DropdownMenuItem onClick={handleExportPDF} disabled={exporting}>\r\n            <FileText className=\"h-4 w-4 mr-2\" />\r\n            Export as PDF\r\n          </DropdownMenuItem>\r\n          <DropdownMenuItem onClick={handleExportWord} disabled={exporting}>\r\n            <FileText className=\"h-4 w-4 mr-2\" />\r\n            Export as Word\r\n          </DropdownMenuItem>\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <Dialog open={showSaveDialog} onOpenChange={setShowSaveDialog}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Save Strategy</DialogTitle>\r\n            <DialogDescription>Save this strategy to your library for future reference.</DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"title\">Strategy Name</Label>\r\n              <Input\r\n                id=\"title\"\r\n                value={strategyTitle}\r\n                onChange={(e) => setStrategyTitle(e.target.value)}\r\n                placeholder=\"Enter a name for this strategy\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setShowSaveDialog(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleSaveStrategy} disabled={saving || !strategyTitle.trim()}>\r\n              {saving ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Check className=\"h-4 w-4 mr-2\" />\r\n                  Save\r\n                </>\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction generateTextContent(strategy: Strategy): string {\r\n  const content = strategy.content || {}\r\n  let text = `TENDER BID STRATEGY\\n${\"=\".repeat(50)}\\n\\n`\r\n  text += `Title: ${strategy.title}\\n\\n`\r\n\r\n  if (strategy.summary) {\r\n    text += `SUMMARY\\n${\"-\".repeat(30)}\\n${strategy.summary}\\n\\n`\r\n  }\r\n\r\n  if (content.viability) {\r\n    text += `BID VIABILITY ANALYSIS\\n${\"-\".repeat(30)}\\n${content.viability}\\n\\n`\r\n  }\r\n\r\n  if (content.strengths) {\r\n    text += `STRENGTHS\\n${\"-\".repeat(30)}\\n${content.strengths}\\n\\n`\r\n  }\r\n\r\n  if (content.weaknesses) {\r\n    text += `WEAKNESSES\\n${\"-\".repeat(30)}\\n${content.weaknesses}\\n\\n`\r\n  }\r\n\r\n  if (content.complianceStrategy) {\r\n    text += `COMPLIANCE STRATEGY\\n${\"-\".repeat(30)}\\n${content.complianceStrategy}\\n\\n`\r\n  }\r\n\r\n  if (content.pricingStrategy) {\r\n    text += `PRICING STRATEGY\\n${\"-\".repeat(30)}\\n${content.pricingStrategy}\\n\\n`\r\n  }\r\n\r\n  if (content.risks) {\r\n    text += `RISKS & MITIGATION\\n${\"-\".repeat(30)}\\n${content.risks}\\n\\n`\r\n  }\r\n\r\n  if (content.submissionChecklist) {\r\n    text += `SUBMISSION CHECKLIST\\n${\"-\".repeat(30)}\\n${content.submissionChecklist}\\n\\n`\r\n  }\r\n\r\n  text += `\\nGenerated by BidMate AI Strategist\\nDate: ${new Date().toLocaleDateString()}`\r\n  return text\r\n}\r\n\r\nfunction generateHTMLContent(strategy: Strategy): string {\r\n  const content = strategy.content || {}\r\n  return `<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>${strategy.title} - Bid Strategy</title>\r\n  <style>\r\n    body { font-family: 'Inter', Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; color: #111827; }\r\n    h1 { color: #005B8F; border-bottom: 2px solid #19A7CE; padding-bottom: 10px; }\r\n    h2 { color: #005B8F; margin-top: 30px; }\r\n    .summary { background: #F7F9FC; padding: 20px; border-radius: 8px; margin: 20px 0; }\r\n    .section { margin-bottom: 30px; }\r\n    .footer { margin-top: 50px; padding-top: 20px; border-top: 1px solid #ddd; font-size: 12px; color: #666; }\r\n  </style>\r\n</head>\r\n<body>\r\n  <h1>${strategy.title}</h1>\r\n  ${strategy.summary ? `<div class=\"summary\"><strong>Summary:</strong> ${strategy.summary}</div>` : \"\"}\r\n  ${content.viability ? `<div class=\"section\"><h2>Bid Viability Analysis</h2><p>${content.viability}</p></div>` : \"\"}\r\n  ${content.strengths ? `<div class=\"section\"><h2>Strengths</h2><p>${content.strengths}</p></div>` : \"\"}\r\n  ${content.weaknesses ? `<div class=\"section\"><h2>Weaknesses</h2><p>${content.weaknesses}</p></div>` : \"\"}\r\n  ${content.complianceStrategy ? `<div class=\"section\"><h2>Compliance Strategy</h2><p>${content.complianceStrategy}</p></div>` : \"\"}\r\n  ${content.pricingStrategy ? `<div class=\"section\"><h2>Pricing Strategy</h2><p>${content.pricingStrategy}</p></div>` : \"\"}\r\n  ${content.risks ? `<div class=\"section\"><h2>Risks & Mitigation</h2><p>${content.risks}</p></div>` : \"\"}\r\n  ${content.submissionChecklist ? `<div class=\"section\"><h2>Submission Checklist</h2><p>${content.submissionChecklist}</p></div>` : \"\"}\r\n  <div class=\"footer\">Generated by BidMate AI Strategist | ${new Date().toLocaleDateString()}</div>\r\n</body>\r\n</html>`\r\n}\r\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport {\r\n  Search,\r\n  MoreVertical,\r\n  Download,\r\n  Trash2,\r\n  Eye,\r\n  Calendar,\r\n  Target,\r\n  TrendingUp,\r\n  Loader2,\r\n  FolderOpen,\r\n} from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useToast } from \"@/hooks/use-toast\"\r\nimport { StrategyExport } from \"./strategy-export\"\r\n\r\ninterface SavedStrategy {\r\n  id: string\r\n  title: string\r\n  strategy_type: string\r\n  content: any\r\n  summary?: string\r\n  viability_score?: number\r\n  risk_level?: string\r\n  win_probability?: number\r\n  status: string\r\n  created_at: string\r\n  updated_at: string\r\n  tender?: {\r\n    title: string\r\n  }\r\n}\r\n\r\nexport function StrategyLibrary() {\r\n  const [strategies, setStrategies] = useState<SavedStrategy[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n  const [selectedStrategy, setSelectedStrategy] = useState<SavedStrategy | null>(null)\r\n  const [viewDialogOpen, setViewDialogOpen] = useState(false)\r\n  const { toast } = useToast()\r\n\r\n  useEffect(() => {\r\n    loadStrategies()\r\n  }, [])\r\n\r\n  const loadStrategies = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const response = await fetch(\"/api/strategist/strategy?action=list\")\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setStrategies(data.strategies || [])\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading strategies:\", error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (strategyId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/strategist/strategy?id=${strategyId}`, {\r\n        method: \"DELETE\",\r\n      })\r\n\r\n      if (response.ok) {\r\n        setStrategies((prev) => prev.filter((s) => s.id !== strategyId))\r\n        toast({\r\n          title: \"Strategy Deleted\",\r\n          description: \"The strategy has been removed from your library.\",\r\n        })\r\n      }\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to delete strategy.\",\r\n        variant: \"destructive\",\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleView = (strategy: SavedStrategy) => {\r\n    setSelectedStrategy(strategy)\r\n    setViewDialogOpen(true)\r\n  }\r\n\r\n  const filteredStrategies = strategies.filter(\r\n    (s) =>\r\n      s.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      s.summary?.toLowerCase().includes(searchQuery.toLowerCase()),\r\n  )\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case \"won\":\r\n        return \"bg-green-500/10 text-green-500\"\r\n      case \"lost\":\r\n        return \"bg-red-500/10 text-red-500\"\r\n      case \"submitted\":\r\n        return \"bg-blue-500/10 text-blue-500\"\r\n      case \"active\":\r\n        return \"bg-primary/10 text-primary\"\r\n      default:\r\n        return \"bg-muted text-muted-foreground\"\r\n    }\r\n  }\r\n\r\n  const getRiskColor = (risk: string) => {\r\n    switch (risk) {\r\n      case \"low\":\r\n        return \"text-green-500\"\r\n      case \"medium\":\r\n        return \"text-yellow-500\"\r\n      case \"high\":\r\n        return \"text-orange-500\"\r\n      case \"critical\":\r\n        return \"text-red-500\"\r\n      default:\r\n        return \"text-muted-foreground\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"h-full\">\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-lg\">Strategy Library</CardTitle>\r\n          <CardDescription>Your saved bid strategies</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search strategies...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"pl-9\"\r\n            />\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n              <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n            </div>\r\n          ) : filteredStrategies.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <FolderOpen className=\"h-12 w-12 mx-auto text-muted-foreground/50 mb-3\" />\r\n              <p className=\"font-medium text-foreground\">No strategies yet</p>\r\n              <p className=\"text-sm text-muted-foreground mt-1\">\r\n                {searchQuery ? \"No matching strategies found\" : \"Your saved strategies will appear here\"}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <ScrollArea className=\"h-[400px]\">\r\n              <div className=\"space-y-3\">\r\n                {filteredStrategies.map((strategy) => (\r\n                  <div\r\n                    key={strategy.id}\r\n                    className=\"p-4 rounded-xl border border-border hover:border-primary/50 transition-colors\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between gap-3\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                          <Badge variant=\"outline\" className={cn(\"text-xs\", getStatusColor(strategy.status))}>\r\n                            {strategy.status}\r\n                          </Badge>\r\n                          {strategy.strategy_type && (\r\n                            <Badge variant=\"secondary\" className=\"text-xs\">\r\n                              {strategy.strategy_type}\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n\r\n                        <h4 className=\"font-medium text-sm text-foreground line-clamp-1\">{strategy.title}</h4>\r\n\r\n                        {strategy.summary && (\r\n                          <p className=\"text-xs text-muted-foreground mt-1 line-clamp-2\">{strategy.summary}</p>\r\n                        )}\r\n\r\n                        <div className=\"flex items-center gap-4 mt-3 text-xs text-muted-foreground\">\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Calendar className=\"h-3 w-3\" />\r\n                            {new Date(strategy.created_at).toLocaleDateString()}\r\n                          </span>\r\n                          {strategy.win_probability !== undefined && (\r\n                            <span className=\"flex items-center gap-1\">\r\n                              <Target className=\"h-3 w-3\" />\r\n                              Win: {Math.round(strategy.win_probability * 100)}%\r\n                            </span>\r\n                          )}\r\n                          {strategy.risk_level && (\r\n                            <span className={cn(\"flex items-center gap-1\", getRiskColor(strategy.risk_level))}>\r\n                              <TrendingUp className=\"h-3 w-3\" />\r\n                              {strategy.risk_level} risk\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <DropdownMenu>\r\n                        <DropdownMenuTrigger asChild>\r\n                          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\r\n                            <MoreVertical className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </DropdownMenuTrigger>\r\n                        <DropdownMenuContent align=\"end\">\r\n                          <DropdownMenuItem onClick={() => handleView(strategy)}>\r\n                            <Eye className=\"h-4 w-4 mr-2\" />\r\n                            View Details\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuItem>\r\n                            <Download className=\"h-4 w-4 mr-2\" />\r\n                            Export\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuSeparator />\r\n                          <DropdownMenuItem className=\"text-destructive\" onClick={() => handleDelete(strategy.id)}>\r\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                            Delete\r\n                          </DropdownMenuItem>\r\n                        </DropdownMenuContent>\r\n                      </DropdownMenu>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </ScrollArea>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* View Strategy Dialog */}\r\n      <Dialog open={viewDialogOpen} onOpenChange={setViewDialogOpen}>\r\n        <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>{selectedStrategy?.title}</DialogTitle>\r\n            <DialogDescription>\r\n              Created on {selectedStrategy && new Date(selectedStrategy.created_at).toLocaleDateString()}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {selectedStrategy && (\r\n            <div className=\"space-y-4\">\r\n              {/* Scores */}\r\n              <div className=\"grid grid-cols-3 gap-3\">\r\n                {selectedStrategy.viability_score !== undefined && (\r\n                  <div className=\"p-3 rounded-lg bg-muted/50 text-center\">\r\n                    <p className=\"text-xs text-muted-foreground\">Viability</p>\r\n                    <p className=\"text-lg font-bold text-primary\">\r\n                      {Math.round(selectedStrategy.viability_score * 100)}%\r\n                    </p>\r\n                  </div>\r\n                )}\r\n                {selectedStrategy.win_probability !== undefined && (\r\n                  <div className=\"p-3 rounded-lg bg-muted/50 text-center\">\r\n                    <p className=\"text-xs text-muted-foreground\">Win Probability</p>\r\n                    <p className=\"text-lg font-bold text-green-500\">\r\n                      {Math.round(selectedStrategy.win_probability * 100)}%\r\n                    </p>\r\n                  </div>\r\n                )}\r\n                {selectedStrategy.risk_level && (\r\n                  <div className=\"p-3 rounded-lg bg-muted/50 text-center\">\r\n                    <p className=\"text-xs text-muted-foreground\">Risk Level</p>\r\n                    <p className={cn(\"text-lg font-bold capitalize\", getRiskColor(selectedStrategy.risk_level))}>\r\n                      {selectedStrategy.risk_level}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Summary */}\r\n              {selectedStrategy.summary && (\r\n                <div className=\"p-4 rounded-lg bg-muted/50\">\r\n                  <h4 className=\"text-sm font-medium mb-2\">Summary</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">{selectedStrategy.summary}</p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Content Sections */}\r\n              {selectedStrategy.content && (\r\n                <div className=\"space-y-3\">\r\n                  {Object.entries(selectedStrategy.content).map(([key, value]) => {\r\n                    if (!value || key === \"raw\") return null\r\n                    return (\r\n                      <div key={key} className=\"p-4 rounded-lg border\">\r\n                        <h4 className=\"text-sm font-medium capitalize mb-2\">{key.replace(/_/g, \" \")}</h4>\r\n                        <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{value as string}</p>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )}\r\n\r\n              {/* Export Actions */}\r\n              <div className=\"flex justify-end gap-2 pt-4 border-t\">\r\n                <StrategyExport\r\n                  strategy={{\r\n                    title: selectedStrategy.title,\r\n                    content: selectedStrategy.content,\r\n                    summary: selectedStrategy.summary,\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\"\r\nimport {\r\n  Target,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Info,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Loader2,\r\n  RefreshCw,\r\n} from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface WinFactor {\r\n  name: string\r\n  score: number\r\n  weight: number\r\n  impact: \"positive\" | \"negative\" | \"neutral\"\r\n  description: string\r\n}\r\n\r\ninterface WinProbabilityProps {\r\n  tenderId?: string\r\n  className?: string\r\n}\r\n\r\nexport function WinProbabilityIndicator({ tenderId, className }: WinProbabilityProps) {\r\n  const [probability, setProbability] = useState<number | null>(null)\r\n  const [factors, setFactors] = useState<WinFactor[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [expanded, setExpanded] = useState(false)\r\n  const [trend, setTrend] = useState<\"up\" | \"down\" | \"stable\">(\"stable\")\r\n\r\n  useEffect(() => {\r\n    if (tenderId) {\r\n      calculateProbability()\r\n    }\r\n  }, [tenderId])\r\n\r\n  const calculateProbability = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const response = await fetch(`/api/strategist/readiness${tenderId ? `?tenderId=${tenderId}` : \"\"}`)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n\r\n        // Calculate win probability from various factors\r\n        const factorsList: WinFactor[] = [\r\n          {\r\n            name: \"Documentation Completeness\",\r\n            score: data.documentation_score || data.document_score || 0,\r\n            weight: 0.2,\r\n            impact: (data.documentation_score || data.document_score || 0) >= 0.7 ? \"positive\" : \"negative\",\r\n            description: \"Having all required documents ready\",\r\n          },\r\n          {\r\n            name: \"Compliance Status\",\r\n            score: data.compliance_score || 0,\r\n            weight: 0.25,\r\n            impact: (data.compliance_score || 0) >= 0.8 ? \"positive\" : \"negative\",\r\n            description: \"Tax clearance, COIDA, CSD registration\",\r\n          },\r\n          {\r\n            name: \"Experience & Track Record\",\r\n            score: data.experience_score || 0,\r\n            weight: 0.2,\r\n            impact: (data.experience_score || 0) >= 0.6 ? \"positive\" : \"neutral\",\r\n            description: \"Past tender wins and relevant experience\",\r\n          },\r\n          {\r\n            name: \"Capacity Fit\",\r\n            score: data.capacity_score || 0.5,\r\n            weight: 0.15,\r\n            impact: (data.capacity_score || 0.5) >= 0.7 ? \"positive\" : \"neutral\",\r\n            description: \"Company size and capability match\",\r\n          },\r\n          {\r\n            name: \"B-BBEE Status\",\r\n            score: data.bbbee_score || 0.5,\r\n            weight: 0.2,\r\n            impact: (data.bbbee_score || 0.5) >= 0.7 ? \"positive\" : \"neutral\",\r\n            description: \"Preferential points from B-BBEE level\",\r\n          },\r\n        ]\r\n\r\n        setFactors(factorsList)\r\n\r\n        // Calculate weighted probability\r\n        const weightedSum = factorsList.reduce((acc, f) => acc + f.score * f.weight, 0)\r\n        const calculatedProbability = weightedSum * 100\r\n\r\n        setProbability(calculatedProbability)\r\n\r\n        // Determine trend (mock for now - would compare to previous calculation)\r\n        if (calculatedProbability > 60) {\r\n          setTrend(\"up\")\r\n        } else if (calculatedProbability < 40) {\r\n          setTrend(\"down\")\r\n        } else {\r\n          setTrend(\"stable\")\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error calculating win probability:\", error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const getProbabilityColor = (prob: number) => {\r\n    if (prob >= 70) return \"text-green-500\"\r\n    if (prob >= 50) return \"text-yellow-500\"\r\n    if (prob >= 30) return \"text-orange-500\"\r\n    return \"text-red-500\"\r\n  }\r\n\r\n  const getProbabilityBg = (prob: number) => {\r\n    if (prob >= 70) return \"bg-green-500\"\r\n    if (prob >= 50) return \"bg-yellow-500\"\r\n    if (prob >= 30) return \"bg-orange-500\"\r\n    return \"bg-red-500\"\r\n  }\r\n\r\n  const getProbabilityLabel = (prob: number) => {\r\n    if (prob >= 70) return \"Strong\"\r\n    if (prob >= 50) return \"Moderate\"\r\n    if (prob >= 30) return \"Fair\"\r\n    return \"Low\"\r\n  }\r\n\r\n  const getImpactIcon = (impact: string) => {\r\n    if (impact === \"positive\") return <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n    if (impact === \"negative\") return <AlertTriangle className=\"h-4 w-4 text-red-500\" />\r\n    return <Info className=\"h-4 w-4 text-muted-foreground\" />\r\n  }\r\n\r\n  const getTrendIcon = () => {\r\n    if (trend === \"up\") return <TrendingUp className=\"h-4 w-4 text-green-500\" />\r\n    if (trend === \"down\") return <TrendingDown className=\"h-4 w-4 text-red-500\" />\r\n    return null\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card className={cn(className)}>\r\n        <CardContent className=\"flex items-center justify-center py-8\">\r\n          <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card className={cn(className)}>\r\n      <Collapsible open={expanded} onOpenChange={setExpanded}>\r\n        <CardHeader className=\"pb-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <CardTitle className=\"text-lg flex items-center gap-2\">\r\n                <Target className=\"h-5 w-5 text-primary\" />\r\n                Win Probability\r\n              </CardTitle>\r\n              <CardDescription>Estimated chance of winning this bid</CardDescription>\r\n            </div>\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={calculateProbability} disabled={loading}>\r\n              <RefreshCw className={cn(\"h-4 w-4\", loading && \"animate-spin\")} />\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-4\">\r\n          {/* Main Probability Display */}\r\n          <div className=\"flex items-center gap-6\">\r\n            <div\r\n              className={cn(\r\n                \"h-24 w-24 rounded-full flex items-center justify-center border-4\",\r\n                probability !== null && getProbabilityBg(probability).replace(\"bg-\", \"border-\"),\r\n              )}\r\n            >\r\n              <div className=\"text-center\">\r\n                <span className={cn(\"text-3xl font-bold\", probability !== null && getProbabilityColor(probability))}>\r\n                  {probability !== null ? Math.round(probability) : \"--\"}%\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <Badge variant=\"secondary\" className={cn(probability !== null && getProbabilityColor(probability))}>\r\n                  {probability !== null ? getProbabilityLabel(probability) : \"Unknown\"}\r\n                </Badge>\r\n                {getTrendIcon()}\r\n              </div>\r\n\r\n              {probability !== null && (\r\n                <div className=\"space-y-1.5\">\r\n                  <Progress value={probability} className=\"h-2\" />\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    {probability >= 70\r\n                      ? \"You're well-positioned for this tender\"\r\n                      : probability >= 50\r\n                        ? \"Good potential with room for improvement\"\r\n                        : probability >= 30\r\n                          ? \"Consider addressing gaps before bidding\"\r\n                          : \"Significant improvements needed\"}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Expand to see factors */}\r\n          <CollapsibleTrigger asChild>\r\n            <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-center gap-2\">\r\n              {expanded ? (\r\n                <>\r\n                  Hide Factors\r\n                  <ChevronUp className=\"h-4 w-4\" />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  See Contributing Factors\r\n                  <ChevronDown className=\"h-4 w-4\" />\r\n                </>\r\n              )}\r\n            </Button>\r\n          </CollapsibleTrigger>\r\n\r\n          <CollapsibleContent>\r\n            <div className=\"space-y-3 pt-2\">\r\n              {factors.map((factor, index) => (\r\n                <div key={index} className=\"flex items-center gap-3 p-3 rounded-lg bg-muted/50\">\r\n                  {getImpactIcon(factor.impact)}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-sm font-medium\">{factor.name}</span>\r\n                      <span\r\n                        className={cn(\r\n                          \"text-sm font-bold\",\r\n                          factor.score >= 0.7\r\n                            ? \"text-green-500\"\r\n                            : factor.score >= 0.5\r\n                              ? \"text-yellow-500\"\r\n                              : \"text-red-500\",\r\n                        )}\r\n                      >\r\n                        {Math.round(factor.score * 100)}%\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-xs text-muted-foreground\">{factor.description}</p>\r\n                    <Progress value={factor.score * 100} className=\"h-1.5 mt-2\" />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"mt-4 p-3 rounded-lg bg-primary/5 border border-primary/20\">\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                <strong className=\"text-foreground\">Note:</strong> This probability is an estimate based on your profile\r\n                data and typical tender evaluation criteria. Actual results depend on competition, pricing, and\r\n                evaluator discretion.\r\n              </p>\r\n            </div>\r\n          </CollapsibleContent>\r\n        </CardContent>\r\n      </Collapsible>\r\n    </Card>\r\n  )\r\n}\r\n","\"use client\";\n\n// packages/react/tooltip/src/Tooltip.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Slottable } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport * as VisuallyHiddenPrimitive from \"@radix-ui/react-visually-hidden\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider = (props) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children\n  } = props;\n  const [isOpenDelayed, setIsOpenDelayed] = React.useState(true);\n  const isPointerInTransitRef = React.useRef(false);\n  const skipDelayTimerRef = React.useRef(0);\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n  return /* @__PURE__ */ jsx(\n    TooltipProviderContextProvider,\n    {\n      scope: __scopeTooltip,\n      isOpenDelayed,\n      delayDuration,\n      onOpen: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        setIsOpenDelayed(false);\n      }, []),\n      onClose: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => setIsOpenDelayed(true),\n          skipDelayDuration\n        );\n      }, [skipDelayDuration]),\n      isPointerInTransitRef,\n      onPointerInTransitChange: React.useCallback((inTransit) => {\n        isPointerInTransitRef.current = inTransit;\n      }, []),\n      disableHoverableContent,\n      children\n    }\n  );\n};\nTooltipProvider.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip = (props) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen = false,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const disableHoverableContent = disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: (open2) => {\n      if (open2) {\n        providerContext.onOpen();\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open2);\n    }\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n  }, [open]);\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n  const handleClose = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n  React.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    TooltipContextProvider,\n    {\n      scope: __scopeTooltip,\n      contentId,\n      open,\n      stateAttribute,\n      trigger,\n      onTriggerChange: setTrigger,\n      onTriggerEnter: React.useCallback(() => {\n        if (providerContext.isOpenDelayed) handleDelayedOpen();\n        else handleOpen();\n      }, [providerContext.isOpenDelayed, handleDelayedOpen, handleOpen]),\n      onTriggerLeave: React.useCallback(() => {\n        if (disableHoverableContent) {\n          handleClose();\n        } else {\n          window.clearTimeout(openTimerRef.current);\n          openTimerRef.current = 0;\n        }\n      }, [handleClose, disableHoverableContent]),\n      onOpen: handleOpen,\n      onClose: handleClose,\n      disableHoverableContent,\n      children\n    }\n  ) });\n};\nTooltip.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React.useRef(false);\n    const hasPointerMoveOpenedRef = React.useRef(false);\n    const handlePointerUp = React.useCallback(() => isPointerDownRef.current = false, []);\n    React.useEffect(() => {\n      return () => document.removeEventListener(\"pointerup\", handlePointerUp);\n    }, [handlePointerUp]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        \"aria-describedby\": context.open ? context.contentId : void 0,\n        \"data-state\": context.stateAttribute,\n        ...triggerProps,\n        ref: composedRefs,\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === \"touch\") return;\n          if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        }),\n        onPointerLeave: composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, () => {\n          isPointerDownRef.current = true;\n          document.addEventListener(\"pointerup\", handlePointerUp, { once: true });\n        }),\n        onFocus: composeEventHandlers(props.onFocus, () => {\n          if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: composeEventHandlers(props.onBlur, context.onClose),\n        onClick: composeEventHandlers(props.onClick, context.onClose)\n      }\n    ) });\n  }\n);\nTooltipTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar TooltipPortal = (props) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeTooltip, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.disableHoverableContent ? /* @__PURE__ */ jsx(TooltipContentImpl, { side, ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(TooltipContentHoverable, { side, ...contentProps, ref: forwardedRef }) });\n  }\n);\nvar TooltipContentHoverable = React.forwardRef((props, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React.useState(null);\n  const { trigger, onClose } = context;\n  const content = ref.current;\n  const { onPointerInTransitChange } = providerContext;\n  const handleRemoveGraceArea = React.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n  const handleCreateGraceArea = React.useCallback(\n    (event, hoverTarget) => {\n      const currentTarget = event.currentTarget;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n  React.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event) => handleCreateGraceArea(event, trigger);\n      trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n      content.addEventListener(\"pointerleave\", handleContentLeave);\n      return () => {\n        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n        content.removeEventListener(\"pointerleave\", handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event) => {\n        const target = event.target;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n      return () => document.removeEventListener(\"pointermove\", handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n  return /* @__PURE__ */ jsx(TooltipContentImpl, { ...props, ref: composedRefs });\n});\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, { isInside: false });\nvar TooltipContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      \"aria-label\": ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    React.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n    React.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event) => {\n          const target = event.target;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener(\"scroll\", handleScroll, { capture: true });\n        return () => window.removeEventListener(\"scroll\", handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n    return /* @__PURE__ */ jsx(\n      DismissableLayer,\n      {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event) => event.preventDefault(),\n        onDismiss: onClose,\n        children: /* @__PURE__ */ jsxs(\n          PopperPrimitive.Content,\n          {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n              }\n            },\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(VisuallyHiddenContentContextProvider, { scope: __scopeTooltip, isInside: true, children: /* @__PURE__ */ jsx(VisuallyHiddenPrimitive.Root, { id: context.contentId, role: \"tooltip\", children: ariaLabel || children }) })\n            ]\n          }\n        )\n      }\n    );\n  }\n);\nTooltipContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    return visuallyHiddenContentContext.isInside ? null : /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return \"left\";\n    case right:\n      return \"right\";\n    case top:\n      return \"top\";\n    case bottom:\n      return \"bottom\";\n    default:\n      throw new Error(\"unreachable\");\n  }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n  const paddedExitPoints = [];\n  switch (exitSide) {\n    case \"top\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"bottom\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case \"left\":\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"right\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom }\n  ];\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction getHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort((a, b) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return 1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return 1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n  if (points.length <= 1) return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\nvar Provider = TooltipProvider;\nvar Root3 = Tooltip;\nvar Trigger = TooltipTrigger;\nvar Portal = TooltipPortal;\nvar Content2 = TooltipContent;\nvar Arrow2 = TooltipArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Portal,\n  Provider,\n  Root3 as Root,\n  Tooltip,\n  TooltipArrow,\n  TooltipContent,\n  TooltipPortal,\n  TooltipProvider,\n  TooltipTrigger,\n  Trigger,\n  createTooltipScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction Tooltip({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return (\r\n    <TooltipProvider>\r\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\nfunction TooltipTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  )\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n","\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\r\nimport { HelpCircle } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n// Procurement terminology dictionary\r\nconst PROCUREMENT_TERMS: Record<string, { title: string; definition: string; example?: string }> = {\r\n  rfq: {\r\n    title: \"Request for Quotation (RFQ)\",\r\n    definition:\r\n      \"A procurement method where the buyer requests price quotes from multiple suppliers for specific goods or services.\",\r\n    example: \"An RFQ might be used to get pricing for office supplies or standard equipment.\",\r\n  },\r\n  rfp: {\r\n    title: \"Request for Proposal (RFP)\",\r\n    definition:\r\n      \"A formal solicitation that outlines requirements and invites suppliers to submit detailed proposals including methodology and pricing.\",\r\n    example: \"Complex IT projects often use RFPs to evaluate both technical capability and cost.\",\r\n  },\r\n  rfb: {\r\n    title: \"Request for Bid (RFB)\",\r\n    definition:\r\n      \"Similar to RFQ but typically used for larger contracts where the evaluation is primarily based on price.\",\r\n    example: \"Construction projects often use RFBs where specifications are clearly defined.\",\r\n  },\r\n  bbbee: {\r\n    title: \"Broad-Based Black Economic Empowerment (B-BBEE)\",\r\n    definition:\r\n      \"A South African policy to advance economic transformation and enhance the participation of black people in the economy.\",\r\n    example: \"Your B-BBEE level affects preferential points in government tenders (typically 10-20 points).\",\r\n  },\r\n  cidb: {\r\n    title: \"Construction Industry Development Board (CIDB)\",\r\n    definition:\r\n      \"A South African regulatory body that grades and registers contractors for public sector construction work.\",\r\n    example: \"To bid on a R10 million construction tender, you might need a CIDB grading of 5 or higher.\",\r\n  },\r\n  csd: {\r\n    title: \"Central Supplier Database (CSD)\",\r\n    definition:\r\n      \"A South African government database where all suppliers must register to do business with government entities.\",\r\n    example: \"Your CSD registration must be complete and verified before you can submit government tender bids.\",\r\n  },\r\n  scm: {\r\n    title: \"Supply Chain Management (SCM)\",\r\n    definition:\r\n      \"The management of the flow of goods and services, including all processes that transform raw materials into final products.\",\r\n    example: \"Government SCM policies ensure fair, transparent, and cost-effective procurement.\",\r\n  },\r\n  boq: {\r\n    title: \"Bill of Quantities (BOQ)\",\r\n    definition: \"A detailed list of materials, parts, and labor with their costs, used to price a project.\",\r\n    example: \"The BOQ breaks down a construction project into itemized costs for each component.\",\r\n  },\r\n  functionality: {\r\n    title: \"Functionality Evaluation\",\r\n    definition:\r\n      \"Assessment of a bidder's technical ability to deliver on the tender requirements before price evaluation.\",\r\n    example: \"You must score at least 60% on functionality to have your price evaluated.\",\r\n  },\r\n  \"90/10\": {\r\n    title: \"90/10 Preference Point System\",\r\n    definition: \"For tenders above R50 million, 90 points are allocated for price and 10 for B-BBEE status.\",\r\n    example: \"A Level 1 B-BBEE contributor gets all 10 preference points under this system.\",\r\n  },\r\n  \"80/20\": {\r\n    title: \"80/20 Preference Point System\",\r\n    definition: \"For tenders up to R50 million, 80 points are allocated for price and 20 for B-BBEE status.\",\r\n    example: \"A Level 1 B-BBEE contributor gets all 20 preference points under this system.\",\r\n  },\r\n  coida: {\r\n    title: \"COIDA Letter of Good Standing\",\r\n    definition:\r\n      \"Certificate from the Compensation Fund showing compliance with the Compensation for Occupational Injuries and Diseases Act.\",\r\n    example: \"Without a valid COIDA letter, your tender may be disqualified.\",\r\n  },\r\n  sbd: {\r\n    title: \"Standard Bidding Documents (SBD)\",\r\n    definition: \"Standardized forms used in South African government procurement (SBD1-SBD9).\",\r\n    example: \"SBD4 is the Declaration of Interest form that must be completed for all government tenders.\",\r\n  },\r\n  mbd: {\r\n    title: \"Municipal Bidding Documents (MBD)\",\r\n    definition: \"Standardized forms used specifically in South African municipal procurement.\",\r\n    example: \"MBD forms are similar to SBD but specifically designed for municipal tenders.\",\r\n  },\r\n  gcc: {\r\n    title: \"General Conditions of Contract (GCC)\",\r\n    definition: \"Standard contract terms that apply to all government procurement contracts.\",\r\n    example: \"The GCC outlines payment terms, dispute resolution, and general obligations.\",\r\n  },\r\n  scc: {\r\n    title: \"Special Conditions of Contract (SCC)\",\r\n    definition: \"Project-specific terms that supplement or modify the General Conditions of Contract.\",\r\n    example: \"The SCC might specify unique delivery requirements or penalties for this particular tender.\",\r\n  },\r\n  jv: {\r\n    title: \"Joint Venture (JV)\",\r\n    definition:\r\n      \"A business arrangement where two or more parties agree to pool resources for a specific project while remaining independent.\",\r\n    example: \"Smaller companies often form JVs with larger ones to meet CIDB grading requirements.\",\r\n  },\r\n  tor: {\r\n    title: \"Terms of Reference (TOR)\",\r\n    definition: \"Document that defines the scope, objectives, and deliverables for a project or tender.\",\r\n    example: \"The TOR outlines exactly what the client expects you to deliver and how success will be measured.\",\r\n  },\r\n}\r\n\r\ninterface ProcurementTooltipProps {\r\n  term: string\r\n  children?: React.ReactNode\r\n  className?: string\r\n  showIcon?: boolean\r\n}\r\n\r\nexport function ProcurementTooltip({ term, children, className, showIcon = true }: ProcurementTooltipProps) {\r\n  const termData = PROCUREMENT_TERMS[term.toLowerCase()]\r\n\r\n  if (!termData) {\r\n    return <span className={className}>{children || term}</span>\r\n  }\r\n\r\n  return (\r\n    <TooltipProvider>\r\n      <Tooltip delayDuration={300}>\r\n        <TooltipTrigger asChild>\r\n          <span\r\n            className={cn(\r\n              \"cursor-help border-b border-dashed border-muted-foreground/50 inline-flex items-center gap-1\",\r\n              className,\r\n            )}\r\n          >\r\n            {children || term}\r\n            {showIcon && <HelpCircle className=\"h-3 w-3 text-muted-foreground\" />}\r\n          </span>\r\n        </TooltipTrigger>\r\n        <TooltipContent side=\"top\" className=\"max-w-sm p-4\">\r\n          <div className=\"space-y-2\">\r\n            <p className=\"font-medium text-foreground\">{termData.title}</p>\r\n            <p className=\"text-sm text-muted-foreground\">{termData.definition}</p>\r\n            {termData.example && <p className=\"text-xs text-primary italic\">Example: {termData.example}</p>}\r\n          </div>\r\n        </TooltipContent>\r\n      </Tooltip>\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\n// Auto-highlight terms in text\r\nexport function HighlightProcurementTerms({ text, className }: { text: string; className?: string }) {\r\n  // Return empty span if text is undefined, null, or not a string\r\n  if (!text || typeof text !== \"string\") {\r\n    return <span className={className}></span>\r\n  }\r\n\r\n  const termPatterns = Object.keys(PROCUREMENT_TERMS).join(\"|\")\r\n  const regex = new RegExp(`\\\\b(${termPatterns})\\\\b`, \"gi\")\r\n\r\n  const parts = text.split(regex)\r\n\r\n  return (\r\n    <span className={className}>\r\n      {parts.map((part, i) => {\r\n        // Skip undefined/null parts\r\n        if (part === undefined || part === null) {\r\n          return null\r\n        }\r\n        const termKey = part.toLowerCase()\r\n        if (termKey && PROCUREMENT_TERMS[termKey]) {\r\n          return (\r\n            <ProcurementTooltip key={i} term={termKey} showIcon={false}>\r\n              {part}\r\n            </ProcurementTooltip>\r\n          )\r\n        }\r\n        return <span key={i}>{part}</span>\r\n      })}\r\n    </span>\r\n  )\r\n}\r\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","// ============================================\r\n// AI TENDER STRATEGIST ENGINE - CONSTANTS\r\n// ============================================\r\n\r\n// South African Provinces\r\nexport const SA_PROVINCES = [\r\n  { value: \"eastern-cape\", label: \"Eastern Cape\" },\r\n  { value: \"free-state\", label: \"Free State\" },\r\n  { value: \"gauteng\", label: \"Gauteng\" },\r\n  { value: \"kwazulu-natal\", label: \"KwaZulu-Natal\" },\r\n  { value: \"limpopo\", label: \"Limpopo\" },\r\n  { value: \"mpumalanga\", label: \"Mpumalanga\" },\r\n  { value: \"north-west\", label: \"North West\" },\r\n  { value: \"northern-cape\", label: \"Northern Cape\" },\r\n  { value: \"western-cape\", label: \"Western Cape\" },\r\n] as const\r\n\r\n// Industry Categories\r\nexport const INDUSTRIES = [\r\n  { value: \"construction\", label: \"Construction & Building\" },\r\n  { value: \"it-services\", label: \"IT & Technology Services\" },\r\n  { value: \"professional-services\", label: \"Professional Services\" },\r\n  { value: \"healthcare\", label: \"Healthcare & Medical\" },\r\n  { value: \"education\", label: \"Education & Training\" },\r\n  { value: \"manufacturing\", label: \"Manufacturing\" },\r\n  { value: \"logistics\", label: \"Logistics & Transport\" },\r\n  { value: \"agriculture\", label: \"Agriculture & Farming\" },\r\n  { value: \"energy\", label: \"Energy & Utilities\" },\r\n  { value: \"mining\", label: \"Mining & Resources\" },\r\n  { value: \"security\", label: \"Security Services\" },\r\n  { value: \"cleaning\", label: \"Cleaning & Facilities\" },\r\n  { value: \"catering\", label: \"Catering & Food Services\" },\r\n  { value: \"environmental\", label: \"Environmental Services\" },\r\n  { value: \"engineering\", label: \"Engineering\" },\r\n  { value: \"legal\", label: \"Legal Services\" },\r\n  { value: \"financial\", label: \"Financial Services\" },\r\n  { value: \"marketing\", label: \"Marketing & Communications\" },\r\n  { value: \"other\", label: \"Other\" },\r\n] as const\r\n\r\n// Procurement Categories\r\nexport const PROCUREMENT_CATEGORIES = [\r\n  { value: \"goods\", label: \"Goods & Supplies\" },\r\n  { value: \"services\", label: \"Services\" },\r\n  { value: \"works\", label: \"Construction Works\" },\r\n  { value: \"consulting\", label: \"Consulting\" },\r\n  { value: \"maintenance\", label: \"Maintenance\" },\r\n  { value: \"leasing\", label: \"Leasing & Rental\" },\r\n  { value: \"software\", label: \"Software & IT\" },\r\n  { value: \"equipment\", label: \"Equipment & Machinery\" },\r\n] as const\r\n\r\n// Company Sizes\r\nexport const COMPANY_SIZES = [\r\n  { value: \"micro\", label: \"Micro (1-10 employees)\" },\r\n  { value: \"small\", label: \"Small (11-50 employees)\" },\r\n  { value: \"medium\", label: \"Medium (51-200 employees)\" },\r\n  { value: \"large\", label: \"Large (201-500 employees)\" },\r\n  { value: \"enterprise\", label: \"Enterprise (500+ employees)\" },\r\n] as const\r\n\r\n// Annual Turnover Ranges\r\nexport const TURNOVER_RANGES = [\r\n  { value: \"under-1m\", label: \"Under R1 million\" },\r\n  { value: \"1m-5m\", label: \"R1 - R5 million\" },\r\n  { value: \"5m-10m\", label: \"R5 - R10 million\" },\r\n  { value: \"10m-50m\", label: \"R10 - R50 million\" },\r\n  { value: \"50m-100m\", label: \"R50 - R100 million\" },\r\n  { value: \"100m-500m\", label: \"R100 - R500 million\" },\r\n  { value: \"over-500m\", label: \"Over R500 million\" },\r\n] as const\r\n\r\n// CIDB Grading Designations\r\nexport const CIDB_GRADINGS = [\r\n  { value: \"1\", label: \"Grade 1 (Up to R650,000)\" },\r\n  { value: \"2\", label: \"Grade 2 (R650,000 - R4 million)\" },\r\n  { value: \"3\", label: \"Grade 3 (R4 - R13 million)\" },\r\n  { value: \"4\", label: \"Grade 4 (R13 - R40 million)\" },\r\n  { value: \"5\", label: \"Grade 5 (R40 - R130 million)\" },\r\n  { value: \"6\", label: \"Grade 6 (R130 - R400 million)\" },\r\n  { value: \"7\", label: \"Grade 7 (R400 million - R1.3 billion)\" },\r\n  { value: \"8\", label: \"Grade 8 (R1.3 billion - R4 billion)\" },\r\n  { value: \"9\", label: \"Grade 9 (No limit)\" },\r\n] as const\r\n\r\n// B-BBEE Levels\r\nexport const BEE_LEVELS = [\r\n  { value: \"1\", label: \"Level 1 (135% recognition)\" },\r\n  { value: \"2\", label: \"Level 2 (125% recognition)\" },\r\n  { value: \"3\", label: \"Level 3 (110% recognition)\" },\r\n  { value: \"4\", label: \"Level 4 (100% recognition)\" },\r\n  { value: \"5\", label: \"Level 5 (80% recognition)\" },\r\n  { value: \"6\", label: \"Level 6 (60% recognition)\" },\r\n  { value: \"7\", label: \"Level 7 (50% recognition)\" },\r\n  { value: \"8\", label: \"Level 8 (10% recognition)\" },\r\n  { value: \"non-compliant\", label: \"Non-Compliant (0% recognition)\" },\r\n  { value: \"exempt\", label: \"Exempt Micro Enterprise (EME)\" },\r\n  { value: \"qse\", label: \"Qualifying Small Enterprise (QSE)\" },\r\n] as const\r\n\r\n// Contract Types\r\nexport const CONTRACT_TYPES = [\r\n  { value: \"rfq\", label: \"Request for Quotation (RFQ)\" },\r\n  { value: \"rfp\", label: \"Request for Proposal (RFP)\" },\r\n  { value: \"rfb\", label: \"Request for Bid (RFB)\" },\r\n  { value: \"open-tender\", label: \"Open Tender\" },\r\n  { value: \"limited-tender\", label: \"Limited/Closed Tender\" },\r\n  { value: \"framework\", label: \"Framework Agreement\" },\r\n  { value: \"panel\", label: \"Panel Contract\" },\r\n  { value: \"term-contract\", label: \"Term Contract\" },\r\n] as const\r\n\r\n// Learning Topics Configuration\r\nexport const LEARNING_TOPICS = [\r\n  {\r\n    id: \"tender-basics\",\r\n    title: \"Tendering Basics\",\r\n    category: \"basics\",\r\n    description: \"Understanding the fundamentals of government tendering in South Africa\",\r\n    difficulty: \"beginner\" as const,\r\n    estimated_minutes: 30,\r\n    subtopics: [\"What is a tender?\", \"Types of tenders\", \"The tender process\", \"Key terminology\"],\r\n  },\r\n  {\r\n    id: \"tender-types\",\r\n    title: \"Types of Tenders\",\r\n    category: \"basics\",\r\n    description: \"Learn about RFQ, RFP, RFB, Open Tenders, and Framework Agreements\",\r\n    difficulty: \"beginner\" as const,\r\n    estimated_minutes: 25,\r\n    subtopics: [\"RFQ vs RFP vs RFB\", \"Open vs Closed tenders\", \"Framework agreements\", \"Panel contracts\"],\r\n  },\r\n  {\r\n    id: \"bbbee-scoring\",\r\n    title: \"B-BBEE Scoring System\",\r\n    category: \"compliance\",\r\n    description: \"Master the B-BBEE preference point system used in South African tenders\",\r\n    difficulty: \"intermediate\" as const,\r\n    estimated_minutes: 45,\r\n    subtopics: [\"80/20 system\", \"90/10 system\", \"B-BBEE levels\", \"Calculating preference points\"],\r\n  },\r\n  {\r\n    id: \"evaluation-criteria\",\r\n    title: \"Evaluation Criteria\",\r\n    category: \"strategy\",\r\n    description: \"Understanding how tenders are evaluated and scored\",\r\n    difficulty: \"intermediate\" as const,\r\n    estimated_minutes: 40,\r\n    subtopics: [\"Functionality scoring\", \"Price evaluation\", \"Quality vs price trade-offs\", \"Threshold requirements\"],\r\n  },\r\n  {\r\n    id: \"pricing-strategies\",\r\n    title: \"Pricing Strategies\",\r\n    category: \"strategy\",\r\n    description: \"Develop effective pricing strategies to win tenders\",\r\n    difficulty: \"advanced\" as const,\r\n    estimated_minutes: 60,\r\n    subtopics: [\"Cost-plus pricing\", \"Competitive pricing\", \"Value-based pricing\", \"Risk pricing\"],\r\n  },\r\n  {\r\n    id: \"compliance-requirements\",\r\n    title: \"Compliance Requirements\",\r\n    category: \"compliance\",\r\n    description: \"Essential compliance documents and requirements for SA tenders\",\r\n    difficulty: \"beginner\" as const,\r\n    estimated_minutes: 35,\r\n    subtopics: [\"Tax clearance\", \"CSD registration\", \"CIDB grading\", \"COIDA compliance\"],\r\n  },\r\n  {\r\n    id: \"common-mistakes\",\r\n    title: \"Common Bidding Mistakes\",\r\n    category: \"strategy\",\r\n    description: \"Learn from common mistakes that lead to tender disqualification\",\r\n    difficulty: \"beginner\" as const,\r\n    estimated_minutes: 20,\r\n    subtopics: [\"Documentation errors\", \"Pricing mistakes\", \"Submission failures\", \"Compliance gaps\"],\r\n  },\r\n  {\r\n    id: \"boq-management\",\r\n    title: \"BOQ & Pricing Schedules\",\r\n    category: \"strategy\",\r\n    description: \"Managing Bills of Quantities and pricing schedules effectively\",\r\n    difficulty: \"intermediate\" as const,\r\n    estimated_minutes: 50,\r\n    subtopics: [\"BOQ structure\", \"Unit pricing\", \"Contingencies\", \"Margin calculation\"],\r\n  },\r\n  {\r\n    id: \"jv-subcontracting\",\r\n    title: \"Joint Ventures & Subcontracting\",\r\n    category: \"advanced\",\r\n    description: \"When and how to partner with other companies\",\r\n    difficulty: \"advanced\" as const,\r\n    estimated_minutes: 45,\r\n    subtopics: [\"JV structures\", \"Subcontracting limits\", \"Partner selection\", \"Risk sharing\"],\r\n  },\r\n  {\r\n    id: \"post-award\",\r\n    title: \"Post-Award Management\",\r\n    category: \"advanced\",\r\n    description: \"Managing contracts after winning a tender\",\r\n    difficulty: \"advanced\" as const,\r\n    estimated_minutes: 40,\r\n    subtopics: [\"Contract negotiation\", \"Performance management\", \"Variations\", \"Payment management\"],\r\n  },\r\n] as const\r\n\r\n// Strategist Prompts\r\nexport const STRATEGIST_SYSTEM_PROMPT = `You are an expert AI Tender Strategist for BidMate, a South African tender management platform. Your role is to help users understand tendering, build winning tender strategies, and discover opportunities.\r\n\r\n## Your Personality\r\n- Tender specialist with deep knowledge of South African procurement\r\n- Mentor and coach who adapts to user experience levels\r\n- Market analyst who identifies opportunities\r\n- Procurement educator who explains complex concepts simply\r\n- Strategist who provides actionable, tailored advice\r\n\r\n## Your Tone\r\n- Friendly, expert, and encouraging\r\n- Concise with structured explanations\r\n- Always provide actionable steps\r\n- Use South African terminology and regulations\r\n\r\n## Your Capabilities\r\n1. Answer questions about tendering and procurement\r\n2. Help build comprehensive bid strategies\r\n3. Analyze tender requirements and compliance needs\r\n4. Provide pricing and BOQ guidance\r\n5. Identify opportunities matching user profiles\r\n6. Educate users on tender best practices\r\n7. Alert users to compliance gaps and deadlines\r\n8. Explain tender requirements in plain language\r\n\r\n## South African Procurement Context\r\n- PFMA (Public Finance Management Act) for national/provincial\r\n- MFMA (Municipal Finance Management Act) for municipalities  \r\n- PPPFA (Preferential Procurement Policy Framework Act)\r\n- B-BBEE scoring (80/20 or 90/10 systems)\r\n- CIDB grading for construction\r\n- SBD forms (Standard Bidding Documents)\r\n- MBD forms (Municipal Bidding Documents)\r\n- CSD (Central Supplier Database) registration\r\n\r\n## Guidelines\r\n- Always ask clarifying questions when needed\r\n- Tailor advice to user's experience level\r\n- Provide realistic assessments, not false hope\r\n- Highlight risks and compliance requirements\r\n- Reference South African regulations when relevant\r\n- Suggest specific actions the user can take`\r\n\r\n// Quick Action Prompts\r\nexport const QUICK_ACTION_PROMPTS = [\r\n  {\r\n    id: \"build-strategy\",\r\n    label: \"Build a bid strategy\",\r\n    prompt: \"Help me build a comprehensive bid strategy for a tender I'm considering\",\r\n    icon: \"target\",\r\n  },\r\n  {\r\n    id: \"review-readiness\",\r\n    label: \"Review my tender readiness\",\r\n    prompt:\r\n      \"Review my tender readiness and tell me what documents or certifications I might be missing for government tenders\",\r\n    icon: \"clipboard-check\",\r\n  },\r\n  {\r\n    id: \"find-opportunities\",\r\n    label: \"Find matching tenders\",\r\n    prompt: \"Find tenders that match my company profile and capabilities\",\r\n    icon: \"search\",\r\n  },\r\n  {\r\n    id: \"explain-tender\",\r\n    label: \"Explain this tender\",\r\n    prompt: \"Help me understand the requirements of a specific tender I'm looking at\",\r\n    icon: \"file-text\",\r\n  },\r\n  {\r\n    id: \"pricing-advice\",\r\n    label: \"Advise on pricing\",\r\n    prompt: \"Help me develop a competitive pricing strategy for my tender submission\",\r\n    icon: \"calculator\",\r\n  },\r\n  {\r\n    id: \"reduce-risk\",\r\n    label: \"Reduce bid risk\",\r\n    prompt: \"Help me identify and mitigate risks in my tender submission\",\r\n    icon: \"shield\",\r\n  },\r\n  {\r\n    id: \"learn-tendering\",\r\n    label: \"Teach me tendering\",\r\n    prompt: \"I'm new to tendering. Help me understand how government tenders work in South Africa\",\r\n    icon: \"graduation-cap\",\r\n  },\r\n  {\r\n    id: \"compliance-check\",\r\n    label: \"Check compliance\",\r\n    prompt: \"Review my compliance status and identify any gaps I need to address\",\r\n    icon: \"check-circle\",\r\n  },\r\n] as const\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('Info', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n]);\n\nexport default Info;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name EllipsisVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iNSIgcj0iMSIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/ellipsis-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EllipsisVertical = createLucideIcon('EllipsisVertical', [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '12', cy: '5', r: '1', key: 'gxeob9' }],\n  ['circle', { cx: '12', cy: '19', r: '1', key: 'lyex9k' }],\n]);\n\nexport default EllipsisVertical;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BookOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgN3YxNCIgLz4KICA8cGF0aCBkPSJNMyAxOGExIDEgMCAwIDEtMS0xVjRhMSAxIDAgMCAxIDEtMWg1YTQgNCAwIDAgMSA0IDQgNCA0IDAgMCAxIDQtNGg1YTEgMSAwIDAgMSAxIDF2MTNhMSAxIDAgMCAxLTEgMWgtNmEzIDMgMCAwIDAtMyAzIDMgMyAwIDAgMC0zLTN6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/book-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookOpen = createLucideIcon('BookOpen', [\n  ['path', { d: 'M12 7v14', key: '1akyts' }],\n  [\n    'path',\n    {\n      d: 'M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z',\n      key: 'ruj8y',\n    },\n  ],\n]);\n\nexport default BookOpen;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Bookmark\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTkgMjEtNy00LTcgNFY1YTIgMiAwIDAgMSAyLTJoMTBhMiAyIDAgMCAxIDIgMnYxNnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bookmark\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bookmark = createLucideIcon('Bookmark', [\n  ['path', { d: 'm19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z', key: '1fy3hk' }],\n]);\n\nexport default Bookmark;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiAxNyAxMy41IDguNSA4LjUgMTMuNSAyIDciIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjIgMTcgMjIgMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trending-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingDown = createLucideIcon('TrendingDown', [\n  ['polyline', { points: '22 17 13.5 8.5 8.5 13.5 2 7', key: '1r2t7k' }],\n  ['polyline', { points: '16 17 22 17 22 11', key: '11uiuu' }],\n]);\n\nexport default TrendingDown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name History\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4IiAvPgogIDxwYXRoIGQ9Ik0zIDN2NWg1IiAvPgogIDxwYXRoIGQ9Ik0xMiA3djVsNCAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/history\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst History = createLucideIcon('History', [\n  ['path', { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n  ['path', { d: 'M12 7v5l4 2', key: '1fdv2h' }],\n]);\n\nexport default History;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name GraduationCap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuNDIgMTAuOTIyYTEgMSAwIDAgMC0uMDE5LTEuODM4TDEyLjgzIDUuMThhMiAyIDAgMCAwLTEuNjYgMEwyLjYgOS4wOGExIDEgMCAwIDAgMCAxLjgzMmw4LjU3IDMuOTA4YTIgMiAwIDAgMCAxLjY2IDB6IiAvPgogIDxwYXRoIGQ9Ik0yMiAxMHY2IiAvPgogIDxwYXRoIGQ9Ik02IDEyLjVWMTZhNiAzIDAgMCAwIDEyIDB2LTMuNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/graduation-cap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GraduationCap = createLucideIcon('GraduationCap', [\n  [\n    'path',\n    {\n      d: 'M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z',\n      key: 'j76jl0',\n    },\n  ],\n  ['path', { d: 'M22 10v6', key: '1lu8f3' }],\n  ['path', { d: 'M6 12.5V16a6 3 0 0 0 12 0v-3.5', key: '1r8lef' }],\n]);\n\nexport default GraduationCap;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BookmarkCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTkgMjEtNy00LTcgNFY1YTIgMiAwIDAgMSAyLTJoMTBhMiAyIDAgMCAxIDIgMloiIC8+CiAgPHBhdGggZD0ibTkgMTAgMiAyIDQtNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/bookmark-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookmarkCheck = createLucideIcon('BookmarkCheck', [\n  ['path', { d: 'm19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z', key: '169p4p' }],\n  ['path', { d: 'm9 10 2 2 4-4', key: '1gnqz4' }],\n]);\n\nexport default BookmarkCheck;\n","import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Zap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxNGExIDEgMCAwIDEtLjc4LTEuNjNsOS45LTEwLjJhLjUuNSAwIDAgMSAuODYuNDZsLTEuOTIgNi4wMkExIDEgMCAwIDAgMTMgMTBoN2ExIDEgMCAwIDEgLjc4IDEuNjNsLTkuOSAxMC4yYS41LjUgMCAwIDEtLjg2LS40NmwxLjkyLTYuMDJBMSAxIDAgMCAwIDExIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Zap = createLucideIcon('Zap', [\n  [\n    'path',\n    {\n      d: 'M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z',\n      key: '1xq2db',\n    },\n  ],\n]);\n\nexport default Zap;\n","import { endOfDay } from \"./endOfDay.js\";\nimport { endOfMonth } from \"./endOfMonth.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @param date - The date to check\n * @param options - An object with options\n *\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  return +endOfDay(_date, options) === +endOfMonth(_date, options);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(laterDate, earlierDate) {\n  return +toDate(laterDate) - +toDate(earlierDate);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.js\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.js\";\n\n/**\n * The {@link differenceInMonths} function options.\n */\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(laterDate, earlierDate, options) {\n  const [laterDate_, workingLaterDate, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    laterDate,\n    earlierDate,\n  );\n\n  const sign = compareAsc(workingLaterDate, earlierDate_);\n  const difference = Math.abs(\n    differenceInCalendarMonths(workingLaterDate, earlierDate_),\n  );\n\n  if (difference < 1) return 0;\n\n  if (workingLaterDate.getMonth() === 1 && workingLaterDate.getDate() > 27)\n    workingLaterDate.setDate(30);\n\n  workingLaterDate.setMonth(workingLaterDate.getMonth() - sign * difference);\n\n  let isLastMonthNotFull = compareAsc(workingLaterDate, earlierDate_) === -sign;\n\n  if (\n    isLastDayOfMonth(laterDate_) &&\n    difference === 1 &&\n    compareAsc(laterDate_, earlierDate_) === 1\n  ) {\n    isLastMonthNotFull = false;\n  }\n\n  const result = sign * (difference - +isLastMonthNotFull);\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\n\n/**\n * The {@link differenceInCalendarMonths} function options.\n */\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const yearsDiff = laterDate_.getFullYear() - earlierDate_.getFullYear();\n  const monthsDiff = laterDate_.getMonth() - earlierDate_.getMonth();\n\n  return yearsDiff * 12 + monthsDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfDay} function options.\n */\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.js\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(laterDate, earlierDate, options) {\n  const diff = differenceInMilliseconds(laterDate, earlierDate) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name constructNow\n * @category Generic Helpers\n * @summary Constructs a new current date using the passed value constructor.\n * @pure false\n *\n * @description\n * The function constructs a new current date using the constructor from\n * the reference date. It helps to build generic functions that accept date\n * extensions and use the current date.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @param date - The reference date to take constructor from\n *\n * @returns Current date initialized using the given date constructor\n *\n * @example\n * import { constructNow, isSameDay } from 'date-fns'\n *\n * function isToday<DateType extends Date>(\n *   date: DateArg<DateType>,\n * ): boolean {\n *   // If we were to use `new Date()` directly, the function would  behave\n *   // differently in different timezones and return false for the same date.\n *   return isSameDay(date, constructNow(date));\n * }\n */\nexport function constructNow(date) {\n  return constructFrom(date, Date.now());\n}\n\n// Fallback for modularized imports:\nexport default constructNow;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const diff = +toDate(dateLeft) - +toDate(dateRight);\n\n  if (diff < 0) return -1;\n  else if (diff > 0) return 1;\n\n  // Return 0 if diff is 0; return NaN if diff is NaN\n  return diff;\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n","import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { constructNow } from \"./constructNow.js\";\n\nimport { formatDistance } from \"./formatDistance.js\";\n\n/**\n * The {@link formatDistanceToNow} function options.\n */\n\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @param date - The given date\n * @param options - The object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * const result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * const result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * const result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * const eoLocale = require('date-fns/locale/eo')\n * const result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistanceToNow(date, options) {\n  return formatDistance(date, constructNow(date), options);\n}\n\n// Fallback for modularized imports:\nexport default formatDistanceToNow;\n","import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { minutesInDay, minutesInMonth } from \"./constants.js\";\nimport { differenceInMonths } from \"./differenceInMonths.js\";\nimport { differenceInSeconds } from \"./differenceInSeconds.js\";\n\n/**\n * The {@link formatDistance} function options.\n */\n\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @param laterDate - The date\n * @param earlierDate - The date to compare with\n * @param options - An object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `baseDate` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistance(laterDate, earlierDate, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n  const minutesInAlmostTwoDays = 2520;\n\n  const comparison = compareAsc(laterDate, earlierDate);\n\n  if (isNaN(comparison)) throw new RangeError(\"Invalid time value\");\n\n  const localizeOptions = Object.assign({}, options, {\n    addSuffix: options?.addSuffix,\n    comparison: comparison,\n  });\n\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    ...(comparison > 0 ? [earlierDate, laterDate] : [laterDate, earlierDate]),\n  );\n\n  const seconds = differenceInSeconds(earlierDate_, laterDate_);\n  const offsetInSeconds =\n    (getTimezoneOffsetInMilliseconds(earlierDate_) -\n      getTimezoneOffsetInMilliseconds(laterDate_)) /\n    1000;\n  const minutes = Math.round((seconds - offsetInSeconds) / 60);\n  let months;\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options?.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance(\"lessThanXSeconds\", 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance(\"lessThanXSeconds\", 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance(\"lessThanXSeconds\", 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance(\"halfAMinute\", 0, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n      }\n    }\n\n    // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n\n    // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance(\"aboutXHours\", 1, localizeOptions);\n\n    // 1.5 hrs up to 24 hrs\n  } else if (minutes < minutesInDay) {\n    const hours = Math.round(minutes / 60);\n    return locale.formatDistance(\"aboutXHours\", hours, localizeOptions);\n\n    // 1 day up to 1.75 days\n  } else if (minutes < minutesInAlmostTwoDays) {\n    return locale.formatDistance(\"xDays\", 1, localizeOptions);\n\n    // 1.75 days up to 30 days\n  } else if (minutes < minutesInMonth) {\n    const days = Math.round(minutes / minutesInDay);\n    return locale.formatDistance(\"xDays\", days, localizeOptions);\n\n    // 1 month up to 2 months\n  } else if (minutes < minutesInMonth * 2) {\n    months = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"aboutXMonths\", months, localizeOptions);\n  }\n\n  months = differenceInMonths(earlierDate_, laterDate_);\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    const nearestMonth = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"xMonths\", nearestMonth, localizeOptions);\n\n    // 1 year up to max Date\n  } else {\n    const monthsSinceStartOfYear = months % 12;\n    const years = Math.trunc(months / 12);\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance(\"aboutXYears\", years, localizeOptions);\n\n      // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance(\"overXYears\", years, localizeOptions);\n\n      // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance(\"almostXYears\", years + 1, localizeOptions);\n    }\n  }\n}\n\n// Fallback for modularized imports:\nexport default formatDistance;\n"],"names":[],"mappings":"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","ignoreList":[1,3,4,11,14,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]}