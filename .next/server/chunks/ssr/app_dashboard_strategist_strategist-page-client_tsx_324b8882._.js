module.exports=[598059,a=>{"use strict";var b,c=a.i(526689),d=a.i(125712),e=a.i(703130),f=a.i(340695),g=a.i(254161),h=a.i(546893),i=a.i(46470),j=a.i(353071),k=a.i(621958),l=a.i(109759),m=a.i(926437),n=a.i(210299),o=a.i(674864),p=a.i(197665),q=a.i(991282),r=a.i(621426),s=a.i(550349);let t=(0,s.default)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);var u=a.i(807518),v=a.i(787199),w=a.i(583958),x=a.i(861084),y=a.i(362795),z=a.i(184388),A=a.i(100715),B=a.i(322409),C=a.i(246200),D=a.i(69976);let E=[{value:"eastern-cape",label:"Eastern Cape"},{value:"free-state",label:"Free State"},{value:"gauteng",label:"Gauteng"},{value:"kwazulu-natal",label:"KwaZulu-Natal"},{value:"limpopo",label:"Limpopo"},{value:"mpumalanga",label:"Mpumalanga"},{value:"north-west",label:"North West"},{value:"northern-cape",label:"Northern Cape"},{value:"western-cape",label:"Western Cape"}],F=[{value:"construction",label:"Construction & Building"},{value:"it-services",label:"IT & Technology Services"},{value:"professional-services",label:"Professional Services"},{value:"healthcare",label:"Healthcare & Medical"},{value:"education",label:"Education & Training"},{value:"manufacturing",label:"Manufacturing"},{value:"logistics",label:"Logistics & Transport"},{value:"agriculture",label:"Agriculture & Farming"},{value:"energy",label:"Energy & Utilities"},{value:"mining",label:"Mining & Resources"},{value:"security",label:"Security Services"},{value:"cleaning",label:"Cleaning & Facilities"},{value:"catering",label:"Catering & Food Services"},{value:"environmental",label:"Environmental Services"},{value:"engineering",label:"Engineering"},{value:"legal",label:"Legal Services"},{value:"financial",label:"Financial Services"},{value:"marketing",label:"Marketing & Communications"},{value:"other",label:"Other"}],G=[{value:"micro",label:"Micro (1-10 employees)"},{value:"small",label:"Small (11-50 employees)"},{value:"medium",label:"Medium (51-200 employees)"},{value:"large",label:"Large (201-500 employees)"},{value:"enterprise",label:"Enterprise (500+ employees)"}],H=[{value:"1",label:"Grade 1 (Up to R650,000)"},{value:"2",label:"Grade 2 (R650,000 - R4 million)"},{value:"3",label:"Grade 3 (R4 - R13 million)"},{value:"4",label:"Grade 4 (R13 - R40 million)"},{value:"5",label:"Grade 5 (R40 - R130 million)"},{value:"6",label:"Grade 6 (R130 - R400 million)"},{value:"7",label:"Grade 7 (R400 million - R1.3 billion)"},{value:"8",label:"Grade 8 (R1.3 billion - R4 billion)"},{value:"9",label:"Grade 9 (No limit)"}],I=[{value:"1",label:"Level 1 (135% recognition)"},{value:"2",label:"Level 2 (125% recognition)"},{value:"3",label:"Level 3 (110% recognition)"},{value:"4",label:"Level 4 (100% recognition)"},{value:"5",label:"Level 5 (80% recognition)"},{value:"6",label:"Level 6 (60% recognition)"},{value:"7",label:"Level 7 (50% recognition)"},{value:"8",label:"Level 8 (10% recognition)"},{value:"non-compliant",label:"Non-Compliant (0% recognition)"},{value:"exempt",label:"Exempt Micro Enterprise (EME)"},{value:"qse",label:"Qualifying Small Enterprise (QSE)"}],J=[{id:"build-strategy",label:"Build a bid strategy",prompt:"Help me build a comprehensive bid strategy for a tender I'm considering",icon:"target"},{id:"review-readiness",label:"Review my tender readiness",prompt:"Review my tender readiness and tell me what documents or certifications I might be missing for government tenders",icon:"clipboard-check"},{id:"find-opportunities",label:"Find matching tenders",prompt:"Find tenders that match my company profile and capabilities",icon:"search"},{id:"explain-tender",label:"Explain this tender",prompt:"Help me understand the requirements of a specific tender I'm looking at",icon:"file-text"},{id:"pricing-advice",label:"Advise on pricing",prompt:"Help me develop a competitive pricing strategy for my tender submission",icon:"calculator"},{id:"reduce-risk",label:"Reduce bid risk",prompt:"Help me identify and mitigate risks in my tender submission",icon:"shield"},{id:"learn-tendering",label:"Teach me tendering",prompt:"I'm new to tendering. Help me understand how government tenders work in South Africa",icon:"graduation-cap"},{id:"compliance-check",label:"Check compliance",prompt:"Review my compliance status and identify any gaps I need to address",icon:"check-circle"}];var K=a.i(965733),L=a.i(917171),M=a.i(897020),N=a.i(46143),O=a.i(887682),P=a.i(602150),Q=a.i(179869),R=a.i(844614),S=a.i(937792);function T({open:a,onOpenChange:b}){let[e,g]=(0,d.useState)(1),[h,i]=(0,d.useState)({experience_level:"",industries:[],procurement_categories:[],provinces:[],company_size:"",cidb_grading:"",bee_level:"",has_tax_clearance:!1,has_coida:!1,has_csd_registration:!1,risk_tolerance:""}),{updatePreferences:j,completeOnboarding:k}=(0,D.useStrategistPreferences)(),[l,n]=(0,d.useState)(!1),o=async()=>{n(!0);try{await j(h),await k(),b(!1)}catch(a){console.error("Failed to save preferences:",a)}finally{n(!1)}},p=(a,b)=>a.includes(b)?a.filter(a=>a!==b):[...a,b];return(0,c.jsx)(K.Dialog,{open:a,onOpenChange:b,children:(0,c.jsxs)(K.DialogContent,{className:"sm:max-w-lg",children:[(0,c.jsxs)(K.DialogHeader,{children:[(0,c.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,c.jsx)("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,c.jsx)(m.Sparkles,{className:"h-5 w-5 text-primary"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(K.DialogTitle,{children:"Welcome to AI Strategist"}),(0,c.jsx)(K.DialogDescription,{children:"Let's personalize your experience"})]})]}),(0,c.jsx)(P.Progress,{value:e/4*100,className:"h-1"})]}),(0,c.jsxs)("div",{className:"py-4",children:[1===e&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"What's your tendering experience level?"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"This helps us tailor advice to your needs."})]}),(0,c.jsxs)(M.RadioGroup,{value:h.experience_level,onValueChange:a=>i({...h,experience_level:a}),className:"space-y-3",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer",children:[(0,c.jsx)(M.RadioGroupItem,{value:"beginner",id:"beginner"}),(0,c.jsxs)(L.Label,{htmlFor:"beginner",className:"flex-1 cursor-pointer",children:[(0,c.jsx)("div",{className:"font-medium",children:"Beginner"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"New to tendering, want to learn the basics"})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer",children:[(0,c.jsx)(M.RadioGroupItem,{value:"intermediate",id:"intermediate"}),(0,c.jsxs)(L.Label,{htmlFor:"intermediate",className:"flex-1 cursor-pointer",children:[(0,c.jsx)("div",{className:"font-medium",children:"Intermediate"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Some experience, looking to improve success rate"})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer",children:[(0,c.jsx)(M.RadioGroupItem,{value:"advanced",id:"advanced"}),(0,c.jsxs)(L.Label,{htmlFor:"advanced",className:"flex-1 cursor-pointer",children:[(0,c.jsx)("div",{className:"font-medium",children:"Advanced"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Experienced, seeking strategic optimization"})]})]})]})]}),2===e&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Your Focus Areas"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Select industries and procurement categories you're interested in."})]}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)(L.Label,{children:"Industries (select all that apply)"}),(0,c.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:F.slice(0,10).map(a=>(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(N.Checkbox,{id:a.value,checked:h.industries.includes(a.value),onCheckedChange:()=>i({...h,industries:p(h.industries,a.value)})}),(0,c.jsx)(L.Label,{htmlFor:a.value,className:"text-sm cursor-pointer",children:a.label})]},a.value))})]}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)(L.Label,{children:"Provinces (select all that apply)"}),(0,c.jsx)("div",{className:"grid grid-cols-2 gap-2",children:E.map(a=>(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(N.Checkbox,{id:a.value,checked:h.provinces.includes(a.value),onCheckedChange:()=>i({...h,provinces:p(h.provinces,a.value)})}),(0,c.jsx)(L.Label,{htmlFor:a.value,className:"text-sm cursor-pointer",children:a.label})]},a.value))})]})]}),3===e&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Company Profile"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Help us understand your company's capabilities."})]}),(0,c.jsxs)("div",{className:"grid gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(L.Label,{children:"Company Size"}),(0,c.jsxs)(O.Select,{value:h.company_size,onValueChange:a=>i({...h,company_size:a}),children:[(0,c.jsx)(O.SelectTrigger,{children:(0,c.jsx)(O.SelectValue,{placeholder:"Select company size"})}),(0,c.jsx)(O.SelectContent,{children:G.map(a=>(0,c.jsx)(O.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(L.Label,{children:"B-BBEE Level"}),(0,c.jsxs)(O.Select,{value:h.bee_level,onValueChange:a=>i({...h,bee_level:a}),children:[(0,c.jsx)(O.SelectTrigger,{children:(0,c.jsx)(O.SelectValue,{placeholder:"Select B-BBEE level"})}),(0,c.jsx)(O.SelectContent,{children:I.map(a=>(0,c.jsx)(O.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(L.Label,{children:"CIDB Grading (if applicable)"}),(0,c.jsxs)(O.Select,{value:h.cidb_grading,onValueChange:a=>i({...h,cidb_grading:a}),children:[(0,c.jsx)(O.SelectTrigger,{children:(0,c.jsx)(O.SelectValue,{placeholder:"Select CIDB grading"})}),(0,c.jsxs)(O.SelectContent,{children:[(0,c.jsx)(O.SelectItem,{value:"none",children:"Not applicable"}),H.map(a=>(0,c.jsx)(O.SelectItem,{value:a.value,children:a.label},a.value))]})]})]})]})]}),4===e&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Compliance Status"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Let us know your current compliance status so we can alert you to gaps."})]}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border",children:[(0,c.jsx)(N.Checkbox,{id:"tax_clearance",checked:h.has_tax_clearance,onCheckedChange:a=>i({...h,has_tax_clearance:a})}),(0,c.jsxs)(L.Label,{htmlFor:"tax_clearance",className:"flex-1 cursor-pointer",children:[(0,c.jsx)("div",{className:"font-medium",children:"Valid Tax Clearance"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"SARS Tax Compliance Status (TCS)"})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border",children:[(0,c.jsx)(N.Checkbox,{id:"csd",checked:h.has_csd_registration,onCheckedChange:a=>i({...h,has_csd_registration:a})}),(0,c.jsxs)(L.Label,{htmlFor:"csd",className:"flex-1 cursor-pointer",children:[(0,c.jsx)("div",{className:"font-medium",children:"CSD Registration"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Central Supplier Database registration"})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border",children:[(0,c.jsx)(N.Checkbox,{id:"coida",checked:h.has_coida,onCheckedChange:a=>i({...h,has_coida:a})}),(0,c.jsxs)(L.Label,{htmlFor:"coida",className:"flex-1 cursor-pointer",children:[(0,c.jsx)("div",{className:"font-medium",children:"COIDA Letter"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Letter of Good Standing from Compensation Fund"})]})]})]}),(0,c.jsx)("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:(0,c.jsx)("p",{className:"text-sm text-foreground",children:"Based on your profile, we'll provide personalized alerts for document expiry, compliance gaps, and matching tender opportunities."})})]})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[(0,c.jsxs)(f.Button,{variant:"ghost",onClick:()=>{e>1&&g(e-1)},disabled:1===e,children:[(0,c.jsx)(R.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Step ",e," of ",4]})}),e<4?(0,c.jsxs)(f.Button,{onClick:()=>{e<4&&g(e+1)},children:["Next",(0,c.jsx)(Q.ChevronRight,{className:"h-4 w-4 ml-1"})]}):(0,c.jsx)(f.Button,{onClick:o,disabled:l,children:l?"Saving...":(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(S.Check,{className:"h-4 w-4 mr-1"}),"Complete"]})})]})]})})}var U=a.i(83566);let V=(0,s.default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),W=(0,s.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var X=a.i(935176),Y=a.i(248472);let Z=Symbol.for("constructDateFrom");function $(a,b){return"function"==typeof a?a(b):a&&"object"==typeof a&&Z in a?a[Z](b):a instanceof Date?new a.constructor(b):new Date(b)}let _={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function aa(a){return (b={})=>{let c=b.width?String(b.width):a.defaultWidth;return a.formats[c]||a.formats[a.defaultWidth]}}let ab={date:aa({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:aa({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:aa({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ac={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ad(a){return(b,c)=>{let d;if("formatting"===(c?.context?String(c.context):"standalone")&&a.formattingValues){let b=a.defaultFormattingWidth||a.defaultWidth,e=c?.width?String(c.width):b;d=a.formattingValues[e]||a.formattingValues[b]}else{let b=a.defaultWidth,e=c?.width?String(c.width):a.defaultWidth;d=a.values[e]||a.values[b]}return d[a.argumentCallback?a.argumentCallback(b):b]}}function ae(a){return(b,c={})=>{let d,e=c.width,f=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],g=b.match(f);if(!g)return null;let h=g[0],i=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],j=Array.isArray(i)?function(a,b){for(let c=0;c<a.length;c++)if(b(a[c]))return c}(i,a=>a.test(h)):function(a,b){for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b(a[c]))return c}(i,a=>a.test(h));return d=a.valueCallback?a.valueCallback(j):j,{value:d=c.valueCallback?c.valueCallback(d):d,rest:b.slice(h.length)}}}let af={code:"en-US",formatDistance:(a,b,c)=>{let d,e=_[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return"in "+d;else return d+" ago";return d},formatLong:ab,formatRelative:(a,b,c,d)=>ac[a],localize:{ordinalNumber:(a,b)=>{let c=Number(a),d=c%100;if(d>20||d<10)switch(d%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},era:ad({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ad({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:ad({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ad({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ad({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(b={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)},(a,c={})=>{let d=a.match(b.matchPattern);if(!d)return null;let e=d[0],f=a.match(b.parsePattern);if(!f)return null;let g=b.valueCallback?b.valueCallback(f[0]):f[0];return{value:g=c.valueCallback?c.valueCallback(g):g,rest:a.slice(e.length)}}),era:ae({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ae({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:ae({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ae({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ae({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},ag={};function ah(a,b){return $(b||a,a)}function ai(a){let b=ah(a),c=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()));return c.setUTCFullYear(b.getFullYear()),a-c}function aj(a,...b){let c=$.bind(null,a||b.find(a=>"object"==typeof a));return b.map(c)}function ak(a,b){let c=ah(a)-ah(b);return c<0?-1:c>0?1:c}function al({conversations:a,alerts:b,unreadCount:d,score:e,onClose:h}){let j=e?.overall_score??0,k=e?.compliance_score??0,l=e?.documentation_score??0;return(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[e&&(0,c.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Your Readiness"}),(0,c.jsxs)(g.Badge,{variant:"outline",className:"text-xs",children:[Math.round(100*j),"%"]})]}),(0,c.jsx)(P.Progress,{value:100*j,className:"h-2 mb-3"}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,c.jsx)(r.Shield,{className:"h-3 w-3 text-muted-foreground"}),(0,c.jsx)("span",{className:"text-muted-foreground",children:"Compliance"}),(0,c.jsxs)("span",{className:"ml-auto font-medium",children:[Math.round(100*k),"%"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,c.jsx)(p.FileText,{className:"h-3 w-3 text-muted-foreground"}),(0,c.jsx)("span",{className:"text-muted-foreground",children:"Docs"}),(0,c.jsxs)("span",{className:"ml-auto font-medium",children:[Math.round(100*l),"%"]})]})]})]}),b&&b.length>0&&(0,c.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(v.Bell,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Alerts"})]}),d>0&&(0,c.jsx)(g.Badge,{variant:"destructive",className:"text-xs",children:d})]}),(0,c.jsx)("div",{className:"space-y-2",children:b.slice(0,3).map(a=>(0,c.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-lg bg-muted/50 cursor-pointer hover:bg-muted transition-colors",children:[(0,c.jsx)(B.AlertTriangle,{className:`h-4 w-4 flex-shrink-0 mt-0.5 ${"urgent"===a.priority?"text-destructive":"high"===a.priority?"text-orange-500":"text-muted-foreground"}`}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-foreground line-clamp-1",children:a.title||"Alert"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1",children:a.message||""})]})]},a.id))})]}),(0,c.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,c.jsx)("div",{className:"p-4 pb-2 flex items-center justify-between",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(V,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Recent Chats"})]})}),(0,c.jsx)(i.ScrollArea,{className:"flex-1 px-4",children:(0,c.jsx)("div",{className:"space-y-1 pb-4",children:a&&a.length>0?a.slice(0,10).map(a=>{var b,d;return(0,c.jsxs)("button",{className:"w-full flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-left",onClick:h,children:[(0,c.jsx)(U.MessageSquare,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:a.title||"New Conversation"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:a.last_message_at?(b=new Date(a.last_message_at),d={addSuffix:!0},function(a,b,c){var d;let e,f=c?.locale??ag.locale??af,g=ak(a,b);if(isNaN(g))throw RangeError("Invalid time value");let h=Object.assign({},c,{addSuffix:c?.addSuffix,comparison:g}),[i,j]=aj(c?.in,...g>0?[b,a]:[a,b]),k=(d=void 0,a=>{let b=(d?Math[d]:Math.trunc)(a);return 0===b?0:b})((ah(j)-ah(i))/1e3),l=Math.round((k-(ai(j)-ai(i))/1e3)/60);if(l<2)if(c?.includeSeconds)if(k<5)return f.formatDistance("lessThanXSeconds",5,h);else if(k<10)return f.formatDistance("lessThanXSeconds",10,h);else if(k<20)return f.formatDistance("lessThanXSeconds",20,h);else if(k<40)return f.formatDistance("halfAMinute",0,h);else if(k<60)return f.formatDistance("lessThanXMinutes",1,h);else return f.formatDistance("xMinutes",1,h);else if(0===l)return f.formatDistance("lessThanXMinutes",1,h);else return f.formatDistance("xMinutes",l,h);if(l<45)return f.formatDistance("xMinutes",l,h);if(l<90)return f.formatDistance("aboutXHours",1,h);if(l<1440){let a=Math.round(l/60);return f.formatDistance("aboutXHours",a,h)}if(l<2520)return f.formatDistance("xDays",1,h);else if(l<43200){let a=Math.round(l/1440);return f.formatDistance("xDays",a,h)}else if(l<86400)return e=Math.round(l/43200),f.formatDistance("aboutXMonths",e,h);if((e=function(a,b,c){var d,e;let f,g,h,i,[j,k,l]=aj(void 0,a,a,b),m=ak(k,l),n=Math.abs(function(a,b,c){let[d,e]=aj(void 0,a,b);return 12*(d.getFullYear()-e.getFullYear())+(d.getMonth()-e.getMonth())}(k,l));if(n<1)return 0;1===k.getMonth()&&k.getDate()>27&&k.setDate(30),k.setMonth(k.getMonth()-m*n);let o=ak(k,l)===-m;+(f=ah(j,void 0),d=void 0,(g=ah(f,d?.in)).setHours(23,59,59,999),g)==+(e=void 0,i=(h=ah(f,e?.in)).getMonth(),h.setFullYear(h.getFullYear(),i+1,0),h.setHours(23,59,59,999),h)&&1===n&&1===ak(j,l)&&(o=!1);let p=m*(n-o);return 0===p?0:p}(j,i))<12){let a=Math.round(l/43200);return f.formatDistance("xMonths",a,h)}{let a=e%12,b=Math.trunc(e/12);return a<3?f.formatDistance("aboutXYears",b,h):a<9?f.formatDistance("overXYears",b,h):f.formatDistance("almostXYears",b+1,h)}}(b,$(b,Date.now()),d)):"No messages"})]})]},a.id)}):(0,c.jsx)("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No conversations yet. Start chatting!"})})})]}),(0,c.jsxs)("div",{className:"p-4 border-t border-border space-y-1",children:[(0,c.jsx)(Y.default,{href:"/dashboard/strategist/learning",onClick:h,children:(0,c.jsxs)(f.Button,{variant:"ghost",className:"w-full justify-start gap-2 h-9",children:[(0,c.jsx)(W,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"text-sm",children:"Learning Center"}),(0,c.jsx)(Q.ChevronRight,{className:"h-4 w-4 ml-auto"})]})}),(0,c.jsx)(Y.default,{href:"/dashboard/strategist/opportunities",onClick:h,children:(0,c.jsxs)(f.Button,{variant:"ghost",className:"w-full justify-start gap-2 h-9",children:[(0,c.jsx)(n.Target,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"text-sm",children:"Opportunities"}),(0,c.jsx)(Q.ChevronRight,{className:"h-4 w-4 ml-auto"})]})}),(0,c.jsx)(Y.default,{href:"/dashboard/profile",onClick:h,children:(0,c.jsxs)(f.Button,{variant:"ghost",className:"w-full justify-start gap-2 h-9",children:[(0,c.jsx)(X.Settings,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"text-sm",children:"Preferences"}),(0,c.jsx)(Q.ChevronRight,{className:"h-4 w-4 ml-auto"})]})})]})]})}var am=a.i(369764);let an=(0,s.default)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),ao=(0,s.default)("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);var ap=a.i(549117);let aq=(0,s.default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var ar=a.i(435483),as=a.i(256142),at=a.i(506702),au=a.i(497895);let av={low_risk:{icon:r.Shield,label:"Low Risk",color:"text-green-500",bg:"bg-green-500/10"},high_margin:{icon:w.TrendingUp,label:"High Margin",color:"text-blue-500",bg:"bg-blue-500/10"},quick_win:{icon:aq,label:"Quick Win",color:"text-yellow-500",bg:"bg-yellow-500/10"},strategic:{icon:n.Target,label:"Strategic",color:"text-purple-500",bg:"bg-purple-500/10"},growth:{icon:w.TrendingUp,label:"Growth",color:"text-primary",bg:"bg-primary/10"}};function aw(){let{opportunities:a,isLoading:b,refresh:h,saveOpportunity:j,dismissOpportunity:l,markViewed:m}=(0,D.useStrategistOpportunities)(),[o,p]=(0,d.useState)("all"),q=a.filter(a=>"all"===o?!a.is_dismissed:"saved"===o?a.is_saved:"new"===o?!a.is_viewed&&!a.is_dismissed:a.opportunity_type===o&&!a.is_dismissed),r=async a=>{a.is_viewed||await m(a.id)},s=async a=>{await j(a.id,!a.is_saved)},t=async a=>{await l(a.id)};return(0,c.jsxs)(e.Card,{className:"h-full",children:[(0,c.jsx)(e.CardHeader,{className:"pb-3",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(e.CardTitle,{className:"text-lg",children:"Opportunity Tracker"}),(0,c.jsx)(e.CardDescription,{children:"Tenders matched to your profile"})]}),(0,c.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:()=>h?.(),disabled:b,children:(0,c.jsx)(at.RefreshCw,{className:(0,au.cn)("h-4 w-4",b&&"animate-spin")})})]})}),(0,c.jsx)(e.CardContent,{className:"space-y-4",children:(0,c.jsxs)(k.Tabs,{value:o,onValueChange:p,children:[(0,c.jsxs)(k.TabsList,{className:"w-full grid grid-cols-4",children:[(0,c.jsx)(k.TabsTrigger,{value:"all",className:"text-xs",children:"All"}),(0,c.jsx)(k.TabsTrigger,{value:"new",className:"text-xs",children:"New"}),(0,c.jsx)(k.TabsTrigger,{value:"saved",className:"text-xs",children:"Saved"}),(0,c.jsx)(k.TabsTrigger,{value:"quick_win",className:"text-xs",children:"Quick Wins"})]}),(0,c.jsx)(k.TabsContent,{value:o,className:"mt-4",children:b?(0,c.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,c.jsx)(x.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===q.length?(0,c.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,c.jsx)(n.Target,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,c.jsx)("p",{className:"text-sm",children:"No opportunities found"}),(0,c.jsx)("p",{className:"text-xs mt-1",children:"Check back later for new matches"})]}):(0,c.jsx)(i.ScrollArea,{className:"h-[400px]",children:(0,c.jsx)("div",{className:"space-y-3",children:q.map(a=>{var b;let d=av[a.opportunity_type],e=d.icon;return(0,c.jsxs)("div",{className:(0,au.cn)("p-4 rounded-xl border transition-colors",!a.is_viewed&&"border-primary/50 bg-primary/5",a.is_viewed&&"border-border"),onClick:()=>r(a),children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsxs)(g.Badge,{variant:"secondary",className:(0,au.cn)("text-xs",d.bg,d.color),children:[(0,c.jsx)(e,{className:"h-3 w-3 mr-1"}),d.label]}),!a.is_viewed&&(0,c.jsx)(g.Badge,{variant:"default",className:"text-xs",children:"New"})]}),(0,c.jsx)("h4",{className:"font-medium text-sm text-foreground line-clamp-2",children:a.tender?.title||"Untitled Tender"}),(0,c.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(as.Building2,{className:"h-3 w-3"}),a.tender?.organization||"Unknown"]}),a.tender?.close_date&&(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(ar.Calendar,{className:"h-3 w-3"}),new Date(a.tender.close_date).toLocaleDateString()]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,c.jsx)("span",{className:"text-xs text-muted-foreground",children:"Match:"}),(0,c.jsxs)("span",{className:(0,au.cn)("text-sm font-bold",(b=a.match_score)>=.8?"text-green-500":b>=.6?"text-yellow-500":"text-orange-500"),children:[Math.round(100*a.match_score),"%"]}),a.estimated_margin&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-xs text-muted-foreground ml-2",children:"Est. Margin:"}),(0,c.jsxs)("span",{className:"text-sm font-medium text-green-500",children:[a.estimated_margin,"%"]})]})]})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,c.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(a),children:a.is_saved?(0,c.jsx)(ao,{className:"h-4 w-4 text-primary"}):(0,c.jsx)(an,{className:"h-4 w-4"})}),(0,c.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:b=>{b.stopPropagation(),t(a)},children:(0,c.jsx)(ap.X,{className:"h-4 w-4"})})]})]}),a.match_reasons&&a.match_reasons.length>0&&(0,c.jsxs)("div",{className:"mt-3 pt-3 border-t border-border",children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Why this matches you:"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-1",children:a.match_reasons.slice(0,3).map((a,b)=>(0,c.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:a},b))})]}),(0,c.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,c.jsx)(f.Button,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-transparent",asChild:!0,children:(0,c.jsxs)(Y.default,{href:`/dashboard/tenders/${a.scraped_tender_id||a.custom_tender_id}`,children:[(0,c.jsx)(am.Eye,{className:"h-3 w-3 mr-1"}),"View Tender"]})}),(0,c.jsx)(f.Button,{variant:"default",size:"sm",className:"flex-1 text-xs",asChild:!0,children:(0,c.jsxs)(Y.default,{href:`/dashboard/strategist?tenderId=${a.scraped_tender_id||a.custom_tender_id}`,children:[(0,c.jsx)(n.Target,{className:"h-3 w-3 mr-1"}),"Get Strategy"]})})]})]},a.id)})})})})]})})]})}var ax=a.i(432643),ay=a.i(539582),az=a.i(167305),aA=a.i(600082);let aB={compliance:{icon:r.Shield,label:"Compliance",color:"text-red-500"},documentation:{icon:p.FileText,label:"Documentation",color:"text-orange-500"},capacity:{icon:as.Building2,label:"Capacity",color:"text-blue-500"},experience:{icon:az.Clock,label:"Experience",color:"text-purple-500"}},aC={critical:{label:"Critical",color:"destructive"},high:{label:"High",color:"default"},medium:{label:"Medium",color:"secondary"},low:{label:"Low",color:"outline"}};function aD(){let{preferences:a,isLoading:b}=(0,D.useStrategistPreferences)(),{score:h,isLoading:i}=(0,D.useCompetitivenessScore)(),[j,k]=(0,d.useState)([]),[l,m]=(0,d.useState)(new Set),[n,o]=(0,d.useState)(!0);(0,d.useEffect)(()=>{a&&h&&p()},[a,h]);let p=()=>{let b=[];if(a?.has_tax_clearance){if(a?.tax_clearance_expiry){let c=Math.ceil((new Date(a.tax_clearance_expiry).getTime()-Date.now())/864e5);c<=30&&b.push({id:"tax_clearance_expiry",category:"compliance",name:"Tax Clearance Certificate",status:"expiring",priority:c<=7?"critical":"high",description:`Your tax clearance expires in ${c} days. Renew before bidding on new tenders.`,actionSteps:["Log into SARS eFiling","Request new Tax Compliance Status","Download updated certificate"],expiryDate:a.tax_clearance_expiry,actionUrl:"https://www.sarsefiling.co.za"})}}else b.push({id:"tax_clearance",category:"compliance",name:"Tax Clearance Certificate",status:"missing",priority:"critical",description:"Required for all government tenders. Without this, your bid will be disqualified.",actionSteps:["Register on SARS eFiling if not already","Submit Tax Compliance Status (TCS) request","Wait for verification (usually 24-48 hours)","Download your Tax Clearance Certificate"],actionUrl:"https://www.sarsefiling.co.za"});a?.has_coida||b.push({id:"coida",category:"compliance",name:"COIDA Letter of Good Standing",status:"missing",priority:"high",description:"Required for tenders involving workers. Shows you're registered for employee compensation.",actionSteps:["Register with the Compensation Fund","Pay outstanding assessments if any","Request Letter of Good Standing","Wait for processing (usually 7-14 days)"],actionUrl:"https://www.labour.gov.za"}),a?.has_csd_registration||b.push({id:"csd",category:"documentation",name:"CSD Registration",status:"missing",priority:"critical",description:"Central Supplier Database registration is mandatory for all government suppliers.",actionSteps:["Go to CSD website","Create account and submit application","Upload required documents (company registration, tax, B-BBEE)","Complete verification process"],actionUrl:"https://secure.csd.gov.za"}),a?.industries?.includes("construction")&&(!a?.cidb_grading||"none"===a.cidb_grading)&&b.push({id:"cidb",category:"capacity",name:"CIDB Registration",status:"missing",priority:"critical",description:"Required for construction-related government tenders.",actionSteps:["Register on CIDB website","Submit grading application with required documents","Pay registration fees","Wait for assessment and grading"],actionUrl:"https://www.cidb.org.za"}),a?.bee_level&&"non-compliant"!==a.bee_level||b.push({id:"bbbee",category:"compliance",name:"B-BBEE Certificate",status:"missing",priority:"high",description:"B-BBEE status affects your preferential points. Without it, you lose competitive advantage.",actionSteps:["Determine if you qualify for EME/QSE affidavit or need verification","Contact a SANAS-accredited verification agency if needed","Gather required documentation","Complete verification process"]}),3>(a?.past_tender_wins||0)&&b.push({id:"experience",category:"experience",name:"Track Record / References",status:"incomplete",priority:"medium",description:"Limited track record may affect scoring on functionality criteria.",actionSteps:["Document all completed projects with details","Request reference letters from past clients","Build portfolio of successful work","Consider joint ventures with experienced partners"]}),k(b),o(!1)},q=j.filter(a=>"complete"===a.status).length,r=j.filter(a=>"critical"===a.priority&&"complete"!==a.status).length,s=j.length>0?q/j.length*100:100;return b||i||n?(0,c.jsx)(e.Card,{children:(0,c.jsx)(e.CardContent,{className:"flex items-center justify-center py-12",children:(0,c.jsx)(x.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):(0,c.jsxs)(e.Card,{children:[(0,c.jsx)(e.CardHeader,{className:"pb-3",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(e.CardTitle,{className:"text-lg",children:"Capability Gap Analysis"}),(0,c.jsx)(e.CardDescription,{children:"What you need to improve your bid readiness"})]}),(0,c.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:()=>p(),children:(0,c.jsx)(at.RefreshCw,{className:"h-4 w-4"})})]})}),(0,c.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 space-y-3",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm font-medium",children:"Overall Readiness"}),(0,c.jsxs)("span",{className:"text-lg font-bold text-primary",children:[Math.round(s),"%"]})]}),(0,c.jsx)(P.Progress,{value:s,className:"h-2"}),(0,c.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[r>0&&(0,c.jsxs)("span",{className:"flex items-center gap-1 text-destructive",children:[(0,c.jsx)(B.AlertTriangle,{className:"h-3 w-3"}),r," critical item",1!==r?"s":""]}),(0,c.jsxs)("span",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,c.jsx)(u.CheckCircle,{className:"h-3 w-3"}),q," of ",j.length," complete"]})]})]}),0===j.length?(0,c.jsxs)("div",{className:"text-center py-8",children:[(0,c.jsx)(u.CheckCircle,{className:"h-12 w-12 mx-auto text-green-500 mb-3"}),(0,c.jsx)("p",{className:"font-medium text-foreground",children:"Looking good!"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"No capability gaps identified"})]}):(0,c.jsx)("div",{className:"space-y-2",children:j.map(a=>{let b=aB[a.category],d=b.icon,e=l.has(a.id);return(0,c.jsxs)(ax.Collapsible,{open:e,onOpenChange:()=>{var b;let c;return b=a.id,void((c=new Set(l)).has(b)?c.delete(b):c.add(b),m(c))},children:[(0,c.jsx)(ax.CollapsibleTrigger,{asChild:!0,children:(0,c.jsx)("div",{className:(0,au.cn)("p-4 rounded-xl border cursor-pointer transition-colors hover:bg-muted/50","missing"===a.status&&"critical"===a.priority&&"border-destructive/50 bg-destructive/5"),children:(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:(0,au.cn)("h-10 w-10 rounded-lg flex items-center justify-center",`bg-${a.category}/10`),children:(0,c.jsx)(d,{className:(0,au.cn)("h-5 w-5",b.color)})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("h4",{className:"font-medium text-sm text-foreground",children:a.name}),(0,c.jsx)(g.Badge,{variant:aC[a.priority].color,className:"text-xs",children:aC[a.priority].label})]}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:a.description})]}),e?(0,c.jsx)(ay.ChevronDown,{className:"h-4 w-4 text-muted-foreground"}):(0,c.jsx)(Q.ChevronRight,{className:"h-4 w-4 text-muted-foreground"})]})})}),(0,c.jsx)(ax.CollapsibleContent,{children:(0,c.jsxs)("div",{className:"px-4 pb-4 pt-2 space-y-3 border-x border-b rounded-b-xl",children:[(0,c.jsx)("p",{className:"text-sm text-foreground",children:a.description}),a.expiryDate&&(0,c.jsxs)("div",{className:"flex items-center gap-2 text-sm text-orange-500",children:[(0,c.jsx)(az.Clock,{className:"h-4 w-4"}),"Expires: ",new Date(a.expiryDate).toLocaleDateString()]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"Steps to resolve:"}),(0,c.jsx)("ol",{className:"space-y-1",children:a.actionSteps.map((a,b)=>(0,c.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,c.jsx)("span",{className:"flex-shrink-0 h-5 w-5 rounded-full bg-primary/10 text-primary text-xs flex items-center justify-center",children:b+1}),(0,c.jsx)("span",{children:a})]},b))})]}),a.actionUrl&&(0,c.jsx)(f.Button,{variant:"outline",size:"sm",className:"w-full bg-transparent",asChild:!0,children:(0,c.jsxs)("a",{href:a.actionUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,c.jsx)(aA.ExternalLink,{className:"h-4 w-4 mr-2"}),"Go to Website"]})})]})})]},a.id)})})]})]})}var aE=a.i(205522),aF=a.i(676504);let aG=(0,s.default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var aH=a.i(318851),aI=a.i(666929),aJ=a.i(277687),aK=a.i(492498);function aL({strategy:a,onSaved:b}){let[e,g]=(0,d.useState)(!1),[h,i]=(0,d.useState)(!1),[j,k]=(0,d.useState)(!1),[l,m]=(0,d.useState)(a.title||"Untitled Strategy"),{toast:n}=(0,aJ.useToast)(),o=async()=>{g(!0);try{let c=await fetch("/api/strategist/strategy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save",title:l,content:a.content,summary:a.summary,tenderId:a.tender_id})});if(c.ok){let a=await c.json();n({title:"Strategy Saved",description:"Your strategy has been saved to your library."}),k(!1),b?.(a)}else throw Error("Failed to save strategy")}catch(a){n({title:"Error",description:"Failed to save strategy. Please try again.",variant:"destructive"})}finally{g(!1)}},q=async()=>{i(!0);try{let b=await fetch("/api/strategist/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:"pdf",strategy:a})});if(b.ok){let a=await b.blob(),c=window.URL.createObjectURL(a),d=document.createElement("a");d.href=c,d.download=`${l.replace(/\s+/g,"_")}_Strategy.pdf`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),n({title:"Export Complete",description:"Your strategy has been downloaded as PDF."})}else throw Error("Failed to export")}catch(h){var b;let c,d,e=new Blob([(c=(b=a).content||{},d=`TENDER BID STRATEGY
${"=".repeat(50)}

Title: ${b.title}

`,b.summary&&(d+=`SUMMARY
${"-".repeat(30)}
${b.summary}

`),c.viability&&(d+=`BID VIABILITY ANALYSIS
${"-".repeat(30)}
${c.viability}

`),c.strengths&&(d+=`STRENGTHS
${"-".repeat(30)}
${c.strengths}

`),c.weaknesses&&(d+=`WEAKNESSES
${"-".repeat(30)}
${c.weaknesses}

`),c.complianceStrategy&&(d+=`COMPLIANCE STRATEGY
${"-".repeat(30)}
${c.complianceStrategy}

`),c.pricingStrategy&&(d+=`PRICING STRATEGY
${"-".repeat(30)}
${c.pricingStrategy}

`),c.risks&&(d+=`RISKS & MITIGATION
${"-".repeat(30)}
${c.risks}

`),c.submissionChecklist&&(d+=`SUBMISSION CHECKLIST
${"-".repeat(30)}
${c.submissionChecklist}

`),d+=`
Generated by BidMate AI Strategist
Date: ${new Date().toLocaleDateString()}`)],{type:"text/plain"}),f=window.URL.createObjectURL(e),g=document.createElement("a");g.href=f,g.download=`${l.replace(/\s+/g,"_")}_Strategy.txt`,document.body.appendChild(g),g.click(),window.URL.revokeObjectURL(f),document.body.removeChild(g),n({title:"Export Complete",description:"Your strategy has been downloaded as text file."})}finally{i(!1)}},r=async()=>{i(!0);try{let b=await fetch("/api/strategist/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:"docx",strategy:a})});if(b.ok){let a=await b.blob(),c=window.URL.createObjectURL(a),d=document.createElement("a");d.href=c,d.download=`${l.replace(/\s+/g,"_")}_Strategy.docx`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),n({title:"Export Complete",description:"Your strategy has been downloaded as Word document."})}else throw Error("Failed to export")}catch(g){var b;let c,d=new Blob([(c=(b=a).content||{},`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${b.title} - Bid Strategy</title>
  <style>
    body { font-family: 'Inter', Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; color: #111827; }
    h1 { color: #005B8F; border-bottom: 2px solid #19A7CE; padding-bottom: 10px; }
    h2 { color: #005B8F; margin-top: 30px; }
    .summary { background: #F7F9FC; padding: 20px; border-radius: 8px; margin: 20px 0; }
    .section { margin-bottom: 30px; }
    .footer { margin-top: 50px; padding-top: 20px; border-top: 1px solid #ddd; font-size: 12px; color: #666; }
  </style>
</head>
<body>
  <h1>${b.title}</h1>
  ${b.summary?`<div class="summary"><strong>Summary:</strong> ${b.summary}</div>`:""}
  ${c.viability?`<div class="section"><h2>Bid Viability Analysis</h2><p>${c.viability}</p></div>`:""}
  ${c.strengths?`<div class="section"><h2>Strengths</h2><p>${c.strengths}</p></div>`:""}
  ${c.weaknesses?`<div class="section"><h2>Weaknesses</h2><p>${c.weaknesses}</p></div>`:""}
  ${c.complianceStrategy?`<div class="section"><h2>Compliance Strategy</h2><p>${c.complianceStrategy}</p></div>`:""}
  ${c.pricingStrategy?`<div class="section"><h2>Pricing Strategy</h2><p>${c.pricingStrategy}</p></div>`:""}
  ${c.risks?`<div class="section"><h2>Risks & Mitigation</h2><p>${c.risks}</p></div>`:""}
  ${c.submissionChecklist?`<div class="section"><h2>Submission Checklist</h2><p>${c.submissionChecklist}</p></div>`:""}
  <div class="footer">Generated by BidMate AI Strategist | ${new Date().toLocaleDateString()}</div>
</body>
</html>`)],{type:"text/html"}),e=window.URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=`${l.replace(/\s+/g,"_")}_Strategy.html`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(e),document.body.removeChild(f),n({title:"Export Complete",description:"Your strategy has been downloaded as HTML file."})}finally{i(!1)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(aF.DropdownMenu,{children:[(0,c.jsx)(aF.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsxs)(f.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[h?(0,c.jsx)(x.Loader2,{className:"h-4 w-4 animate-spin"}):(0,c.jsx)(aH.Download,{className:"h-4 w-4"}),"Export"]})}),(0,c.jsxs)(aF.DropdownMenuContent,{align:"end",children:[(0,c.jsxs)(aF.DropdownMenuItem,{onClick:()=>k(!0),children:[(0,c.jsx)(aK.Save,{className:"h-4 w-4 mr-2"}),"Save to Library"]}),(0,c.jsx)(aF.DropdownMenuSeparator,{}),(0,c.jsxs)(aF.DropdownMenuItem,{onClick:q,disabled:h,children:[(0,c.jsx)(p.FileText,{className:"h-4 w-4 mr-2"}),"Export as PDF"]}),(0,c.jsxs)(aF.DropdownMenuItem,{onClick:r,disabled:h,children:[(0,c.jsx)(p.FileText,{className:"h-4 w-4 mr-2"}),"Export as Word"]})]})]}),(0,c.jsx)(K.Dialog,{open:j,onOpenChange:k,children:(0,c.jsxs)(K.DialogContent,{children:[(0,c.jsxs)(K.DialogHeader,{children:[(0,c.jsx)(K.DialogTitle,{children:"Save Strategy"}),(0,c.jsx)(K.DialogDescription,{children:"Save this strategy to your library for future reference."})]}),(0,c.jsx)("div",{className:"space-y-4 py-4",children:(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(L.Label,{htmlFor:"title",children:"Strategy Name"}),(0,c.jsx)(aE.Input,{id:"title",value:l,onChange:a=>m(a.target.value),placeholder:"Enter a name for this strategy"})]})}),(0,c.jsxs)(K.DialogFooter,{children:[(0,c.jsx)(f.Button,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,c.jsx)(f.Button,{onClick:o,disabled:e||!l.trim(),children:e?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(x.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(S.Check,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})})]})}function aM(){let[a,b]=(0,d.useState)([]),[h,j]=(0,d.useState)(!0),[k,l]=(0,d.useState)(""),[m,p]=(0,d.useState)(null),[q,r]=(0,d.useState)(!1),{toast:s}=(0,aJ.useToast)();(0,d.useEffect)(()=>{t()},[]);let t=async()=>{j(!0);try{let a=await fetch("/api/strategist/strategy?action=list");if(a.ok){let c=await a.json();b(c.strategies||[])}}catch(a){console.error("Error loading strategies:",a)}finally{j(!1)}},u=async a=>{try{(await fetch(`/api/strategist/strategy?id=${a}`,{method:"DELETE"})).ok&&(b(b=>b.filter(b=>b.id!==a)),s({title:"Strategy Deleted",description:"The strategy has been removed from your library."}))}catch(a){s({title:"Error",description:"Failed to delete strategy.",variant:"destructive"})}},v=a.filter(a=>a.title.toLowerCase().includes(k.toLowerCase())||a.summary?.toLowerCase().includes(k.toLowerCase())),y=a=>{switch(a){case"low":return"text-green-500";case"medium":return"text-yellow-500";case"high":return"text-orange-500";case"critical":return"text-red-500";default:return"text-muted-foreground"}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(e.Card,{className:"h-full",children:[(0,c.jsxs)(e.CardHeader,{className:"pb-3",children:[(0,c.jsx)(e.CardTitle,{className:"text-lg",children:"Strategy Library"}),(0,c.jsx)(e.CardDescription,{children:"Your saved bid strategies"})]}),(0,c.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(aE.Input,{placeholder:"Search strategies...",value:k,onChange:a=>l(a.target.value),className:"pl-9"})]}),h?(0,c.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,c.jsx)(x.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===v.length?(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)(C.FolderOpen,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),(0,c.jsx)("p",{className:"font-medium text-foreground",children:"No strategies yet"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:k?"No matching strategies found":"Your saved strategies will appear here"})]}):(0,c.jsx)(i.ScrollArea,{className:"h-[400px]",children:(0,c.jsx)("div",{className:"space-y-3",children:v.map(a=>(0,c.jsx)("div",{className:"p-4 rounded-xl border border-border hover:border-primary/50 transition-colors",children:(0,c.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)(g.Badge,{variant:"outline",className:(0,au.cn)("text-xs",(a=>{switch(a){case"won":return"bg-green-500/10 text-green-500";case"lost":return"bg-red-500/10 text-red-500";case"submitted":return"bg-blue-500/10 text-blue-500";case"active":return"bg-primary/10 text-primary";default:return"bg-muted text-muted-foreground"}})(a.status)),children:a.status}),a.strategy_type&&(0,c.jsx)(g.Badge,{variant:"secondary",className:"text-xs",children:a.strategy_type})]}),(0,c.jsx)("h4",{className:"font-medium text-sm text-foreground line-clamp-1",children:a.title}),a.summary&&(0,c.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:a.summary}),(0,c.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(ar.Calendar,{className:"h-3 w-3"}),new Date(a.created_at).toLocaleDateString()]}),void 0!==a.win_probability&&(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(n.Target,{className:"h-3 w-3"}),"Win: ",Math.round(100*a.win_probability),"%"]}),a.risk_level&&(0,c.jsxs)("span",{className:(0,au.cn)("flex items-center gap-1",y(a.risk_level)),children:[(0,c.jsx)(w.TrendingUp,{className:"h-3 w-3"}),a.risk_level," risk"]})]})]}),(0,c.jsxs)(aF.DropdownMenu,{children:[(0,c.jsx)(aF.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,c.jsx)(aG,{className:"h-4 w-4"})})}),(0,c.jsxs)(aF.DropdownMenuContent,{align:"end",children:[(0,c.jsxs)(aF.DropdownMenuItem,{onClick:()=>{p(a),r(!0)},children:[(0,c.jsx)(am.Eye,{className:"h-4 w-4 mr-2"}),"View Details"]}),(0,c.jsxs)(aF.DropdownMenuItem,{children:[(0,c.jsx)(aH.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,c.jsx)(aF.DropdownMenuSeparator,{}),(0,c.jsxs)(aF.DropdownMenuItem,{className:"text-destructive",onClick:()=>u(a.id),children:[(0,c.jsx)(aI.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})},a.id))})})]})]}),(0,c.jsx)(K.Dialog,{open:q,onOpenChange:r,children:(0,c.jsxs)(K.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,c.jsxs)(K.DialogHeader,{children:[(0,c.jsx)(K.DialogTitle,{children:m?.title}),(0,c.jsxs)(K.DialogDescription,{children:["Created on ",m&&new Date(m.created_at).toLocaleDateString()]})]}),m&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[void 0!==m.viability_score&&(0,c.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 text-center",children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Viability"}),(0,c.jsxs)("p",{className:"text-lg font-bold text-primary",children:[Math.round(100*m.viability_score),"%"]})]}),void 0!==m.win_probability&&(0,c.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 text-center",children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Win Probability"}),(0,c.jsxs)("p",{className:"text-lg font-bold text-green-500",children:[Math.round(100*m.win_probability),"%"]})]}),m.risk_level&&(0,c.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 text-center",children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Risk Level"}),(0,c.jsx)("p",{className:(0,au.cn)("text-lg font-bold capitalize",y(m.risk_level)),children:m.risk_level})]})]}),m.summary&&(0,c.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50",children:[(0,c.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Summary"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:m.summary})]}),m.content&&(0,c.jsx)("div",{className:"space-y-3",children:Object.entries(m.content).map(([a,b])=>b&&"raw"!==a?(0,c.jsxs)("div",{className:"p-4 rounded-lg border",children:[(0,c.jsx)("h4",{className:"text-sm font-medium capitalize mb-2",children:a.replace(/_/g," ")}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:b})]},a):null)}),(0,c.jsx)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:(0,c.jsx)(aL,{strategy:{title:m.title,content:m.content,summary:m.summary}})})]})]})})]})}let aN=(0,s.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var aO=a.i(286979);let aP=(0,s.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function aQ({tenderId:a,className:b}){let[h,i]=(0,d.useState)(null),[j,k]=(0,d.useState)([]),[l,m]=(0,d.useState)(!1),[o,p]=(0,d.useState)(!1),[q,r]=(0,d.useState)("stable");(0,d.useEffect)(()=>{a&&s()},[a]);let s=async()=>{m(!0);try{let b=await fetch(`/api/strategist/readiness${a?`?tenderId=${a}`:""}`);if(b.ok){let a=await b.json(),c=[{name:"Documentation Completeness",score:a.documentation_score||a.document_score||0,weight:.2,impact:(a.documentation_score||a.document_score||0)>=.7?"positive":"negative",description:"Having all required documents ready"},{name:"Compliance Status",score:a.compliance_score||0,weight:.25,impact:(a.compliance_score||0)>=.8?"positive":"negative",description:"Tax clearance, COIDA, CSD registration"},{name:"Experience & Track Record",score:a.experience_score||0,weight:.2,impact:(a.experience_score||0)>=.6?"positive":"neutral",description:"Past tender wins and relevant experience"},{name:"Capacity Fit",score:a.capacity_score||.5,weight:.15,impact:(a.capacity_score||.5)>=.7?"positive":"neutral",description:"Company size and capability match"},{name:"B-BBEE Status",score:a.bbbee_score||.5,weight:.2,impact:(a.bbbee_score||.5)>=.7?"positive":"neutral",description:"Preferential points from B-BBEE level"}];k(c);let d=c.reduce((a,b)=>a+b.score*b.weight,0),e=100*d;i(e),e>60?r("up"):e<40?r("down"):r("stable")}}catch(a){console.error("Error calculating win probability:",a)}finally{m(!1)}},t=a=>a>=70?"text-green-500":a>=50?"text-yellow-500":a>=30?"text-orange-500":"text-red-500";return l?(0,c.jsx)(e.Card,{className:(0,au.cn)(b),children:(0,c.jsx)(e.CardContent,{className:"flex items-center justify-center py-8",children:(0,c.jsx)(x.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):(0,c.jsx)(e.Card,{className:(0,au.cn)(b),children:(0,c.jsxs)(ax.Collapsible,{open:o,onOpenChange:p,children:[(0,c.jsx)(e.CardHeader,{className:"pb-3",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)(e.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,c.jsx)(n.Target,{className:"h-5 w-5 text-primary"}),"Win Probability"]}),(0,c.jsx)(e.CardDescription,{children:"Estimated chance of winning this bid"})]}),(0,c.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:s,disabled:l,children:(0,c.jsx)(at.RefreshCw,{className:(0,au.cn)("h-4 w-4",l&&"animate-spin")})})]})}),(0,c.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-6",children:[(0,c.jsx)("div",{className:(0,au.cn)("h-24 w-24 rounded-full flex items-center justify-center border-4",null!==h&&(h>=70?"bg-green-500":h>=50?"bg-yellow-500":h>=30?"bg-orange-500":"bg-red-500").replace("bg-","border-")),children:(0,c.jsx)("div",{className:"text-center",children:(0,c.jsxs)("span",{className:(0,au.cn)("text-3xl font-bold",null!==h&&t(h)),children:[null!==h?Math.round(h):"--","%"]})})}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,c.jsx)(g.Badge,{variant:"secondary",className:(0,au.cn)(null!==h&&t(h)),children:null!==h?h>=70?"Strong":h>=50?"Moderate":h>=30?"Fair":"Low":"Unknown"}),"up"===q?(0,c.jsx)(w.TrendingUp,{className:"h-4 w-4 text-green-500"}):"down"===q?(0,c.jsx)(aN,{className:"h-4 w-4 text-red-500"}):null]}),null!==h&&(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)(P.Progress,{value:h,className:"h-2"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:h>=70?"You're well-positioned for this tender":h>=50?"Good potential with room for improvement":h>=30?"Consider addressing gaps before bidding":"Significant improvements needed"})]})]})]}),(0,c.jsx)(ax.CollapsibleTrigger,{asChild:!0,children:(0,c.jsx)(f.Button,{variant:"ghost",size:"sm",className:"w-full justify-center gap-2",children:o?(0,c.jsxs)(c.Fragment,{children:["Hide Factors",(0,c.jsx)(aO.ChevronUp,{className:"h-4 w-4"})]}):(0,c.jsxs)(c.Fragment,{children:["See Contributing Factors",(0,c.jsx)(ay.ChevronDown,{className:"h-4 w-4"})]})})}),(0,c.jsxs)(ax.CollapsibleContent,{children:[(0,c.jsx)("div",{className:"space-y-3 pt-2",children:j.map((a,b)=>{var d;return(0,c.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:["positive"===(d=a.impact)?(0,c.jsx)(u.CheckCircle,{className:"h-4 w-4 text-green-500"}):"negative"===d?(0,c.jsx)(B.AlertTriangle,{className:"h-4 w-4 text-red-500"}):(0,c.jsx)(aP,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm font-medium",children:a.name}),(0,c.jsxs)("span",{className:(0,au.cn)("text-sm font-bold",a.score>=.7?"text-green-500":a.score>=.5?"text-yellow-500":"text-red-500"),children:[Math.round(100*a.score),"%"]})]}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description}),(0,c.jsx)(P.Progress,{value:100*a.score,className:"h-1.5 mt-2"})]})]},b)})}),(0,c.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-primary/5 border border-primary/20",children:(0,c.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,c.jsx)("strong",{className:"text-foreground",children:"Note:"})," This probability is an estimate based on your profile data and typical tender evaluation criteria. Actual results depend on competition, pricing, and evaluator discretion."]})})]})]})]})})}var aR=a.i(338032),aS=a.i(562259),aT=a.i(151549),aU=a.i(866258),aV=a.i(720521),aW=a.i(382001),aX=a.i(832397),aY=a.i(389103),aZ=a.i(930138),a$=a.i(675266),a_=a.i(924098),a0=a.i(15446),[a1,a2]=(0,aT.createContextScope)("Tooltip",[aW.createPopperScope]),a3=(0,aW.createPopperScope)(),a4="TooltipProvider",a5="tooltip.open",[a6,a7]=a1(a4),a8=a=>{let{__scopeTooltip:b,delayDuration:e=700,skipDelayDuration:f=300,disableHoverableContent:g=!1,children:h}=a,[i,j]=d.useState(!0),k=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{let a=l.current;return()=>window.clearTimeout(a)},[]),(0,c.jsx)(a6,{scope:b,isOpenDelayed:i,delayDuration:e,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),j(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>j(!0),f)},[f]),isPointerInTransitRef:k,onPointerInTransitChange:d.useCallback(a=>{k.current=a},[]),disableHoverableContent:g,children:h})};a8.displayName=a4;var a9="Tooltip",[ba,bb]=a1(a9),bc=a=>{let{__scopeTooltip:b,children:e,open:f,defaultOpen:g=!1,onOpenChange:h,disableHoverableContent:i,delayDuration:j}=a,k=a7(a9,a.__scopeTooltip),l=a3(b),[m,n]=d.useState(null),o=(0,aV.useId)(),p=d.useRef(0),q=i??k.disableHoverableContent,r=j??k.delayDuration,s=d.useRef(!1),[t=!1,u]=(0,a_.useControllableState)({prop:f,defaultProp:g,onChange:a=>{a?(k.onOpen(),document.dispatchEvent(new CustomEvent(a5))):k.onClose(),h?.(a)}}),v=d.useMemo(()=>t?s.current?"delayed-open":"instant-open":"closed",[t]),w=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,s.current=!1,u(!0)},[u]),x=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,u(!1)},[u]),y=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{s.current=!0,u(!0),p.current=0},r)},[r,u]);return d.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,c.jsx)(aW.Root,{...l,children:(0,c.jsx)(ba,{scope:b,contentId:o,open:t,stateAttribute:v,trigger:m,onTriggerChange:n,onTriggerEnter:d.useCallback(()=>{k.isOpenDelayed?y():w()},[k.isOpenDelayed,y,w]),onTriggerLeave:d.useCallback(()=>{q?x():(window.clearTimeout(p.current),p.current=0)},[x,q]),onOpen:w,onClose:x,disableHoverableContent:q,children:e})})};bc.displayName=a9;var bd="TooltipTrigger",be=d.forwardRef((a,b)=>{let{__scopeTooltip:e,...f}=a,g=bb(bd,e),h=a7(bd,e),i=a3(e),j=d.useRef(null),k=(0,aS.useComposedRefs)(b,j,g.onTriggerChange),l=d.useRef(!1),m=d.useRef(!1),n=d.useCallback(()=>l.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",n),[n]),(0,c.jsx)(aW.Anchor,{asChild:!0,...i,children:(0,c.jsx)(aZ.Primitive.button,{"aria-describedby":g.open?g.contentId:void 0,"data-state":g.stateAttribute,...f,ref:k,onPointerMove:(0,aR.composeEventHandlers)(a.onPointerMove,a=>{"touch"!==a.pointerType&&(m.current||h.isPointerInTransitRef.current||(g.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,aR.composeEventHandlers)(a.onPointerLeave,()=>{g.onTriggerLeave(),m.current=!1}),onPointerDown:(0,aR.composeEventHandlers)(a.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",n,{once:!0})}),onFocus:(0,aR.composeEventHandlers)(a.onFocus,()=>{l.current||g.onOpen()}),onBlur:(0,aR.composeEventHandlers)(a.onBlur,g.onClose),onClick:(0,aR.composeEventHandlers)(a.onClick,g.onClose)})})});be.displayName=bd;var bf="TooltipPortal",[bg,bh]=a1(bf,{forceMount:void 0}),bi=a=>{let{__scopeTooltip:b,forceMount:d,children:e,container:f}=a,g=bb(bf,b);return(0,c.jsx)(bg,{scope:b,forceMount:d,children:(0,c.jsx)(aY.Presence,{present:d||g.open,children:(0,c.jsx)(aX.Portal,{asChild:!0,container:f,children:e})})})};bi.displayName=bf;var bj="TooltipContent",bk=d.forwardRef((a,b)=>{let d=bh(bj,a.__scopeTooltip),{forceMount:e=d.forceMount,side:f="top",...g}=a,h=bb(bj,a.__scopeTooltip);return(0,c.jsx)(aY.Presence,{present:e||h.open,children:h.disableHoverableContent?(0,c.jsx)(bo,{side:f,...g,ref:b}):(0,c.jsx)(bl,{side:f,...g,ref:b})})}),bl=d.forwardRef((a,b)=>{let e=bb(bj,a.__scopeTooltip),f=a7(bj,a.__scopeTooltip),g=d.useRef(null),h=(0,aS.useComposedRefs)(b,g),[i,j]=d.useState(null),{trigger:k,onClose:l}=e,m=g.current,{onPointerInTransitChange:n}=f,o=d.useCallback(()=>{j(null),n(!1)},[n]),p=d.useCallback((a,b)=>{let c,d=a.currentTarget,e={x:a.clientX,y:a.clientY},f=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(e,d.getBoundingClientRect());j(((c=[...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(e,f),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())].slice()).sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(c))),n(!0)},[n]);return d.useEffect(()=>()=>o(),[o]),d.useEffect(()=>{if(k&&m){let a=a=>p(a,m),b=a=>p(a,k);return k.addEventListener("pointerleave",a),m.addEventListener("pointerleave",b),()=>{k.removeEventListener("pointerleave",a),m.removeEventListener("pointerleave",b)}}},[k,m,p,o]),d.useEffect(()=>{if(i){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=k?.contains(b)||m?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a].x,h=b[a].y,i=b[f].x,j=b[f].y;h>d!=j>d&&c<(i-g)*(d-h)/(j-h)+g&&(e=!e)}return e}(c,i);d?o():e&&(o(),l())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[k,m,i,l,o]),(0,c.jsx)(bo,{...a,ref:h})}),[bm,bn]=a1(a9,{isInside:!1}),bo=d.forwardRef((a,b)=>{let{__scopeTooltip:e,children:f,"aria-label":g,onEscapeKeyDown:h,onPointerDownOutside:i,...j}=a,k=bb(bj,e),l=a3(e),{onClose:m}=k;return d.useEffect(()=>(document.addEventListener(a5,m),()=>document.removeEventListener(a5,m)),[m]),d.useEffect(()=>{if(k.trigger){let a=a=>{let b=a.target;b?.contains(k.trigger)&&m()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[k.trigger,m]),(0,c.jsx)(aU.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:a=>a.preventDefault(),onDismiss:m,children:(0,c.jsxs)(aW.Content,{"data-state":k.stateAttribute,...l,...j,ref:b,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,c.jsx)(a$.Slottable,{children:f}),(0,c.jsx)(bm,{scope:e,isInside:!0,children:(0,c.jsx)(a0.Root,{id:k.contentId,role:"tooltip",children:g||f})})]})})});bk.displayName=bj;var bp="TooltipArrow",bq=d.forwardRef((a,b)=>{let{__scopeTooltip:d,...e}=a,f=a3(d);return bn(bp,d).isInside?null:(0,c.jsx)(aW.Arrow,{...f,...e,ref:b})});function br({delayDuration:a=0,...b}){return(0,c.jsx)(a8,{"data-slot":"tooltip-provider",delayDuration:a,...b})}function bs({...a}){return(0,c.jsx)(br,{children:(0,c.jsx)(bc,{"data-slot":"tooltip",...a})})}function bt({...a}){return(0,c.jsx)(be,{"data-slot":"tooltip-trigger",...a})}function bu({className:a,sideOffset:b=0,children:d,...e}){return(0,c.jsx)(bi,{children:(0,c.jsxs)(bk,{"data-slot":"tooltip-content",sideOffset:b,className:(0,au.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",a),...e,children:[d,(0,c.jsx)(bq,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}bq.displayName=bp;var bv=a.i(313400);let bw={rfq:{title:"Request for Quotation (RFQ)",definition:"A procurement method where the buyer requests price quotes from multiple suppliers for specific goods or services.",example:"An RFQ might be used to get pricing for office supplies or standard equipment."},rfp:{title:"Request for Proposal (RFP)",definition:"A formal solicitation that outlines requirements and invites suppliers to submit detailed proposals including methodology and pricing.",example:"Complex IT projects often use RFPs to evaluate both technical capability and cost."},rfb:{title:"Request for Bid (RFB)",definition:"Similar to RFQ but typically used for larger contracts where the evaluation is primarily based on price.",example:"Construction projects often use RFBs where specifications are clearly defined."},bbbee:{title:"Broad-Based Black Economic Empowerment (B-BBEE)",definition:"A South African policy to advance economic transformation and enhance the participation of black people in the economy.",example:"Your B-BBEE level affects preferential points in government tenders (typically 10-20 points)."},cidb:{title:"Construction Industry Development Board (CIDB)",definition:"A South African regulatory body that grades and registers contractors for public sector construction work.",example:"To bid on a R10 million construction tender, you might need a CIDB grading of 5 or higher."},csd:{title:"Central Supplier Database (CSD)",definition:"A South African government database where all suppliers must register to do business with government entities.",example:"Your CSD registration must be complete and verified before you can submit government tender bids."},scm:{title:"Supply Chain Management (SCM)",definition:"The management of the flow of goods and services, including all processes that transform raw materials into final products.",example:"Government SCM policies ensure fair, transparent, and cost-effective procurement."},boq:{title:"Bill of Quantities (BOQ)",definition:"A detailed list of materials, parts, and labor with their costs, used to price a project.",example:"The BOQ breaks down a construction project into itemized costs for each component."},functionality:{title:"Functionality Evaluation",definition:"Assessment of a bidder's technical ability to deliver on the tender requirements before price evaluation.",example:"You must score at least 60% on functionality to have your price evaluated."},"90/10":{title:"90/10 Preference Point System",definition:"For tenders above R50 million, 90 points are allocated for price and 10 for B-BBEE status.",example:"A Level 1 B-BBEE contributor gets all 10 preference points under this system."},"80/20":{title:"80/20 Preference Point System",definition:"For tenders up to R50 million, 80 points are allocated for price and 20 for B-BBEE status.",example:"A Level 1 B-BBEE contributor gets all 20 preference points under this system."},coida:{title:"COIDA Letter of Good Standing",definition:"Certificate from the Compensation Fund showing compliance with the Compensation for Occupational Injuries and Diseases Act.",example:"Without a valid COIDA letter, your tender may be disqualified."},sbd:{title:"Standard Bidding Documents (SBD)",definition:"Standardized forms used in South African government procurement (SBD1-SBD9).",example:"SBD4 is the Declaration of Interest form that must be completed for all government tenders."},mbd:{title:"Municipal Bidding Documents (MBD)",definition:"Standardized forms used specifically in South African municipal procurement.",example:"MBD forms are similar to SBD but specifically designed for municipal tenders."},gcc:{title:"General Conditions of Contract (GCC)",definition:"Standard contract terms that apply to all government procurement contracts.",example:"The GCC outlines payment terms, dispute resolution, and general obligations."},scc:{title:"Special Conditions of Contract (SCC)",definition:"Project-specific terms that supplement or modify the General Conditions of Contract.",example:"The SCC might specify unique delivery requirements or penalties for this particular tender."},jv:{title:"Joint Venture (JV)",definition:"A business arrangement where two or more parties agree to pool resources for a specific project while remaining independent.",example:"Smaller companies often form JVs with larger ones to meet CIDB grading requirements."},tor:{title:"Terms of Reference (TOR)",definition:"Document that defines the scope, objectives, and deliverables for a project or tender.",example:"The TOR outlines exactly what the client expects you to deliver and how success will be measured."}};function bx({term:a,children:b,className:d,showIcon:e=!0}){let f=bw[a.toLowerCase()];return f?(0,c.jsx)(br,{children:(0,c.jsxs)(bs,{delayDuration:300,children:[(0,c.jsx)(bt,{asChild:!0,children:(0,c.jsxs)("span",{className:(0,au.cn)("cursor-help border-b border-dashed border-muted-foreground/50 inline-flex items-center gap-1",d),children:[b||a,e&&(0,c.jsx)(bv.HelpCircle,{className:"h-3 w-3 text-muted-foreground"})]})}),(0,c.jsx)(bu,{side:"top",className:"max-w-sm p-4",children:(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("p",{className:"font-medium text-foreground",children:f.title}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:f.definition}),f.example&&(0,c.jsxs)("p",{className:"text-xs text-primary italic",children:["Example: ",f.example]})]})})]})}):(0,c.jsx)("span",{className:d,children:b||a})}function by({text:a,className:b}){if(!a||"string"!=typeof a)return(0,c.jsx)("span",{className:b});let d=Object.keys(bw).join("|"),e=RegExp(`\\b(${d})\\b`,"gi"),f=a.split(e);return(0,c.jsx)("span",{className:b,children:f.map((a,b)=>{if(null==a)return null;let d=a.toLowerCase();return d&&bw[d]?(0,c.jsx)(bx,{term:d,showIcon:!1,children:a},b):(0,c.jsx)("span",{children:a},b)})})}function bz({showOnboarding:a}){let[b,s]=(0,d.useState)(a),[E,F]=(0,d.useState)(!1),[G,H]=(0,d.useState)("chat"),I=(0,d.useRef)(null),{messages:K,input:L,handleInputChange:M,handleSubmit:N,isLoading:O,conversationId:P,setInput:Q}=(0,D.useStrategistChat)(),{alerts:R=[],unreadCount:S=0}=(0,D.useStrategistAlerts)({limit:5})||{},{preferences:U}=(0,D.useStrategistPreferences)()||{},{score:V}=(0,D.useCompetitivenessScore)()||{},{conversations:W=[]}=(0,D.useStrategistConversations)()||{},X=L??"";return(0,d.useEffect)(()=>{I.current?.scrollIntoView({behavior:"smooth"})},[K]),(0,c.jsxs)("div",{className:"flex h-[calc(100vh-4rem)] overflow-hidden",children:[(0,c.jsx)(j.Sheet,{open:E,onOpenChange:F,children:(0,c.jsx)(j.SheetContent,{side:"left",className:"w-80 p-0",children:(0,c.jsx)(al,{conversations:W,alerts:R,unreadCount:S,score:V,onClose:()=>F(!1)})})}),(0,c.jsx)("aside",{className:"hidden lg:flex w-80 border-r border-border flex-col",children:(0,c.jsx)(al,{conversations:W,alerts:R,unreadCount:S,score:V})}),(0,c.jsxs)("main",{className:"flex-1 flex flex-col",children:[(0,c.jsxs)("header",{className:"border-b border-border p-4 flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(f.Button,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>F(!0),children:(0,c.jsx)(z.Menu,{className:"h-5 w-5"})}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:(0,c.jsx)(m.Sparkles,{className:"h-5 w-5 text-primary"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-lg font-semibold text-foreground",children:"AI Tender Strategist"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your personal assistant for winning tenders"})]})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[S>0&&(0,c.jsxs)(f.Button,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,c.jsx)(v.Bell,{className:"h-4 w-4"}),(0,c.jsx)(g.Badge,{variant:"destructive",className:"text-xs",children:S})]}),(0,c.jsxs)(f.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[(0,c.jsx)(A.Plus,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"New Chat"})]})]})]}),(0,c.jsx)("div",{className:"border-b border-border px-4",children:(0,c.jsx)(k.Tabs,{value:G,onValueChange:a=>H(a),children:(0,c.jsxs)(k.TabsList,{className:"bg-transparent h-12 p-0 gap-4",children:[(0,c.jsxs)(k.TabsTrigger,{value:"chat",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:[(0,c.jsx)(m.Sparkles,{className:"h-4 w-4 mr-2"}),"Chat"]}),(0,c.jsxs)(k.TabsTrigger,{value:"opportunities",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:[(0,c.jsx)(n.Target,{className:"h-4 w-4 mr-2"}),"Opportunities"]}),(0,c.jsxs)(k.TabsTrigger,{value:"strategies",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:[(0,c.jsx)(C.FolderOpen,{className:"h-4 w-4 mr-2"}),"My Strategies"]}),(0,c.jsxs)(k.TabsTrigger,{value:"gaps",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:[(0,c.jsx)(B.AlertTriangle,{className:"h-4 w-4 mr-2"}),"Gap Analysis"]})]})})}),(0,c.jsxs)("div",{className:"flex-1 overflow-hidden",children:["chat"===G&&(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[0===K.length?(0,c.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-4 md:p-8 overflow-auto",children:(0,c.jsxs)("div",{className:"max-w-2xl w-full space-y-8",children:[(0,c.jsxs)("div",{className:"text-center space-y-2",children:[(0,c.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-primary/10 flex items-center justify-center mx-auto mb-4",children:(0,c.jsx)(m.Sparkles,{className:"h-8 w-8 text-primary"})}),(0,c.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Welcome to AI Tender Strategist"}),(0,c.jsx)("p",{className:"text-muted-foreground max-w-md mx-auto",children:"I'm here to help you understand tendering, build winning strategies, and discover opportunities tailored to your profile."})]}),(0,c.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:J.slice(0,6).map(a=>{var b;let d;return(0,c.jsx)(f.Button,{variant:"outline",className:"h-auto p-4 justify-start text-left bg-transparent hover:bg-accent",onClick:()=>{Q(a.prompt)},children:(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:(b=a.icon,d=({target:n.Target,"clipboard-check":u.CheckCircle,search:o.Search,"file-text":p.FileText,calculator:q.Calculator,shield:r.Shield,"graduation-cap":t,"check-circle":u.CheckCircle})[b]||y.Lightbulb,(0,c.jsx)(d,{className:"h-4 w-4"}))}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium text-foreground",children:a.label}),(0,c.jsxs)("div",{className:"text-xs text-muted-foreground line-clamp-1",children:[a.prompt.substring(0,50),"..."]})]})]})},a.id)})}),V&&(0,c.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,c.jsx)(e.Card,{className:"border-border",children:(0,c.jsxs)(e.CardContent,{className:"p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Readiness Score"}),(0,c.jsx)(w.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,c.jsxs)("div",{className:"text-2xl font-bold text-foreground mt-1",children:[Math.round(100*(V.overall_score||0)),"%"]})]})}),(0,c.jsx)(e.Card,{className:"border-border",children:(0,c.jsxs)(e.CardContent,{className:"p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Win Probability"}),(0,c.jsx)(n.Target,{className:"h-4 w-4 text-muted-foreground"})]}),(0,c.jsxs)("div",{className:"text-2xl font-bold text-foreground mt-1",children:[Math.round(100*(V.win_probability||0)),"%"]})]})}),(0,c.jsx)(e.Card,{className:"border-border",children:(0,c.jsxs)(e.CardContent,{className:"p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Compliance"}),(0,c.jsx)(r.Shield,{className:"h-4 w-4 text-muted-foreground"})]}),(0,c.jsxs)("div",{className:"text-2xl font-bold text-foreground mt-1",children:[Math.round(100*(V.compliance_score||0)),"%"]})]})})]})]})}):(0,c.jsx)(i.ScrollArea,{className:"flex-1 p-4",children:(0,c.jsxs)("div",{className:"max-w-3xl mx-auto space-y-4",children:[K.map(a=>(0,c.jsxs)("div",{className:(0,au.cn)("flex gap-3","user"===a.role?"justify-end":"justify-start"),children:["assistant"===a.role&&(0,c.jsx)("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:(0,c.jsx)(m.Sparkles,{className:"h-4 w-4 text-primary"})}),(0,c.jsx)("div",{className:(0,au.cn)("rounded-2xl px-4 py-3 max-w-[80%]","user"===a.role?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:(0,c.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:"assistant"===a.role?(0,c.jsx)(by,{text:String(a.content||"")}):String(a.content||"")})})]},a.id)),O&&(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:(0,c.jsx)(m.Sparkles,{className:"h-4 w-4 text-primary"})}),(0,c.jsx)("div",{className:"bg-muted rounded-2xl px-4 py-3",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(x.Loader2,{className:"h-4 w-4 animate-spin"}),(0,c.jsx)("span",{className:"text-sm text-muted-foreground",children:"Thinking..."})]})})]}),(0,c.jsx)("div",{ref:I})]})}),(0,c.jsx)("div",{className:"border-t border-border p-4",children:(0,c.jsxs)("form",{onSubmit:N,className:"max-w-3xl mx-auto",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(h.Textarea,{value:X,onChange:M,placeholder:"Ask me anything about tendering...",className:"min-h-[60px] max-h-[200px] pr-12 resize-none rounded-xl",onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),N(a))}}),(0,c.jsx)(f.Button,{type:"submit",size:"icon",disabled:!X.trim()||O,className:"absolute right-2 bottom-2 h-8 w-8 rounded-lg",children:O?(0,c.jsx)(x.Loader2,{className:"h-4 w-4 animate-spin"}):(0,c.jsx)(l.Send,{className:"h-4 w-4"})})]}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})})]}),"opportunities"===G&&(0,c.jsx)("div",{className:"p-6 overflow-auto h-full",children:(0,c.jsxs)("div",{className:"max-w-4xl mx-auto grid gap-6 lg:grid-cols-2",children:[(0,c.jsx)(aw,{}),(0,c.jsx)(aQ,{})]})}),"strategies"===G&&(0,c.jsx)("div",{className:"p-6 overflow-auto h-full",children:(0,c.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,c.jsx)(aM,{})})}),"gaps"===G&&(0,c.jsx)("div",{className:"p-6 overflow-auto h-full",children:(0,c.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,c.jsx)(aD,{})})})]})]}),(0,c.jsx)(T,{open:b,onOpenChange:s})]})}a.s(["StrategistPageClient",()=>bz],598059)}];

//# sourceMappingURL=app_dashboard_strategist_strategist-page-client_tsx_324b8882._.js.map