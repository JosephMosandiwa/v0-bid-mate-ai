module.exports=[703130,a=>{"use strict";var b=a.i(526689),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},621426,a=>{"use strict";let b=(0,a.i(550349).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],621426)},583958,a=>{"use strict";let b=(0,a.i(550349).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],583958)},708963,(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={},i={VercelOidcTokenError:()=>k};for(var j in i)d(h,j,{get:i[j],enumerable:!0});b.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let c of f(b))g.call(a,c)||void 0===c||d(a,c,{get:()=>b[c],enumerable:!(h=e(b,c))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);class k extends Error{constructor(a,b){super(a),this.name="VercelOidcTokenError",this.cause=b}toString(){return this.cause?`${this.name}: ${this.message}: ${this.cause}`:`${this.name}: ${this.message}`}}},602150,a=>{"use strict";var b=a.i(526689),c=a.i(125712),d=a.i(151549),e=a.i(930138),f="Progress",[g,h]=(0,d.createContextScope)(f),[i,j]=g(f),k=c.forwardRef((a,c)=>{var d,f;let{__scopeProgress:g,value:h=null,max:j,getValueLabel:k=n,...l}=a;(j||0===j)&&!q(j)&&console.error((d=`${j}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=q(j)?j:100;null===h||r(h,m)||console.error((f=`${h}`,`Invalid prop \`value\` of value \`${f}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let s=r(h,m)?h:null,t=p(s)?k(s,m):void 0;return(0,b.jsx)(i,{scope:g,value:s,max:m,children:(0,b.jsx)(e.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(s)?s:void 0,"aria-valuetext":t,role:"progressbar","data-state":o(s,m),"data-value":s??void 0,"data-max":m,...l,ref:c})})});k.displayName=f;var l="ProgressIndicator",m=c.forwardRef((a,c)=>{let{__scopeProgress:d,...f}=a,g=j(l,d);return(0,b.jsx)(e.Primitive.div,{"data-state":o(g.value,g.max),"data-value":g.value??void 0,"data-max":g.max,...f,ref:c})});function n(a,b){return`${Math.round(a/b*100)}%`}function o(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function p(a){return"number"==typeof a}function q(a){return p(a)&&!isNaN(a)&&a>0}function r(a,b){return p(a)&&!isNaN(a)&&a<=b&&a>=0}m.displayName=l;var s=a.i(497895);function t({className:a,value:c,...d}){return(0,b.jsx)(k,{"data-slot":"progress",className:(0,s.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:(0,b.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})})}a.s(["Progress",()=>t],602150)},322409,a=>{"use strict";let b=(0,a.i(550349).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],322409)},210299,a=>{"use strict";let b=(0,a.i(550349).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);a.s(["Target",()=>b],210299)},179869,a=>{"use strict";var b=a.i(284639);a.s(["ChevronRight",()=>b.default])},787199,a=>{"use strict";let b=(0,a.i(550349).default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);a.s(["Bell",()=>b],787199)},69976,a=>{"use strict";var b=a.i(125712),c=a.i(807430),d=a.i(162994);let e=a=>fetch(a).then(a=>{if(!a.ok)throw Error("Failed to fetch");return a.json()});function f(a){let[d,e]=(0,b.useState)(a?.conversationId);return{...(0,c.useChat)({api:"/api/strategist/message",body:{conversation_id:d,context_type:a?.contextType||"general",tender_id:a?.tenderId,include_context:!0},onResponse:a=>{let b=a.headers.get("X-Conversation-Id");b&&b!==d&&e(b)},onError:a=>{console.error("[useStrategistChat] Error:",a)}}),conversationId:d}}function g(){let{data:a,error:c,isLoading:f,mutate:g}=(0,d.default)("/api/strategist/preferences",e),h=(0,b.useCallback)(async a=>{let b=await fetch("/api/strategist/preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return b.ok&&g(),b.ok},[g]),i=(0,b.useCallback)(async()=>{let a=await fetch("/api/strategist/preferences",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"complete_onboarding"})});return a.ok&&g(),a.ok},[g]);return{preferences:a?.preferences,onboardingCompleted:a?.onboarding_completed,isLoading:f,error:c,updatePreferences:h,completeOnboarding:i,refresh:g}}function h(a){let c=new URLSearchParams;a?.unreadOnly&&c.set("unread","true"),a?.limit&&c.set("limit",a.limit.toString());let{data:f,error:g,isLoading:h,mutate:i}=(0,d.default)(`/api/strategist/alerts?${c.toString()}`,e,{fallbackData:{alerts:[],unreadCount:0},shouldRetryOnError:!1}),j=(0,b.useCallback)(async a=>{let b=await fetch("/api/strategist/alerts",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:a,action:"read"})});return b.ok&&i(),b.ok},[i]),k=(0,b.useCallback)(async a=>{let b=await fetch("/api/strategist/alerts",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert_id:a,action:"dismiss"})});return b.ok&&i(),b.ok},[i]);return{alerts:f?.alerts||[],unreadCount:f?.unreadCount||0,isLoading:h,error:g,markAsRead:j,dismissAlert:k,refresh:i}}function i(a){let c=new URLSearchParams;a?.saved&&c.set("saved","true");let{data:f,error:g,isLoading:h,mutate:i}=(0,d.default)(`/api/strategist/opportunities?${c.toString()}`,e),j=(0,b.useCallback)(async()=>{let a=await fetch("/api/strategist/opportunities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"discover"})});return a.ok&&i(),a.json()},[i]),k=(0,b.useCallback)(async(a,b=!0)=>{let c=await fetch("/api/strategist/opportunities",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({opportunity_id:a,updates:{is_saved:b}})});return c.ok&&i(),c.ok},[i]),l=(0,b.useCallback)(async a=>{let b=await fetch("/api/strategist/opportunities",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({opportunity_id:a,updates:{is_viewed:!0}})});return b.ok&&i(),b.ok},[i]),m=(0,b.useCallback)(async a=>{let b=await fetch("/api/strategist/opportunities",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({opportunity_id:a,updates:{is_dismissed:!0}})});return b.ok&&i(),b.ok},[i]);return{opportunities:f?.opportunities||[],isLoading:h,error:g,discoverOpportunities:j,saveOpportunity:k,markViewed:l,dismissOpportunity:m,refresh:i}}function j(a){let c=a?`?tender_id=${a}`:"",{data:f,error:g,isLoading:h,mutate:i}=(0,d.default)(`/api/strategist/readiness${c}`,e,{shouldRetryOnError:!1}),j=(0,b.useCallback)(async()=>{let b=await fetch("/api/strategist/readiness",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tender_id:a,force_recalculate:!0})});return b.ok&&i(),b.json()},[i,a]);return{score:f?.score||void 0,isLoading:h,error:g,recalculate:j,refresh:i}}function k(){let{data:a,error:b,isLoading:c,mutate:f}=(0,d.default)("/api/strategist/message",e);return{conversations:a?.conversations||[],isLoading:c,error:b,refresh:f}}a.s(["useCompetitivenessScore",()=>j,"useStrategistAlerts",()=>h,"useStrategistChat",()=>f,"useStrategistConversations",()=>k,"useStrategistOpportunities",()=>i,"useStrategistPreferences",()=>g])},534972,a=>{"use strict";var b=a.i(526689),c=a.i(703130),d=a.i(340695),e=a.i(254161),f=a.i(602150),g=a.i(926437),h=a.i(83566),i=a.i(210299),j=a.i(674864),k=a.i(991282),l=a.i(787199),m=a.i(179869),n=a.i(583958),o=a.i(322409),p=a.i(621426),q=a.i(248472),r=a.i(69976);function s(){let{alerts:a,unreadCount:s,isLoading:t}=(0,r.useStrategistAlerts)({limit:3}),{score:u,isLoading:v}=(0,r.useCompetitivenessScore)(),w=[{label:"Ask a Question",icon:h.MessageSquare,href:"/dashboard/strategist"},{label:"Build a Strategy",icon:i.Target,href:"/dashboard/strategist?action=strategy"},{label:"Find Opportunities",icon:j.Search,href:"/dashboard/strategist?action=opportunities"},{label:"Pricing Advice",icon:k.Calculator,href:"/dashboard/strategist?action=pricing"}];return(0,b.jsxs)(c.Card,{className:"border-border overflow-hidden",children:[(0,b.jsx)(c.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(g.Sparkles,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(c.CardTitle,{className:"text-lg",children:"Your AI Tender Strategist"}),(0,b.jsx)(c.CardDescription,{className:"text-xs",children:"Personalized guidance and strategy"})]})]}),s>0&&(0,b.jsxs)(e.Badge,{variant:"destructive",className:"gap-1",children:[(0,b.jsx)(l.Bell,{className:"h-3 w-3"}),s]})]})}),(0,b.jsxs)(c.CardContent,{className:"space-y-4",children:[!v&&u&&(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Tender Readiness"}),(0,b.jsxs)("span",{className:"text-lg font-bold text-primary",children:[Math.round(100*u.overall_score),"%"]})]}),(0,b.jsx)(f.Progress,{value:100*u.overall_score,className:"h-2"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Shield,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Compliance"}),(0,b.jsxs)("span",{className:"ml-auto font-medium",children:[Math.round(100*u.compliance_score),"%"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(n.TrendingUp,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Experience"}),(0,b.jsxs)("span",{className:"ml-auto font-medium",children:[Math.round(100*u.experience_score),"%"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.Target,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Win Prob"}),(0,b.jsxs)("span",{className:"ml-auto font-medium",children:[Math.round(100*(u.win_probability||0)),"%"]})]})]})]}),!t&&a.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Recent Alerts"}),(0,b.jsx)(q.default,{href:"/dashboard/strategist?tab=alerts",className:"text-xs text-primary hover:underline",children:"View all"})]}),a.slice(0,2).map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[(0,b.jsx)(o.AlertTriangle,{className:`h-4 w-4 flex-shrink-0 mt-0.5 ${"urgent"===a.priority?"text-destructive":"high"===a.priority?"text-orange-500":"text-muted-foreground"}`}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-foreground line-clamp-1",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1",children:a.message})]})]},a.id))]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:w.map(a=>(0,b.jsx)(q.default,{href:a.href,children:(0,b.jsxs)(d.Button,{variant:"outline",className:"w-full h-auto py-3 px-3 justify-start gap-2 bg-transparent",children:[(0,b.jsx)(a.icon,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{className:"text-xs",children:a.label})]})},a.label))}),(0,b.jsx)(q.default,{href:"/dashboard/strategist",children:(0,b.jsxs)(d.Button,{className:"w-full gap-2",children:[(0,b.jsx)(g.Sparkles,{className:"h-4 w-4"}),"Open AI Strategist",(0,b.jsx)(m.ChevronRight,{className:"h-4 w-4 ml-auto"})]})})]})]})}a.s(["StrategistDashboardWidget",()=>s])},300497,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__53c17665._.js"].map(b=>a.l(b))).then(()=>b(686251)))},739525,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__02df5d86._.js"].map(b=>a.l(b))).then(()=>b(11661)))}];

//# sourceMappingURL=_5001d532._.js.map