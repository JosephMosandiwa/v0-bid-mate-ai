module.exports=[918622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},193695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},773939,(e,t,r)=>{"use strict";var n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={},l={VercelOidcTokenError:()=>d};for(var u in l)n(i,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))o.call(e,r)||void 0===r||n(e,r,{get:()=>t[r],enumerable:!(i=a(t,r))||i.enumerable});return e})(n({},"__esModule",{value:!0}),i);class d extends Error{constructor(e,t){super(e),this.name="VercelOidcTokenError",this.cause=t}toString(){return this.cause?`${this.name}: ${this.message}: ${this.cause}`:`${this.name}: ${this.message}`}}},259071,e=>{"use strict";var t=e.i(248749),r=e.i(219650),n=e.i(508677),a=e.i(615159),s=e.i(548938),o=e.i(273073),i=e.i(129714),l=e.i(403736),u=e.i(817889),d=e.i(428765),c=e.i(762198),p=e.i(117109),h=e.i(590702),g=e.i(462216),v=e.i(539401),m=e.i(222695),f=e.i(193695);e.i(31514);var x=e.i(267074),R=e.i(303826);async function y(e){try{let{messages:t,tenderContext:r}=await e.json();if(!t||0===t.length)return Response.json({error:"Messages are required"},{status:400});console.log("[v0] AI Assistant request received with",t.length,"messages");let n=`You are an expert tender assistant helping users understand and fill out tender documents. 

${r?`Current Tender Context:
Title: ${r.title}
Organization: ${r.organization}
Description: ${r.description}

`:""}

Your role is to:
1. Help users understand tender requirements and evaluation criteria
2. Provide guidance on how to fill out specific sections
3. Suggest improvements to their responses
4. Clarify any confusing terminology or requirements
5. Ensure compliance with tender specifications

Be concise, practical, and specific in your advice. Always reference the tender requirements when providing guidance.`,a=(0,R.convertToModelMessages)([{role:"system",content:n},...t]).map(e=>({role:e.role,content:Array.isArray(e.content)?e.content.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(""):String(e.content)}));return console.log("[v0] Calling OpenAI GPT-4 with",a.length,"messages"),(0,R.streamTextViaProvider)({model:"openai/gpt-4-turbo",messages:a,temperature:.7,maxTokens:2e3,abortSignal:e.signal}).toUIMessageStreamResponse({onFinish:async({isAborted:e})=>{e?console.log("[v0] AI Assistant request aborted"):console.log("[v0] AI Assistant response completed")}})}catch(e){if(console.error("[v0] AI assistant error:",e),e?.message?.includes("API key")||e?.message?.includes("authentication"))return Response.json({error:"OpenAI API key is missing or invalid. Please set `OPENAI_API_KEY` in your environment (e.g. .env.local) or configure your cloud provider's secret store."},{status:403});return Response.json({error:"Failed to process request: "+e.message},{status:500})}}e.s(["POST",()=>y,"maxDuration",0,30],634231);var w=e.i(634231);let E=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/ai-assistant/route",pathname:"/api/ai-assistant",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/ai-assistant/route.ts",nextConfigOutput:"",userland:w}),{workAsyncStorage:A,workUnitAsyncStorage:b,serverHooks:C}=E;function P(){return(0,n.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:b})}async function O(e,t,n){E.isDev&&(0,a.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let R="/api/ai-assistant/route";R=R.replace(/\/index$/,"")||"/";let y=await E.prepare(e,t,{srcPage:R,multiZoneDraftMode:!1});if(!y)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:w,params:A,nextConfig:b,parsedUrl:C,isDraftMode:P,prerenderManifest:O,routerServerContext:T,isOnDemandRevalidate:_,revalidateOnlyGenerated:j,resolvedPathname:S,clientReferenceManifest:k,serverActionsManifest:I}=y,N=(0,l.normalizeAppPath)(R),q=!!(O.dynamicRoutes[N]||O.routes[S]),M=async()=>((null==T?void 0:T.render404)?await T.render404(e,t,C,!1):t.end("This page could not be found"),null);if(q&&!P){let e=!!O.routes[S],t=O.dynamicRoutes[N];if(t&&!1===t.fallback&&!e){if(b.experimental.adapterPath)return await M();throw new f.NoFallbackError}}let H=null;!q||E.isDev||P||(H="/index"===(H=S)?"/":H);let $=!0===E.isDev||!q,U=q&&!$;I&&k&&(0,o.setReferenceManifestsSingleton)({page:R,clientReferenceManifest:k,serverActionsManifest:I,serverModuleMap:(0,i.createServerModuleMap)({serverActionsManifest:I})});let D=e.method||"GET",F=(0,s.getTracer)(),K=F.getActiveScopeSpan(),B={params:A,prerenderManifest:O,renderOpts:{experimental:{authInterrupts:!!b.experimental.authInterrupts},cacheComponents:!!b.cacheComponents,supportsDynamicResponse:$,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:b.cacheLife,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n)=>E.onRequestError(e,t,n,T)},sharedContext:{buildId:w}},V=new u.NodeNextRequest(e),L=new u.NodeNextResponse(t),G=d.NextRequestAdapter.fromNodeNextRequest(V,(0,d.signalFromNodeResponse)(t));try{let o=async e=>E.handle(G,B).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=F.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==c.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${D} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${D} ${R}`)}),i=!!(0,a.getRequestMeta)(e,"minimalMode"),l=async a=>{var s,l;let u=async({previousCacheEntry:r})=>{try{if(!i&&_&&j&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await o(a);e.fetchMetrics=B.renderOpts.fetchMetrics;let l=B.renderOpts.pendingWaitUntil;l&&n.waitUntil&&(n.waitUntil(l),l=void 0);let u=B.renderOpts.collectedTags;if(!q)return await (0,h.sendResponse)(V,L,s,B.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,g.toNodeOutgoingHttpHeaders)(s.headers);u&&(t[m.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==B.renderOpts.collectedRevalidate&&!(B.renderOpts.collectedRevalidate>=m.INFINITE_CACHE)&&B.renderOpts.collectedRevalidate,n=void 0===B.renderOpts.collectedExpire||B.renderOpts.collectedExpire>=m.INFINITE_CACHE?void 0:B.renderOpts.collectedExpire;return{value:{kind:x.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==r?void 0:r.isStale)&&await E.onRequestError(e,t,{routerKind:"App Router",routePath:R,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:_})},T),t}},d=await E.handleResponse({req:e,nextConfig:b,cacheKey:H,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:O,isRoutePPREnabled:!1,isOnDemandRevalidate:_,revalidateOnlyGenerated:j,responseGenerator:u,waitUntil:n.waitUntil,isMinimalMode:i});if(!q)return null;if((null==d||null==(s=d.value)?void 0:s.kind)!==x.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",_?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),P&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let c=(0,g.fromNodeOutgoingHttpHeaders)(d.value.headers);return i&&q||c.delete(m.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||c.get("Cache-Control")||c.set("Cache-Control",(0,v.getCacheControlHeader)(d.cacheControl)),await (0,h.sendResponse)(V,L,new Response(d.value.body,{headers:c,status:d.value.status||200})),null};K?await l(K):await F.withPropagatedContext(e.headers,()=>F.trace(c.BaseServerSpan.handleRequest,{spanName:`${D} ${R}`,kind:s.SpanKind.SERVER,attributes:{"http.method":D,"http.target":e.url}},l))}catch(t){if(t instanceof f.NoFallbackError||await E.onRequestError(e,t,{routerKind:"App Router",routePath:N,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:_})}),q)throw t;return await (0,h.sendResponse)(V,L,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>P,"routeModule",()=>E,"serverHooks",()=>C,"workAsyncStorage",()=>A,"workUnitAsyncStorage",()=>b],259071)},216653,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__a6a8820c._.js"].map(t=>e.l(t))).then(()=>t(439609)))},792892,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__8bbeb9a7._.js"].map(t=>e.l(t))).then(()=>t(927791)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f39dfa8e._.js.map